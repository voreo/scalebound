if(define("window",[],function(){return window}),define("ember",["window"],function(n){return n.Ember}),define("ember-data",["window"],function(n){return n.DS}),!require.specified("jquery")&&window.jQuery&&(define.amd.jQuery=!1,define("jquery",[],function(){return window.jQuery})),define("commerce",[],function(){return window.commerce}),define("extend",["jquery"],function(n){return n.extend}),define("document",[],function(){return document}),define("Math",[],function(){return Math}),define("console",["window"],function(n){var t=n.console||{},i=t.log||function(){};return["log","info","warn","error","trace"].forEach(function(n){t[n]||(t[n]=i)}),t}),define("deferred",["jquery"],function(n){return n.Deferred}),define("when",["jquery"],function(n){return n.when}),define("stack",["window"],function(n){return n.printStackTrace}),define("WinJS",["window"],function(n){return n.WinJS}),define("knockout",["window"],function(n){return n.ko}),define("Handlebars",["window"],function(){return window.Handlebars}),define("WebBlender",["window"],function(){return window.WebBlender}),define("EnterpriseWebBlender",["window"],function(){return window.EnterpriseWebBlender}),window.awa){var jsll=window.awa;define("jsll",[],function(){return jsll});define("cookie",[],function(){return jsll.cookie});define("createGuid",[],function(){return jsll.createGuid});define("ids",[],function(){return jsll.ids});define("vortexEvents",[],function(){return jsll.vortexEvents});define("clickstreamTracker",[],function(){return jsll.ct});define("service",[],function(){return jsll.service})}(function(){var n=document.querySelector('meta[name="is-onerf"]'),t=n&&n.getAttribute("content")==="true";(window.noMwf||t)&&define("mwf",[],function(){return undefined})})();define("optional",[],{load:function(n,t,i){var u=window.requirejs,r=function(n){i(n)},f=function(n){var i=n.requireModules&&n.requireModules[0];console.warn("Could not load optional module: "+i);u.undef(i);define(i,[],function(){return{}});t([i],r)};t([n],r,f)}});
var useOneRfShell;require(["jsll"],function(n){var t=n.cv;t.isInit&&!t.isInit()&&t.init()});
/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */
define("domReady",function(){"use strict";function h(n){for(var t=0;t<n.length;t+=1)n[t](s)}function c(){var n=e;i&&n.length&&(e=[],h(n))}function n(){i||(i=!0,u&&clearInterval(u),c())}function t(n){return i?n(s):e.push(n),t}var o,r,u,f=typeof window!="undefined"&&window.document,i=!f,s=f?document:null,e=[];if(f){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n);r=document.createElement("div");try{o=window.frameElement===null}catch(l){}r.doScroll&&o&&window.external&&(u=setInterval(function(){try{r.doScroll();n()}catch(t){}},30))}document.readyState==="complete"&&n()}return t.version="2.0.1",t.load=function(n,i,r,u){u.isBuild?r(null):t(r)},t});define("oneStoreAjax",["jquery","service"],function(n,t){function i(n){if(n.sendAntiForgeryToken===!0&&r!==null&&(n.additionalHeaders=n.additionalHeaders||{},n.additionalHeaders.__RequestVerificationToken=r),n.captureAntiForgeryToken===!0){var t=n.success;n.success=function(n,i,u){var f=u.getResponseHeader("__RequestVerificationToken");f&&(r=f);t&&t()}}}var r=null;return{post:function(n){return i(n),t.post(n)},get:function(n){return i(n),t.get(n)},put:function(n){return i(n),t.put(n)},del:function(n){return i(n),t.del(n)}}});define("oneStore.locale",["window"],function(n){var t=function(){var t=n.location.pathname.toString();return t.replace(/^\/(..\-..)\/.*/i,"$1").toLowerCase()},i=function(n,t){if(!n||n.indexOf("-")<0)return t||"";var i=n.split("-");return i[i.length-1].toUpperCase()};return{getCurrentLocale:t,getMarketWithDefault:i}});define("oneStore.uriBuilder",[],function(){function n(n,t,i){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),u=n.indexOf("?")!==-1?"&":"?";return n.match(r)?n.replace(r,"$1"+t+"="+i+"$2"):n+u+t+"="+i}function t(n,t){var r=new RegExp("[?&]"+t+"=([^&]*)","i"),i=n.match(r);return i&&i.length>1?i[1]:null}function i(n,t){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),r=n.match(i);return r?r.length>2&&r[2]==="&"?n.replace(i,"$1"):n.replace(i,""):n}return{addOrUpdateQueryParameter:n,getValueOfQueryParameter:t,removeQueryParameter:i,setFlightParameterName:"setswitch"}});define("javascriptExtensions",[],function(){function n(n){return typeof n=="function"}n(Array.prototype.forEach)||(Array.prototype.forEach=function(n,t){for(var r=this.length,i=0;i<r;i++)i in this&&n.call(t,this[i],i,this)});n(Array.prototype.map)||(Array.prototype.map=function(n,t){for(var u=this.length,r=[],i=0;i<u;i++)i in this&&(r[i]=n.call(t,this[i]));return r});Array.prototype.filter||(Array.prototype.filter=function(n){var f=this.length,i,u,t,r;if(typeof n!="function")throw new TypeError;for(i=[],u=arguments[1],t=0;t<f;t++)t in this&&(r=this[t],n.call(u,r,t,this)&&i.push(r));return i});Array.prototype.indexOf||(Array.prototype.indexOf=function(n){for(var t=0;t<this.length;t++)if(this[t]===n)return t;return-1})});require(["javascriptExtensions"],function(){});define("oneStore.optimizely",["window"],function(n){var t=function(t){n.optimizely=n.optimizely||[];n.optimizely.push({type:"event",eventName:t})};return{pushEvent:t}});require(["jquery","oneStore.optimizely"],function(n,t){n(".srv_purchaseButton").click(function(){t.pushEvent("get_the_app")})});define("oneStore.lazyLoad",["jquery","document"],function(n){var t=function(t){n(".cli_lazyImage",t).each(function(){var i=n(this).attr("src"),t=n(this).attr("data-src");i!==t&&n(this).attr("src",t)});n("source[data-srcset]",t).each(function(){var i=n(this).attr("srcset"),t=n(this).attr("data-srcset");i!==t&&n(this).attr("srcset",t)})};return{loadLazyImages:t}});require(["oneStore.lazyLoad","jquery","window","document"],function(n,t,i,r){function u(){i.setTimeout(function(){n.loadLazyImages(r);t(r).trigger("sfw.lazyLoad")},10)}r.readyState==="complete"?u():t(i).load(u)});define("oneStore.userAgent",["window"],function(n){var t=n&&n.navigator&&n.navigator.userAgent&&n.navigator.userAgent.toLowerCase&&n.navigator.userAgent.toLowerCase()||null;return{isFromThresholdDevice:function(){return t&&(t.indexOf("windows nt 6.4")>=0||t.indexOf("windows nt 10")>=0)&&t.indexOf("xbox")<0&&t.indexOf("arm")<0},isFromWinPhone10Device:function(){return t&&(t.indexOf("windows phone 10")>=0||t.indexOf("windows nt 10")>=0&&t.indexOf("arm")>=0)},isFromWin8XDevice:function(){return t&&(t.indexOf("windows nt 6.3")>=0||t.indexOf("windows nt 6.2")>=0||t.indexOf("windows nt 8")>=0)&&t.indexOf("xbox")<0&&t.indexOf("wpdesktop")<0},isFromWinPhone81Device:function(){return t&&(t.indexOf("windows phone 8.1")>=0||t.indexOf("trident/7.0")>=0&&t.indexOf("wpdesktop")>=0)},isFromWinPhone8Device:function(){return t&&(t.indexOf("windows phone 8.0")>=0||t.indexOf("trident/6.0")>=0&&t.indexOf("wpdesktop")>=0)},isFromWinPhone7XDevice:function(){return t&&(t.indexOf("windows phone os 7")>=0||t.indexOf("windows nt 6.1")>=0&&t.indexOf("wp7")>=0)},isFromWindowsDevice:function(){return t&&(t.indexOf("windows")>=0||t.indexOf("wpdesktop")>=0)},isFromXboxOneDevice:function(){return t&&t.indexOf("xbox one")>=0},isFromXboxDevice:function(){return t&&t.indexOf("xbox")>=0},getMsIeVersion:function(){var n=t&&t.indexOf("msie"),r=n>=0;if(r){var u=t.indexOf(";",n),f=t.substring(n,u),i=f.split(" ");if(i&&i.length>1)return i[1]*1}return-1},isIeVersionOrLower:function(n){var t=this.getMsIeVersion();return t>-1&&t<=n}}});define("oneStore.unhide",["jquery"],function(n){function r(t){return typeof t=="string"?n(t):t}function u(n){if(n)return r(n).addClass(t).addClass(i)}function f(n){if(n)return r(n).removeClass(t).removeClass(i)}function s(n,e){if(typeof e=="undefined"&&n){var o=r(n);e=!o.hasClass(t)&&!o.hasClass(i)}e?u(n):f(n)}function e(n){n&&r(n).addClass(t).addClass(i).hide()}function o(n){n&&r(n).removeClass(t).removeClass(i).show()}function h(n,u){if(typeof u=="undefined"&&n){var f=r(n);u=!f.hasClass(t)&&!f.hasClass(i)}u?e(n):o(n)}var t="hidden",i="x-hidden";return{softHide:u,softUnhide:f,softToggle:s,hide:e,unhide:o,toggle:h}});define("oneStore.unhideByUserAgent",["oneStore.userAgent","oneStore.unhide"],function(n,t){function i(i,r){r.Windows10||r.WindowsPhone10||r.Windows81||r.WindowsPhone81||r.Windows8||r.WindowsPhone8||r.WindowsPhone7||r.Xbox?n.isFromThresholdDevice()?r.Windows10?t.unhide(i.GetOnThresholdSelector):(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):n.isFromWinPhone10Device()?r.WindowsPhone10?t.unhide(i.GetOnThresholdSelector):(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):n.isFromWin8XDevice()?r.Windows81||r.Windows8?t.unhide(i.GetOnWin8XSelector):(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):n.isFromWinPhone81Device()?r.WindowsPhone81?t.unhide(i.GetOnPhone81Selector):(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):n.isFromWinPhone8Device()?r.WindowsPhone8?t.unhide(i.GetOnPhoneSelector):(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):n.isFromWinPhone7XDevice()?r.WindowsPhone7?t.unhide(i.GetOnPhoneSelector):(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):n.isFromXboxOneDevice()?r.Xbox?t.unhide(i.GetOnThresholdSelector):(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):n.isFromXboxDevice()?(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):n.isFromWindowsDevice()?(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector)):(t.unhide(i.DoesNotWork),t.unhide(i.DisabledButtonSelector))}return{unhideByUserAgent:i}});define("oneStore.localePicker",["oneStore.uriBuilder","window"],function(n,t){var i="absoluteReturnUrl",r=function(r){if(r&&r.length>0){var u=n.addOrUpdateQueryParameter(r.attr("href"),i,t.location.href);r.attr("href",u)}};return{start:r}});require(["oneStore.localePicker","jquery"],function(n,t){n.start(t("#locale-picker-link"))});define("oneStore.page",["oneStore.uriBuilder","window","jquery"],function(n,t,i){var r="data-skip-items",u="skipitems",f=function(t){i(t).find(".cli_pageLink").each(function(t,f){var o=i(f);o.attr("href",n.addOrUpdateQueryParameter(e(),u,o.attr(r)))})},e=function(){return n.addOrUpdateQueryParameter(t.location.href,"s","store")};return{start:f}});require(["oneStore.page","jquery"],function(n,t){t(function(){var i=t(".srv_pagingBar");i.length&&n.start(i)})});define("oneStore.rank",["oneStore.uriBuilder","window","jquery"],function(n,t){var i="rank",r=function(r){function f(r){var u=n.addOrUpdateQueryParameter(t.location.href,i,r);t.location.href=n.removeQueryParameter(u,"skipitems")}var u=n.getValueOfQueryParameter(t.location.href,i);u!==null&&u!==undefined&&u!==""&&r.val(u);r.change(function(n){f(n.target.value)})};return{start:r}});define("oneStore.scopeSwitcher",["oneStore.uriBuilder","window"],function(n,t){var i=function(n){$(n).find("select").change(function(n){t.open(n.target.value,"_top")});$(n).find("li").on("click",function(n){t.open($(n.target).data("href"),"_top")})};return{start:i}});define("oneStore.search",["window","jquery","clickstreamTracker"],function(n,t,i){var u="query",f="scope",r="ms.searchscope",e=function(e,o){function l(){o&&s.val().length>0&&(n.location.href=o+"?"+u+"="+s.val()+"&"+f+"="+a())}function a(){return c.find("input:checked").val()||"store"}function v(n){e.find(n.target).length<1&&y()}function y(){h&&(t(document).unbind("click",v),c.hide(),h=!1)}function p(){h||(t(document).bind("click",v),c.css("top",e.height()).css("marginLeft",s.css("marginLeft")).outerWidth(s.outerWidth()).show(),h=!0)}var h=!1,s=e.find(".search-text"),c=e.find(".search-scope-elements");e.keypress(function(n){n.keyCode===13&&(l(),i.capturePageAction(n.currentTarget))});e.attr(r,a());s.focus(function(){p()});e.find(".btn-sm").click(function(n){l();i.capturePageAction(n.currentTarget)});c.find("input").click(function(n){e.attr(r,n.target.value)})};return{start:e}});define("oneStore.category",["oneStore.uriBuilder","window","jquery"],function(n,t,i){function f(i,u){for(var o,f=t.location.href,e=0;e<r.length;e++)if(i.toLowerCase()===r[e].toLowerCase())for(o=e;o<r.length;o++)f=n.removeQueryParameter(f,r[o]);u!=="all"&&(f=n.addOrUpdateQueryParameter(f,i,u));f=n.removeQueryParameter(f,"skipitems");t.location.href=f}var r=["cat0","cat1","cat2"],u=function(u,e){e.each(function(n,t){i(t).click(function(){i(this).find(".glyphicon").fadeOut(100,function(){i(this).toggleClass("glyphicon-plus glyphicon-minus").fadeIn(100)});i(t).siblings(".radioGroup").toggle();i(this).closest("ul").parents("ul").find(".nav-group li").toggleClass(function(){return i(this).is(".expanded")?"collapsed":"expanded"})})});r.forEach(function(r){var f=n.getValueOfQueryParameter(t.location.href,r),o=(f?f:"All").toLowerCase(),e=u.filter("[name='"+r+"'][value='"+o+"']");e.length&&i(e).each(function(){i(this).prop("checked",!0)})});u.change(function(n){f(n.target.name,n.target.value)})},e=function(u){u.each(function(u,f){for(var s,h=i(f).data("name"),c=i(f).data("value"),e=t.location.href,o=0;o<r.length;o++)if(h.toLowerCase()===r[o].toLowerCase())for(s=o;s<r.length;s++)e=n.removeQueryParameter(e,r[s]);c!=="all"&&(e=n.addOrUpdateQueryParameter(e,h,c));e=n.removeQueryParameter(e,"skipitems");e=n.removeQueryParameter(e,"rank");f.href=e})};return{start:u,startOneUi:e}});define("oneStore.characterCounter",["jquery"],function(n){function t(t){var s=t.data("character-counter"),r=n(s),u,i;if(!r.length||(u=r.data("text-format"),typeof u=="undefined"))return!1;var f=t.val(),e=f.match(/(\r\n|\n|\r)/g),o=0;return e!=null&&(o=e.length),i=u.replace("{0}",f.length+o),i=i.replace("{1}",t.attr("maxlength")),r.text(i),!0}function i(i){if(t(i)){i.on("input",function(){t(n(this))});i.change(function(){t(n(this))})}}return{initialize:i}});require(["oneStore.characterCounter","jquery"],function(n,t){t(function(){t("input[data-character-counter], textarea[data-character-counter]").each(function(i,r){n.initialize(t(r))})})});define("oneStore.collapseButton",["jquery"],function(n){function t(t){t.click(function(){var r=t.data("alternate-text"),i;t.data("alternate-text",t.text());t.text(r);i=t.data("target");n(i).toggle()})}return{initialize:t}});require(["oneStore.collapseButton","jquery"],function(n,t){t().ready(function(){n.initialize(t(".cli_collapseButton"))})});define("oneStore.refine",["oneStore.category","oneStore.uriBuilder"],function(n,t){var i=function(t,i){t.on("click",function(){i.siblings().toggleClass("notOnPage");i.parents().siblings().toggleClass("notOnPage");t.toggleClass("onlyThingOnPage");i.toggleClass("onlyThingOnPage");$(".close-refiner").toggleClass("onlyThingOnPage");n.start($(".categoryRadio"),$(".categoryTitle"))})},r=function(n,t){n.on("click",function(){t.click()})},u=function(n,t){n.on("click",function(){t.click()})},f=function(n,i){var u=i.split(","),r=window.location.href;u.forEach(function(n){r=t.removeQueryParameter(r,n)});n.attr("href",r)},e=function(n){var i=n.xsRefineControl,r=n.refineListTitle,t=n.xsRefineAction,u=n.searchResultsControl,f=n.xsRefineClose;$([t,f].join()).on("click",function(){return $(i).toggleClass("visible-xs"),$(u).toggleClass("hidden-xs"),!1});$(t).text(r)};return{start:i,end:r,clear:u,clearOneUi:f,initRefineXsOneUi:e}});define("oneStore.ellipsis",["jquery"],function(n){function t(n){var i=n.css("line-height"),r,f;i.indexOf("px")>0?r=parseInt(i,10):(f=parseInt(n.css("font-size"),10),r=parseFloat(i)*f);for(var e=r*2,u="",t=n.text();u!==t&&n.outerHeight()>e;)u=t,t=u.replace(/[\s\-_,]+[^\s\-_,]*?$/,"..."),n.text(t)}var i=function(i){i.each(function(i,r){t(n(r))})};return{start:i,adjustElementText:t}});require(["oneStore.ellipsis","jquery"],function(n,t){n.start(t(".section-carousel .media-header a"))});define("oneStore.images",["jquery","vortexEvents","window"],function(n,t,i){var r=[],u,o=function(){if(r&&r.length>0){var n={event:"failedImages",uri:document.location.href,count:r.length,details:r};r=[];t.sendError(n,!1)}},f,e;n(i).on("load",o);return f=function(t,i,f){u=i;t.each(function(t,i){if(i.onerror==undefined)n(i).on("error",function(){if(n(i).data("lazyLoadFailed")!==1){var t=n(i).closest("[data-bi-id]").attr("data-bi-id")||"";r.push({id:t,src:i.src});i.src=u;n(i).removeClass(f).data("lazyLoadFailed",1)}});if(n(i).is(":visible")&&i.complete==!0&&i.naturalWidth!=undefined&&i.naturalWidth==0&&i.src!=""){var e=n(i).closest("[data-bi-id]").attr("data-bi-id")||"";r.push({id:e,src:i.src});i.src=u;n(i).removeClass(f)}})},e=function(){},{registerFallbackHandler:f,chooseBestImage:e}});define("oneStore.bootstrapDropdown",["jquery"],function(n){function t(t,i){if(t.data("key")!==i){var r=t.find(".dropdown-menu li").filter(function(){return n(this).data("key")===i}),u=r.text();t.data("key",i);t.find("button .cli_caption").text(u);t.find(".dropdown-menu li").removeClass("active");r.addClass("active")}}function i(i){i.each(function(){var i=n(this);i.find(".dropdown-menu li").click(function(r){var f,e,u;r.preventDefault();f=n(this);e=f.data("key");t(i,e);u=i.data("callback");typeof u=="function"&&u(i)})})}function r(t,i){t.each(function(){var t=n(this);t.data("callback",i)})}return{setup:i,setSelectionByKey:t,setCallbackOnAfterSelect:r}});require(["oneStore.bootstrapDropdown"],function(n){n.setup($('[data-item-template="dropdown"]'))});define("oneStore.datePicker",["jquery","oneStore.bootstrapDropdown"],function(n,t){function i(n){var t=new Date(n.getTime());return t.setMonth(t.getMonth()+1),t.setDate(0),t.getDate()}function r(t,i){var r=t.find(".dropdown-menu li");r.filter(function(){return(n(this).data("key")|0)<=i}).show();r.filter(function(){return(n(this).data("key")|0)>i}).hide()}function u(u){u.each(function(){var u=n(this);u.find(".dropdown").each(function(){function s(){var n=u.find(f).data("key"),s=u.find(e).data("key"),h=u.find(o).data("key"),c=i(new Date(h,s,1)),l;n=n>c?c:n;l=new Date(h,s,n);u.data("key",h+"-"+(s+1)+"-"+n);u.data("value",l);r(u.find(f),c);t.setSelectionByKey(u.find(f),n)}var n=u.data("selectors").split(","),f=n[0],e=n[1],o=n[2];u.on("hidden.bs.dropdown",s)})})}return{setup:u}});require(["oneStore.datePicker"],function(n){n.setup($('[data-item-template="date-picker"]'))});require(["clickstreamTracker","cookie","oneStore.uriBuilder","document","jsll"],function(n,t,i,r,u){var e,f,o,s,h;n.setAppId("UniStore");e=t.getCookie("StoreMsaUser")||t.getCookie("StoreAadUser");n.setSignInStatus(e?!0:!1);f=r.createElement("meta");f.name="ms.auth";f.content=e?"1":"0";r.head&&r.head.appendChild(f);r.referrer&&r.referrer.toLowerCase().indexOf("https://login.live")===0&&(o=i.getValueOfQueryParameter(r.referrer,"arurl"),o!==null&&(s=decodeURIComponent(o),n.setReferrer(s)));h=function(){var n=$("meta[name='ms.pagename']").attr("content");return n||(n="Unknown"),n};n.setPageNameCallBack(h);window._IG&&(u.ids.getImpressionGuid=function(){return window._IG});n.init()});define("oneStore.entitlements",["document","jquery","oneStoreAjax","oneStore.storeShell","oneStore.locale"],function(n,t,i,r,u){function e(r){var e=u.getCurrentLocale(),o=u.getMarketWithDefault(e,"US"),s=f.replace("{0}",e.toLowerCase()),h={Products:r,Market:o},c={currentOperationName:"GetProductEntitlements",operationName:"BatchProductEntitlements",serviceName:"Entitlements",url:s,contentType:"application/json",data:JSON.stringify(h),sendAntiForgeryToken:!0};i.post(c).then(function(i){var r=null;i&&i.Items&&i.Items.length>0&&(r=i.Items);t(n).trigger("entitlementLoaded",r)}).always(function(){t(n).trigger("entitlementConfirmed")})}function o(){if(r.isUserSignedInMsa()){var n=t(".cli_hideWhenEntitled,.cli_showWhenEntitled,.cli_showOwnedState,.entitlements").map(function(){var n=t(this).data("product-id");return n?{ProductId:n,ProductType:t(this).data("item-type")||""}:null}).toArray();n.length>0&&e(n)}}var f="/{0}/store/webapi/BatchProductEntitlements";return{initialize:o}});require(["oneStore.entitlements","oneStore.storeShell","jquery"],function(n,t,i){i(function(){n.initialize()})});require(["document","jquery","oneStore.pdpHeaderLoc","oneStore.unhide"],function(n,t,i,r){var u=function(n){var r=i.getLoc().owned;t.each(t(".cli_showOwnedState"),function(i,u){var e=t(u),o=e.data("product-id")||"",f;n.indexOf(o.toUpperCase())!==-1&&(f=e.find("div.c-price"),f.length>0&&f.html(r))})},f=function(n){t(".cli_hideWhenEntitled").each(function(i,u){var f=t(u).data("product-id");f&&n.indexOf(f.toUpperCase())!==-1&&r.hide(u)});t(".cli_showWhenEntitled").each(function(i,u){var f=t(u).data("product-id");f&&n.indexOf(f.toUpperCase())!==-1&&r.unhide(u)})},e=function(n){t(".entitlements").each(function(i,u){var f=t(u).data("product-id");f&&n.indexOf(f.toUpperCase())!==-1&&(r.unhide(".showIfEntitled"),r.hide(".hideIfEntitled"))})};t(n).on("entitlementLoaded",function(){var n,t;!arguments||arguments.length<2||(n=[].slice.call(arguments,1),n&&n.length>0&&(t=n.map(function(n){return n.ProductId.toUpperCase()}),f(t),e(t),u(t)))});t(n).ready(function(){t(".entitlementWithoutQuery").length>0&&(r.unhide(".showIfEntitled"),r.hide(".hideIfEntitled"))})});define("oneStore.Handlebars.helpers",["Handlebars"],function(n){function t(){if(!n){console.log("handlebars missing.");return}n.registerHelper("last",s);n.registerHelper("when",u);n.registerHelper("whenAny",f);n.registerHelper("ifCond",i);n.registerHelper("ifAll",e);n.registerHelper("unlessAll",o);n.registerHelper("stringEqual",r);n.registerHelper("plusOne",h)}function c(i,r){t();var u=n.templates[i];return u||l("cannot find handlebars template: "+i),u(r).replace(/\ufeff/,"")}function l(n){typeof console!="undefined"&&typeof console.log!="undefined"&&console.log(n)}var i=function(n,t,i,r){switch(t){case"==":return n==i?r.fn(this):r.inverse(this);case"===":return n===i?r.fn(this):r.inverse(this);case"<":return n<i?r.fn(this):r.inverse(this);case"<=":return n<=i?r.fn(this):r.inverse(this);case">":return n>i?r.fn(this):r.inverse(this);case">=":return n>=i?r.fn(this):r.inverse(this);case"&&":return n&&i?r.fn(this):r.inverse(this);case"||":return n||i?r.fn(this):r.inverse(this);default:return r.inverse(this)}},r=function(n,t,i){return n.toUpperCase()===t.toUpperCase()?i.fn(this):i.inverse(this)},u=function(n,t,i){return n===t?i.fn(this):i.inverse(this)},f=function(){for(var n=[].slice.apply(arguments),i=n.pop(),u=n[0],r=n.slice(1),t=0;t<r.length;t++)if(u===r[t])return i.fn(this);return i.inverse(this)},e=function(){for(var n=[].slice.apply(arguments),i=n.pop(),r=i.fn,t=0;t<n.length;++t)if(!n[t]){r=i.inverse;break}return r(this)},o=function(){for(var n=[].slice.apply(arguments),i=n.pop(),r=i.fn,t=0;t<n.length;++t)if(n[t]){r=i.inverse;break}return r(this)},s=function(n,t,i){var r=parseInt(n),u=parseInt(t);return(r+1)%u==0?i.fn(this):i.inverse(this)},h=function(n){return n+1};return{register:t,generateHtml:c}});require(["oneStore.Handlebars.helpers"],function(n){n.register()});useOneRfShell=function(){var n=document.querySelector('meta[name="is-onerf"]');return n&&n.getAttribute("content")==="true"}();useOneRfShell?(define("oneStore.storeShell",["jquery","service"],function(n,t){function f(){var t=n("#meControl").data("signinsettings");return t&&t.userData}function e(){var n=f();return n&&n.idp||""}function s(){var n=f();return n&&n.cid||""}function u(){return(n("meta[name=authenticated]").attr("content")||"").toLowerCase()==="true"}function h(){return u()&&e().toLowerCase()===i.Msa}function c(){return u()&&e().toLowerCase()===i.Aad}function o(){var n=s();return"/?idp=default&cid="+n}function l(){n(function(){var n=o(),u;n&&(u={currentOperationName:"GetUserDetails",operationName:"getuserjson",serviceName:"FrontDoor",url:"/store/user/getuserjson"+n,version:"1",contentType:"application/json",noCacheBusting:!0},t.get(u).then(function(n){var t;n!=undefined&&(n.AuthenticationType==="Windows Live ID"?(t={idp:i.Msa,firstName:n.FirstName,lastName:n.LastName,memberName:n.Name,cid:n.PassportCid,maturityRatingAge:n.MaturityRatingAge,authenticatedState:1},r.resolve(t)):n.AuthenticationType==="AAD"&&(t={idp:i.Aad,firstName:n.FirstName,lastName:n.LastName,memberName:n.EmailAddress,cid:n.OrganizationId,authenticatedState:1},r.resolve(t)))},function(){r.reject()}))})}function a(){u()?l():r.reject()}var i={Msa:"msa",Aad:"aad"},r=n.Deferred();return{initShell:a,isUserSignedIn:u,isUserSignedInMsa:h,isUserSignedInAad:c,userInfoLoaded:r.promise(),idpType:i,createUserInfoQueryString:o}}),require(["jquery","oneStore.storeShell"],function(n,t){n(function(){t.initShell()})})):define("oneStore.storeShell",["jquery","cookie","service","clickstreamTracker","vortexEvents","wedcs"],function(n,t,i,r,u,f){function l(){return!!(t.getCookie("StoreMsxUser")||t.getCookie("StoreMsaUser")||t.getCookie("StoreAadUser"))}function a(){return!!(t.getCookie("StoreMsxUser")||t.getCookie("StoreMsaUser"))}function v(){return!!t.getCookie("StoreAadUser")}function c(){return t.getCookie("StoreAadUser")?"/?idp="+t.getCookieKeyValue("StoreAadUser","idp")+"&oid="+t.getCookieKeyValue("StoreAadUser","Oid")+"&tid="+t.getCookieKeyValue("StoreAadUser","Tid"):t.getCookie("StoreMsaUser")?"/?idp="+t.getCookieKeyValue("StoreMsaUser","idp")+"&cid="+t.getCookieKeyValue("StoreMsaUser","Cid"):t.getCookie("StoreMsxUser")?"/?idp="+t.getCookieKeyValue("StoreMsxUser","idp")+"&cid="+t.getCookieKeyValue("StoreMsxUser","Cid"):null}function h(){window.msCommonShell?window.msCommonShell.load(e):window.onShellReadyToLoad=function(){window.onShellReadyToLoad=null;window.msCommonShell.load(e)}}function y(){n(function(){var n=c(),t;n?(t={currentOperationName:"GetUserDetails",operationName:"getuserjson",serviceName:"FrontDoor",url:"/store/user/getuserjson"+n,version:"1",contentType:"application/json",noCacheBusting:!0},i.get(t).then(function(n){var t;n!=undefined&&(n.AuthenticationType==="Windows Live ID"?(t={idp:s.Msa,firstName:n.FirstName,lastName:n.LastName,memberName:n.Name,cid:n.PassportCid,maturityRatingAge:n.MaturityRatingAge,authenticatedState:1},e.meControlOptions=e.meControlOptions||{},e.meControlOptions.userData=t,o.resolve(t)):n.AuthenticationType==="AAD"&&(t={idp:s.Aad,firstName:n.FirstName,lastName:n.LastName,memberName:n.EmailAddress,cid:n.OrganizationId,authenticatedState:1},e.meControlOptions=e.meControlOptions||{},e.meControlOptions.userData=t,o.resolve(t)));h()},function(){o.reject();h()})):h()})}function p(t,i){var r={AS:function(n){return{title:n.Txt}},QuickProduct:function(n){return{title:n.Title,image:n.ImageUrl,target:n.Url}}};return{searchSuggestCallback:function(u){var f={query:u.text,clientId:"7F27B536-CF6B-4C65-8638-A0F8CBDFCA65",scope:"Microsoft",market:i,source:"store",productCount:3};n.ajax({type:"GET",dataType:"json",url:t+"?"+n.param(f),success:function(t){u.response({suggestions:n.map(t.AS.Results,function(n){return n.Suggests.map(r[n.Type])})})}})}}}function w(t,i){if(e={events:{onEventLog:function(n,t){var i,e;n.indexOf("MeControl_")>=0&&t.type&&(t.type==="qos"&&t.success==="0"&&(i={currentOperationName:n,isSuccess:!1,latencyMs:t.duration,errorMessage:t.errorCode+(t.IDPError?":"+t.IDPError:""),requestUri:t.targetUri,serviceName:"MeControl",operationName:n},u.sendApiComplete(i)),t.type=="bici"&&n.indexOf("Ready")<0&&(e={name:n,contentId:n,areaName:"MeControl",targetUri:t.targetUri},r.captureContentPageAction(e),f.CustomEvent(f.Tags.ContentName,n,f.Tags.TargetUri,t.destUri,f.Tags.AreaName,"header",f.Tags.ComponentName,"MeControl")))},onSearch:function(t){var e=t.q.value,o=t.form.value,i=t.action+"?"+n(t).serialize(),u="Search",s={name:u,targetUri:i},h={searchTerm:e,searchScope:o};r.captureContentPageAction(s,h);f.CustomEvent(f.Tags.EventCategory,"4",f.Tags.ContentName,u,f.Tags.TargetUri,i,f.Tags.AreaName,"header")}},currentMenuItemId:i.Id},t){var o=p(t.requestEndpoint,t.locale);e=n.extend(!0,{},e,o)}y()}var s={Msa:"msa",Aad:"aad"},e,o=n.Deferred();return{initShell:w,isUserSignedIn:l,isUserSignedInMsa:a,isUserSignedInAad:v,userInfoLoaded:o.promise(),idpType:s,createUserInfoQueryString:c}});define("oneStore.authUi",["jquery","oneStore.storeShell","oneStore.unhide"],function(n,t,i){function r(){t.isUserSignedIn()&&(i.unhide(".showIfSignedIn"),i.hide(".hideIfSignedIn"),t.isUserSignedInMsa()?(i.unhide(".showIfSignedInMsa"),i.hide(".hideIfSignedInMsa")):t.isUserSignedInAad()&&(i.unhide(".showIfSignedInAad"),i.hide(".hideIfSignedInAad")))}return{updateUiAuthState:r}});require(["jquery","oneStore.authUi"],function(n,t){n(function(){t.updateUiAuthState()})});define("mwfWrapper",["jquery","mwf"],function(n,t){var i=["Alert","Carousel","Checkbox","Combo","CompareChart","ContentToggle","Dialog","Drawer","Flyout","MosaicPlacement","Pivot","ProductPlacement","SelectButton","SupplementalNavigation","Table","Toggle","Tooltip"],r={};i.map(function(n){r[n]={initialized:!1,callbacks:[]}});var e=function(n,t){if(i.indexOf(n)<0){console.err("Component "+n+" doesn't exist");return}r[n].initialized?t():r[n].callbacks.push(t)},u=function(n){var t=r[n];t.initialized=!0;t.callbacks.length&&(t.callbacks.map(function(n){n()}),t.callbacks=[])},f=function(n,i){if(t&&t[n])if(t.ComponentFactory){var r=function(){u(n)};t.ComponentFactory.create([{component:t[n],selector:i,callback:r}])}else t[n].init({selector:i})},o=function(){t?i.map(function(n){f(n,null)}):i.map(function(n){u(n)})};return{mwf:t,mwfReady:e,initMwfComponent:f,setup:o}});require(["mwfWrapper"],function(n){$(function(){n.setup()})});define("oneStore.showMore",["jquery"],function(n){function t(n){return n.toString().indexOf("px")>=0}function r(n){var i=32,r=n.css("line-height"),f,u,e;return t(r)?i=parseInt(r.replace("px","")):(f=parseFloat(r)||1,u=n.css("font-size"),t(u)&&(e=parseInt(u.replace("px","")),i=f*e)),i}function i(n){var t=n.data("toggle-text"),i=n.parent().find(".content");n.data("toggle-text",n.text()).text(t);i.toggleClass("bounded")}function u(t){var f={vp1:320,vp2:540,vp3:768,vp4:992,vp5:1400},u=t.showMoreElements.not(".cli_showMoreBound").addClass("cli_showMoreBound");u.children(".content").each(function(t,i){var u=n(i),e=r(u),o=u.data("vp1-lines")*e;window.innerWidth>f.vp1+60&&(o=u.data("vp2-lines")*e);u.height()>o&&(u.addClass("bounded cli_getsBounded"),u.parent().find("[data-toggle-text]").removeClass("hidden"))});u.children("[data-toggle-text]").on("click",t,function(r){var f=!0;r.preventDefault();t&&typeof t.allowMultiple=="boolean"&&(f=t.allowMultiple);f||u.find(".cli_getsBounded").each(function(t,u){var f;n(u).is(":not(.bounded)")&&(f=n(u).parent().children("[data-toggle-text]"),r.target!==f[0]&&i(f))});i(n(this))})}return{initialize:u}});require(["oneStore.showMore"],function(n){n.initialize({allowMultiple:!1,showMoreElements:$(".showmore").not(".cli_bindReviews .showmore")})});require.config({paths:{jqueryValidate:"//assets.onestore.ms/cdnfiles/external/ajax/jquery.validate/1.13.1/jquery.validate.min"}});define("oneStore.reportAnApp",["jquery","oneStore.storeShell","clickstreamTracker","wedcs"],function(n,t,i,r){function f(t,u){var f=n(".page-header.pdp-header").attr("data-bi-id"),e={ReportApplication:{issueCategory:t,description:u,product:"msa:"+f}};i.capturePageAction(n("#reportanapp-modal-submit").get(0),e);r.CustomEvent(r.Tags.EventCategory,r.EventCategory.ButtonClick,r.Tags.ContentName,"SubmitReport",r.Tags.ProductId,f,r.Tags.ContentId,t)}function u(n){return(n.indexOf("?reportthisapp")!==-1||n.indexOf("&reportthisapp")!==-1)&&t.isUserSignedIn()}function e(t){u(t)&&n("#reportanapp-modal").modal("show")}function o(t){u(t)&&n("#reportanapp-modal-button").trigger("click")}return{submitReport:f,showModalByQueryString:e,showModalByQueryStringMWF:o}});require(["jquery"],function(n){n(function(){n(".srv_writeReportLink").length>0&&require(["jquery","oneStore.reportAnAppValidate","oneStore.bootstrapDropdown"],function(n,t,i){i.setCallbackOnAfterSelect(n('[data-item-template="dropdown"]'),t.syncDropdownFormElement);t.initialize()})})});require(["oneStore.reportAnApp","mwfWrapper"],function(n,t){var i=function(){$(".cli_menu_reportanapp-reason").each(function(n,i){new t.mwf.SelectMenu(i)});$(".cli_openreportlink").click(function(){$("#reportanapp-modal-button").trigger("click")});t.mwfReady("Dialog",function(){n.showModalByQueryStringMWF(window.location.search)})},r=function(){n.showModalByQueryString(window.location.search)};$(function(){t.mwf?i():r()})});define("oneStore.slick",["jquery","oneStore.lazyLoad"],function(n,t){function f(){n(".section-carousel").not(".no-slick,.unifiedChannel .section-carousel, .cli_clientOnlyChannel .section-carousel").each(function(t,i){u(n(i))});n(".media-browser .slide.hide").removeClass("hide");n(".tabbed-media-browser .media-browser").not("simple-media-browser").each(function(t,i){n(i).slick({dots:!0,draggable:!0,infinite:!0,slide:".slide",rtl:r,appendDots:n(i).next(".media-browser-dots")});n(i).slick("slickFilter","."+n(".tabbed-media-browser .tabs li:first-child a[rel]").attr("rel"));n(i).parent().find(".tabs li:first-child a[rel]").addClass("selected")});n(".simple-media-browser.media-browser").each(function(t,i){n(i).slick({dots:!0,draggable:!0,infinite:!0,slide:".slide",rtl:r,appendDots:n(i).next(".media-browser-dots")})});n(".tabs a[rel]").on("click",function(i){i.preventDefault();n(".tabs a[rel]").removeClass("selected");var r=n(this),u="."+r.attr("rel");r.addClass("selected");n(".tabbed-media-browser .media-browser").slick("slickFilter",u).slick("slickGoTo",0);t.loadLazyImages(".tabbed-media-browser .media-browser")})}function u(n){n.hasClass("spotlight")?n.slick({dots:!0,draggable:!0,infinite:!0,slide:".slide",appendDots:n.next(".spotlight-dots"),rtl:r}):n.hasClass("carousel-8")?n.slick({infinite:!1,speed:800,slide:".slide",slidesToShow:8,slidesToScroll:8,rtl:r,appendArrows:n.closest(".section").find(".section-header-arrows"),responsive:[{breakpoint:i.vp4,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:i.vp3,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:i.vp2,settings:{slidesToShow:3,slidesToScroll:3,arrows:!1,dots:!0}},{breakpoint:i.vp1+60,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,dots:!0}}]}):n.hasClass("carousel-6")?n.slick({infinite:!1,speed:800,slide:".slide",slidesToShow:6,slidesToScroll:6,rtl:r,appendArrows:n.closest(".section").find(".section-header-arrows"),responsive:[{breakpoint:i.vp4,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:i.vp2,settings:{slidesToShow:3,slidesToScroll:3,arrows:!1,dots:!0}},{breakpoint:i.vp1+60,settings:{slidesToShow:2,slidesToScroll:2,arrows:!1,dots:!0}}]}):n.hasClass("carousel-5")?n.slick({infinite:!1,speed:800,slide:".slide",slidesToShow:5,slidesToScroll:5,rtl:r,appendArrows:n.closest(".section").find(".section-header-arrows"),responsive:[{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}}]}):n.hasClass("carousel-4")&&n.slick({infinite:!1,speed:800,slide:".slide",slidesToShow:4,slidesToScroll:4,rtl:r,appendArrows:n.closest(".section").find(".section-header-arrows"),responsive:[{breakpoint:i.vp4,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:i.vp3,settings:{slidesToShow:2,slidesToScroll:2}}]})}var i={vp1:320,vp2:540,vp3:768,vp4:992,vp5:1400},r;return typeof n.fn.slick=="undefined"?{loadAll:function(){},loadOne:function(){}}:(r=n("html").attr("dir")==="rtl",{loadAll:f,loadOne:u})});require(["oneStore.slick","console","jquery"],function(n,t,i){if(typeof i.fn.slick=="undefined"){t.log("slick not present. Ignoring initialization.");return}n.loadAll()});define("oneStore.clientChannelUrlBuilder",["jquery","oneStore.uriBuilder","oneStore.ageGate"],function(n,t,i){return function(n,r){var u=n.find(".media-img,.spotlight-img").first(),e,f,s,o;return u.length!==0&&(e=u.data("desired-height"),f=u.data("aspect-ratio"),e&&f||(e=u.width(),f=1,u.closest(".ratio-2-1").length?f=2:(u.closest(".ratio-1-1").length||u.closest(".ratio-movie").length)&&(f=1)),e&&(r=t.addOrUpdateQueryParameter(r,"desiredimageheight",e)),r=t.addOrUpdateQueryParameter(r,"desiredimageaspectratio",f)),s=n.data("version"),o={contractVersion:s,currentOperationName:"Load Channel "+n.data("operation"),operationName:n.data("operation"),serviceName:n.data("service"),version:s,url:r,contentType:"application/json"},i.getAgeAsync().then(function(n){return n.ageProvided&&(o.url=t.addOrUpdateQueryParameter(o.url,"age",n.age)),o})}});define("oneStore.unifiedChannel",["jquery","knockout","service","oneStore.slick","oneStore.clientChannelUrlBuilder","clickstreamTracker","oneStore.storeShell"],function(n,t,i,r,u,f,e){function h(){n(function(){n(".cli_unifiedChannel").each(function(t,i){o("unifiedChannel"+t,n(i))})})}function c(n){n.removeClass("hidden");n.show()}function o(r,f){var h,o,c,l;(f.attr("id",r),h=f.data("service-url"),h)&&(o={items:t.observableArray(),columnSize:t.observable(3)},o.columns=t.computed(function(){for(var i=[],n=[],r=this.columnSize(),t=0,u=this.items().length;t<u;t++)t%r==0&&(i.push(n),n=[]),n.push(this.items()[t]);return n!==[]&&i.push(n),i},o),c=f.data("authuseronly"),l=e.isUserSignedIn(),(!c||l)&&u(f,h).then(function(t){i.get(t).then(function(t){t&&t.Items&&n.each(t.Items,function(n,t){t.index=n+1;t.Description||(t.Description="");o.items.push(t)});s(f,o,!0)},function(){s(f,o,!1)})}))}function s(i,u,f){if(f){t.applyBindings(u,i.get(0));c(i);var e=i.find(".section-carousel");e.length&&(i.replaceWith(i.children()),r.loadOne(n(e).not(".no-slick")))}else i.hide()}return{setup:h,startLoad:o}});require(["oneStore.unifiedChannel"],function(n){n.setup()});define("oneStore.hybridchannel",["jquery","Handlebars","service","oneStore.slick","oneStore.clientChannelUrlBuilder","clickstreamTracker","oneStore.storeShell","oneStore.unhide","mwfWrapper"],function(n,t,i,r,u,f,e,o,s){function c(){n(function(){n(".cli_hybridChannel").each(function(t,i){h("hybridChannel"+t,n(i))})})}function h(n,h,c){var v;h.attr("id",n);var a=h.find(".srv_serverResults"),l=h.find(".srv_ajaxResults"),y=h.data("service-url");if(y){var p=function(){o.unhide(a)},w=t.compile(h.find('script[type="text/x-handlebars-template"]').first().html()),b=e.isUserSignedIn();if(!b){p();return}v=function(t){var i;if(l.html(w(t)),f.capturePartialView(n),require(["oneStore.page"],function(n){n.start(l.find(".srv_pagingBar"))}),a.is(".srv_resultsInPlace")?o.unhide(a):(a.hide(),o.unhide(l)),l.children().length===0&&h.is(".cli_hideIfEmpty"))o.hide(h);else{o.unhide(h);var u=l&&l.data,e=u?l.data("component-init"):null,c=u?l.data("component-selector"):null;e&&s.mwf&&s.initMwfComponent(e,c)}i=h.find(".section-carousel").not(".no-slick");i.length&&r.loadOne(i)};u(h,y).then(function(n){i.get(n).then(function(n){n&&(c?c(n).done(function(n){v(n)}):v(n))},p)})}}return{setup:c,startLoad:h}});require(["oneStore.hybridchannel"],function(n){n.setup()});define("oneStore.bazaarVoice",["jquery"],function(n){function t(n){return"//display.ugc.bazaarvoice.com/static/MicrosoftStore/"+n+"/bvapi.js"}var i=function(i,r){window.$BV?r():n.ajax({url:t(i),cache:!0,dataType:"script",success:function(){n($BV.docReady);r()}})},r=function(n,t){i(n,function(){$BV.ui("rr","inline_ratings",{containerPrefix:"BVRRInlineRating",productIds:t})})};return{inlineRatings:r}});define("oneStore.sort",[],function(){function t(t){var r=t.sortOrder||n.ascending,i,u;return t.arrayToSort.length==0?t.arrayToSort:(i=t.arrayToSort.map(function(n){return{item:n,sortKey:t.sortKey(n)}}),u=typeof i[0].sortKey=="string"?function(n,t){return r*n.sortKey.localeCompare(t.sortKey)}:function(n,t){return n.sortKey==t.sortKey?0:r*(n.sortKey<t.sortKey?-1:1)},i.sort(u),i.map(function(n){return n.item}))}var n={ascending:1,descending:-1};return{sortByKey:t,order:n}});define("oneStore.sortMediaListItems",["jquery","oneStore.sort","oneStore.uriBuilder"],function(n,t,i){var u=function(n,i,r){var f=n.children(),u;u=t.sortByKey({arrayToSort:f.toArray(),sortKey:r,sortOrder:i});n.empty().append(u.slice(0,8));setTimeout(function(){n.append(u.slice(8))})},f=function(n){var t=i.addOrUpdateQueryParameter(window.location.search,"sort",n);!(window.history&&window.history.pushState)||window.history.pushState("","",t)},e=function(t,i,r){u(t,r,function(t){return n("[data-"+i+"]",t).data(i)})},r=function(t,i,r){u(t,r,function(t){var r=n("[data-"+i+"]",t).data(i);return parseFloat(r)})},o=function(n,i){switch(n){case"price-ascending":r(i,"sort-price",t.order.ascending);break;case"price-descending":r(i,"sort-price",t.order.descending);break;case"title-ascending":e(i,"sort-title",t.order.ascending);break;default:r(i,"sort-slot-id",t.order.ascending)}};n.fn.sortMediaListBy=function(n,t){return o(n,this),t&&f(n),this}});define("oneStore.userAuth",["jquery","oneStore.storeShell","service"],function(n,t,i){var u="/store/user/getuserjson",f="/store/user/IsAuthorizedForHbiSa",r="application/json",e=function(){var t=n.Deferred(),i=window.prompt("Please provide RPS ticke from https://unistore-int.www.microsoft.com/store/apps:");return i?t.resolve(i):t.reject(),t.promise()},o=function(){var f=n.Deferred(),e=t.createUserInfoQueryString(),o;return e?(o={currentOperationName:"GetUserDetails",operationName:"getuserjson",serviceName:"OneStore",url:u+e,version:"1",contentType:r,noCacheBusting:!0},i.get(o).then(function(n){n&&n.AuthTicket?f.resolve(n.AuthTicket):f.reject()},f.reject)):f.reject(),f.promise()},s=function(){var u=n.Deferred(),o=t.createUserInfoQueryString(),e;return o?(e={currentOperationName:"CheckUserAuthorizationStatus",operationName:"IsAuthorizedForHbiSa",serviceName:"OneStore",url:f,version:"1",contentType:r,noCacheBusting:!0},i.get(e).then(function(n){n&&n.isAuthorizedForHbiSa?u.resolve(n.isAuthorizedForHbiSa):u.reject()},u.reject)):u.reject(),u.promise()},h=function(n){return n?e():o()};return{getUserTicket:h,isAuthorizedForHbiSa:s}});define("oneStore.blendPurchase",["WebBlender","jquery","oneStore.storeShell","service","jsll","window","mwfWrapper"],function(n,t,i,r,u,f,e){var s="web-blend-purchase-dialog",a="web-blend-purchase-dialog-legacy",v="7",h="blendContainer",o,c=function(){return n||f.WebBlender},l=function(){return t("#"+s).length>0},y=function(){l()?e.mwfReady("Dialog",function(){t('button[data-js-dialog-show="'+s+'"]').trigger("click")}):t.magnificPopup.open({items:{src:"#"+a},type:"inline",modal:!0})},p=function(){l()?t("div.glyph-cancel").trigger("click"):t.magnificPopup.close();o&&c().unregisterMessageHandler(o)},w=function(){var n=456,t=560,i=72,r=100,u=n,e=t;return f.innerWidth<n&&f.innerWidth>r&&(u=f.innerWidth),f.innerHeight<t+i&&f.innerHeight>r&&(e=f.innerHeight-i),{width:u+"px",height:e+"px"}},b=function(n,i){var f=t.Deferred(),r=c(),e;return o&&r.unregisterMessageHandler(o),o=function(n){var i={};try{i=t.parseJSON(n.data)}catch(r){}(i.message==="error"||i.message==="done")&&(p(),i.status==="success"?f.resolve(i):f.reject(i))},r.registerMessageHandler(o),t("#"+h).empty(),e=w(),r.loadSingleItemPurchaseHtml(n.availabilityId,n.productId,n.skuId,null,i,h,n.environment,null,r.clientTypes.UniversalWebStore,n.culture,n.market,u.cv.getValue(),null,null,null,e,v,{layout:"modal"},null),y(),f.promise()};return{open:b}});define("oneStore.userLocalTime",["jquery","oneStore.locale"],function(n,t){function u(n){return Object.prototype.toString.call(n)!=="[object Date]"?!1:!isNaN(n.getTime())}function i(n,i){if(!n)return n;var r=new Date(n),f=t.getCurrentLocale();if(u(r))try{return i?r.toLocaleString(f):r.toLocaleDateString(f)}catch(e){return i?r.toLocaleString():r.toLocaleDateString()}return n}function f(){n(r).each(function(t,r){var u=n(r),f=u.text(),e=i(f,!0);u.html(e).removeClass("hide").removeClass("x-hidden")})}var r=".cli_require-local-time";return{updateDateDisplay:f,convertToLocalDate:i}});require(["oneStore.userLocalTime","jquery"],function(n,t){t(function(){n.updateDateDisplay()})});define("oneStore.overlay",["jquery","mwfWrapper"],function(n,t){var i=function(i,r){var e=n(i),u,f;(e.html(r),u=e.find("[data-component-init]"),u.length)&&(t.mwf?u.each(function(){var i=n(this),r=i.data("component-selector"),u=i.data("component-init");t.initMwfComponent(u,r)}):(f=u.find("[data-component-init='Carousel']"),f.length||require(["carousel","componentFactory"],function(n,t){t.ComponentFactory&&t.ComponentFactory.create&&t.ComponentFactory.create([{component:n.Carousel,selector:f.data("component-selector")}])})))},r=function(t){n(t).html("")},u=function(t,u,f){n.magnificPopup.instance.close=function(){r(u);n.magnificPopup.proto.close.call(this)};n.magnificPopup.instance.open({items:{src:t},type:"inline",modal:!1,showCloseBtn:!0,closeBtnInside:!1,closeOnBgClick:!0,alignTop:!1});i(u,f)};return{show:u}});define("oneStore.imageGallery",["jquery","Handlebars","oneStore.overlay"],function(n,t,i){var u=".cli_screenshotTemplate",r="#mediaGalleryOverlay",f="#mediaGalleryContainer",e=".screenshot-media",o=function(i){var f=n(r).data("slides-json"),e,o;if(f&&f.length)for(e=0;e<f.length;e++)f[0].Index!==i&&f.push(f.shift());return o=t.compile(n(u).find('script[type="text/x-handlebars-template"]').first().html()),o({slides:f})},s=function(){n(e).on("click",function(){var t=n(this).data("trigger-index"),u=o(t);i.show(r,f,u)})};return{setup:s}});require(["jquery","oneStore.imageGallery"],function(n,t){n(t.setup())});define("oneStore.skuSwapper",["jquery","oneStore.unhide"],function(n,t){function i(t){return typeof t=="string"?n(t):t}var r=function(r,u,f){if(r){var o=i(u),s=i(f),e=!0;s.each(function(i,u){var f=n(u),o=f.data("sku")===r.skuId;t.toggle(f,!o);o&&(e=!1)});t.toggle(o,e)}};return{skuChanged:r}});define("oneStore.pdpHeaderLoc",["jquery"],function(n){var t=function(){var t=n(".cli_header_loc").get(0);return t?t.dataset||[].slice.call(t.attributes).reduce(function(n,t){return/^data-/.test(t.name)&&(n[t.name.substr(5)]=t.value),n},{}):{}};return{getLoc:t}});define("oneStore.pdpSkuState",["jquery","Handlebars","oneStore.storeShell","oneStore.unhide","oneStore.userLocalTime"],function(n,t,i,r,u){var l=".cli_skuSelector",nt=".cli_sku-select-button",ot=".cli_sku-select-button.active",st=".cli_availabilities",ht=".cli_availability",e=".cli_availability.active",ct=".cli_skuMenuItemTemplate",lt=".cli_skuDataElementTemplate",at=".cli_availabilityTemplate",vt=".cli_affirmation-message-text",yt=".cli_remediations",a=".cli_skuDropdownSelector",o=".cli_skuMenuItems",tt=".cli_skuSelectorData",f=l+", "+a,it=nt+", .c-menu-item",pt=nt+"{skuData}{availabilityData}, .cli_skuData{skuData}{availabilityData}",v=[],y=[],p=[],rt=!1,wt=function(){return rt},w=function(){return n(f).find(it).length>0},bt=function(){return n(f).find(it).length>1},s=function(){return n(a).length>0},kt=function(){return n(o).find('.c-menu-item a[aria-selected="true"]').first()},c=function(){var t=n(f);return t.length<1?null:{productId:t.data("product-id"),productType:t.data("item-type"),locale:t.data("locale"),market:t.data("market"),purchased:t.data("purchased"),remediationRequired:t.data("remediation-required"),entitlementConfirmed:t.data("entitlement-confirmed"),remediationConfirmed:t.data("remediation-confirmed"),hideActions:t.data("hide-actions"),hasEaAccess:t.data("hasEaAccess"),isOwned:t.data("isOwned"),availabilityUrl:t.data("availability-url")}},dt=function(t,i){n(f).data(t,i)},b=function(n,t){return{productId:n.data("product-id"),productType:n.data("item-type"),remediationRequired:n.data("remediation-required"),remediationConfirmed:n.data("remediation-confirmed"),entitlementConfirmed:n.data("entitlement-confirmed"),skuId:t.data("sku-id"),belongingSkuId:t.find(e).data("belonging-sku-id"),skuTitle:t.data("title"),skuButtonTitle:t.data("button-title"),availabilityId:t.find(e).data("id"),maxQuantity:t.data("maxquantity"),skuPrice:t.find(e).find(".cli_price").html()||"",skuBadge:t.find(e).find(".cli_skuBadge").html()||"",skuDescription:t.find(".cli_desc").text(),purchasable:t.data("purchasable"),repurchasable:t.data("repurchasable"),inventoried:t.data("inventoried"),useCart:t.data("usecart"),inStock:t.data("in-stock"),deliveryDate:t.data("delivery-date"),ctaDisplayType:t.data("cta-display-type"),isTrial:t.data("trial"),isFree:t.data("free"),isPreorder:t.data("preorder"),isInEaVault:t.data("ineavault"),isComingsoon:t.data("comingsoon"),isBundleOnly:t.data("bundleonly"),isNotAvailable:t.data("notavailable"),preorderInfo:t.find(".cli_preorder").html(),upsellOptions:t.find(e).find(".cli_remediations").html(),affirmationMessage:t.find(e).find(".cli_availability-affirmation-message").html(),additionalSale:t.find(e).find(".cli_additionalSale").html(),purchased:t.data("trial")?t.data("purchased"):n.data("purchased"),inventorySkuId:t.data("inventory-sku-id"),imageUrl:t.data("imageuri"),imageAltText:t.data("imagealtext")}},gt=function(){var i=n(a),r=kt().data("target-id"),u=n(tt),t;return!i.length||!r||!u.length?null:(t=u.find("#"+r),!t.length)?null:b(i,t)},ni=function(){var t=n(l),i=t.find(ot);return!t.length||!i.length?null:b(t,i)},ut=function(){return s()?gt():ni()},k=function(n,t){var i=n?'[data-sku-id="'+n+'"]':"",r=t?'[data-availability-id="'+t+'"]':"";return pt.split("{skuData}").join(i).split("{availabilityData}").join(r)},ft=function(t){var s=k(t),r=n(f).find(s),u,i,e,o;if(!r.length)for(u=n(f).find(k()),i=0;i<u.length;i++)if(e=n(u[i]),o=(e.data("merged-skus")||"").split("."),o.indexOf(t)>=0){r=e;break}return r},ti=function(t){var i=k(null,t);return n(f).find(i)},ii=function(i){var h,y,p,w,b,k,l,a,d,v,c,it,e;if(i&&i.length&&s()&&(h=i.filter(function(n){return!n.IsTrial}),h.length)&&(y=n(ct).find('script[type="text/x-handlebars-template"]'),p=n(lt).find('script[type="text/x-handlebars-template"]'),y.length&&p.length)&&(w=t.compile(y.first().html()),b=t.compile(p.first().html()),w&&b)){for(k=n(o).children(),l=0;l<k.length;l++){var g=n(k[l]),rt=g.data("sku-id"),nt=!1;for(a=0;a<h.length;a++)if(h[a].SkuId===rt){nt=!0;break}nt||n(g).remove()}for(d=n("#ParentBundlesSection").length>0,v=!1,c=0;c<h.length;c++)it=n(o).children('[data-sku-id="'+h[c].SkuId+'"]'),it.length||(e=h[c],e.IsBundleOnly=!e.IsPurchasable&&d,e.IsNotAvialable=!e.IsPurchasable&&!d&&(e.IsFirstAvailableDateInPast||!e.IsFirstAvailableDateAvialable),n(o).append(w(e)),n(tt).append(b(e)),v=v||e.IsPreorder);v&&u.updateDateDisplay();r.toggle(f,n(o).children().length<2)}},ri=function(t){var i,r,u;if(t&&t.length&&!s())for(i=0;i<t.length;i++)r=t[i],u=n(l).children('[data-sku-id="'+r.SkuId+'"]'),u.length&&r.EffectiveAvalibility&&u.find(".cli_sku_price_acc").html(r.EffectiveAvalibility.ListPriceText)},ui=function(i,r){var u,f;return!i.length||!r||!r.Id?null:(u=n(at).find('script[type="text/x-handlebars-template"]'),!u.length)?null:(f=t.compile(u.first().html()),!f)?null:(i.find(st).append(f(r)),i.find(e))},fi=function(t){var r=ft(t.SkuId),i;(r.find(ht).each(function(r,u){var f=n(u);f.removeClass("active");t.EffectiveAvalibility&&f.data("id")===t.EffectiveAvalibility.Id&&(i=f,f.addClass("active"))}),i||(i=ui(r,t.EffectiveAvalibility)),i)&&(t.EffectiveAvalibility.UserHasEaAccess&&n(f).data("hasEaAccess",!0),r.data("ineavault",t.EffectiveAvalibility.IsAvailableInVault),r.attr("data-availability-id",t.EffectiveAvalibility.Id),r.data("availability-id",t.EffectiveAvalibility.Id),r.data("free",i.data("free")),r.data("purchasable",i.data("purchasable")),!t.EffectiveAvalibility.AffirmationMessage||(i.find(vt).html(t.EffectiveAvalibility.AffirmationMessage),t.EffectiveAvalibility.ShowRemediationAction||i.find(yt).empty()))},h=function(n){n||(n=ut());v.forEach(function(t){t(n)})},ei=function(){rt=!0;p.forEach(function(n){n()})},et=function(t){var i,u,r;w()&&(i=null,t.availabilityId?i=ti(t.availabilityId):t.skuId&&(i=ft(t.skuId)),i)&&(u=n(f),i.data("trial")?i.data("purchased",!0):u.data("purchased",!0),i.length?r=b(u,i):(r=c(),r.skuId=t.skuId,r.availabilityId=t.availabilityId,r.autoRenew=t.autoRenew),r.licensingRequired=t.licensingRequired,s()?y.forEach(function(n){n(r)}):h())},oi=function(t){var r,i;if(n(f).data("remediation-confirmed",!0),(t||[]).length)for(r=t.length,ii(t),ri(t),i=0;i<r;i++)fi(t[i]);h()},d=function(t,i){t&&n.inArray(t,i)===-1&&i.push(t)},g=function(n,t){if(n){var i=t.indexOf(n);i!==-1&&t.splice(i,1)}},si=function(n){d(n,v)},hi=function(n){g(n,v)},ci=function(n){d(n,y)},li=function(n){g(n,y)},ai=function(n){d(n,p)},vi=function(n){g(n,p)};return n(function(){if(w()){var t=c();if(t.hideActions)if(i.isUserSignedInMsa())n(document).on("entitlementConfirmed",function(){n(f).data("entitlement-confirmed",!0);h()});else n(f).data("entitlement-confirmed",!0).data("remediation-confirmed",!0),h();n(document).on("entitlementLoaded",function(){var t,n;if(arguments&&arguments.length>1){var i=[].slice.call(arguments,1),r=c(),u=r.productId.toUpperCase();for(t=0;t<i.length;t++)n=i[t],n&&u===(n.ProductId||"").toUpperCase()&&et({skuId:n.SkuId,autoRenew:n.AutoRenew,licensingRequired:n.LicensingRequired})}ei()})}}),{hasSku:w,hasMultipleSkus:bt,isDropdownStyle:s,skuUpdated:h,registerSkuUpdated:si,unregisterSkuUpdated:hi,registerPurchasedUpdated:ci,unregisterPurchasedUpdated:li,registerEntitlementProcessComplete:ai,unregisterEntitlementProcessComplete:vi,getCurrentProduct:c,getCurrentActiveSku:ut,updateSkuEligibility:oi,updateProductPurchased:et,setCurrentProductData:dt,isEntitlementProcessComplete:wt}});define("oneStore.pdpEligibility",["jquery","oneStore.pdpSkuState","service","oneStore.storeShell"],function(n,t,i,r){var u="/{0}/store/webapi/UserEligibilities",f=function(n,t,r){var f=u.replace("{0}",n.toLowerCase()),e;return f+="?market="+t.toLowerCase(),f+="&productid="+window.encodeURIComponent(r.toLowerCase()),e={operationName:"GetUserEligibility",serviceName:"Catalog",url:f,contentType:"application/json"},i.post(e)},e=function(){var i=t.getCurrentProduct();i&&i.remediationRequired&&!i.remediationConfirmed&&(r.isUserSignedInMsa()?n.when(r.userInfoLoaded).then(function(n){n.idp===r.idpType.Msa&&f(i.locale,i.market,i.productId).then(function(n){t.updateSkuEligibility(n)},function(){t.updateSkuEligibility()})},function(){t.updateSkuEligibility()}):t.updateSkuEligibility())};return{initialize:e}});require(["oneStore.pdpEligibility","jquery"],function(n,t){t(function(){n.initialize()})});define("oneStore.pdpBuyButtonSkuVariation",["jquery","oneStore.pdpHeaderLoc","oneStore.unhide","oneStore.pdpSkuState"],function(n,t,i,r){var p="disabled",w=".price-info div.price-text",b=".price-info div.srv_countdown",s=".cli_pdp-buy-button",h=".cli_pdp-trial-button",c=".cli_pdp-manage-button",k=".cli_additional-purchase-info",d=".cli_product_message",l=".cli_upsell-options",a=".cli_affirmation-message",v=".srv_iapNotification",g=".disclaimer_pass_required",e=".pdp-action-buttons",y=".cli_additionalSaleButton",f=[],nt=function(){f.forEach(function(n){n()})},tt=function(t){t&&n.inArray(t,f)===-1&&f.push(t)},it=function(n){if(n){var t=f.indexOf(n);t!==-1&&f.splice(t,1)}},u=function(n,t,r,u,f,e){n.text(t).prop(p,!r);n.data("use-action-url",f||n.data("use-action-url"));n.data("native-store",e);i.toggle(n,u||!1)},o=function(r,f){var l=n(d),e,s,a,o,h;if(i.hide(l),e=t.getLoc(),f.purchased&&f.productType==="Pass"){s=n(c);s.length>0?(u(r,f.useCart?e.addtocart:e.buynow,!0,!1,!1),u(s,e.manage,!0,!1,!0)):u(r,e.manage,!0,!1,!0);return}if(f.purchased&&!f.repurchasable){u(r,e.purchased,!1);return}if(f.productType==="Bundle"){u(r,e.buildabundle,!1);return}if(a=r.data("action-url"),a&&f.productType!=="Pass"){u(r,e.buynow,!0);return}if(o="",o=f.isPreorder?e.preorder:f.isTrial?e.trial:f.productType!=="Pass"||f.useCart?f.inventoried||f.useCart?f.ctaDisplayType==="DigitalGoods"?e.buynowanddownload:e.addtocart:e.buynow:e.join,!f.purchasable){if(f.isBundleOnly){u(r,e.bundleonly,!1,!0);i.unhide(l);return}if(f.isComingsoon){u(r,e.comingsoon,!1);return}if(f.isNotAvailable){u(r,e.notavailable,!1);return}u(r,o,!1);return}if(o=f.isFree?f.isTrial?e.freetrial:e.free:o,!f.inventoried){u(r,o,!0);return}h=f.inStock!==!1;o=h?o:e.outofstock;u(r,o,h)},rt=function(t){if(t){var i=n(e);i.find(y).remove();i.append(t.additionalSale)}},ut=function(t){var f,u;t&&((f=r.getCurrentProduct(),f.isOwned)||(u=n(s),u.data("free",t.isFree),u.data("sku-id",t.belongingSkuId||t.skuId),u.data("availability-id",t.availabilityId),u.data("use-cart",t.useCart),n(k).html(t.preorderInfo||""),n(l).html(t.upsellOptions||""),n(a).html(t.affirmationMessage||""),o(u,t),rt(t),i.toggle(n(v),t.isNotAvailable||t.isBundleOnly||!1),t.entitlementConfirmed&&(!t.remediationRequired||t.remediationRequired&&t.remediationConfirmed)&&i.unhide(e),nt()))},ft=function(t){t&&o(n(s),t)},et=function(t){t&&o(n(h),t)},ot=function(f){var o=t.getLoc();n('[data-button-type="buy-button"]').each(function(t,s){var p=n(s),it=p.data("sku-id"),ut=p.data("availability-id"),d,k,nt,rt,tt;f&&(f.skuId===it||f.belongingSkuId===it||f.availabilityId===ut)&&f.purchased&&!f.repurchasable&&(d=n(g),k=!1,window.oneStoreUserAgent&&window.oneStoreUserAgent().isFromThresholdDevice&&(k=window.oneStoreUserAgent().isFromThresholdDevice()),nt=p.data("xpa"),f.isTrial?(rt=r.getCurrentProduct(),rt.isOwned||(nt&&k?u(p,o.playonpc,!0,!1,!1,!0):u(p,o.purchasedtrial,!1),i.hide(d))):(nt&&k?(u(p,o.playonpc,!0,!1,!1,!0),i.unhide(e)):u(p,o.purchased,!1,!0),u(n(h),o.purchased,!1,!0),i.hide(n(y)),i.hide(n(v)),i.hide(d),n(w).html(o.purchased),n(b).html(""),n(l).html(""),n(a).html(""),r.setCurrentProductData("isOwned",!0)));f&&f.purchased&&f.productType==="Pass"&&(tt=n(c),tt.length>0?(u(p,o.buynow,!0,!1,!1),u(tt,o.manage,!0,!1,!0)):u(p,o.manage,!0,!1,!0))})};return{updateBuyButton:ut,updateBuyButtonState:ft,updateTrialButtonState:et,updateButtonPurchased:ot,registerOfferUpdated:tt,unregisterOfferUpdated:it}});require(["jquery","oneStore.pdpBuyButtonSkuVariation","oneStore.pdpSkuState"],function(n,t,i){n(function(){i.hasSku()&&(i.registerSkuUpdated(t.updateBuyButton),t.updateBuyButton(i.getCurrentActiveSku()),i.isDropdownStyle()&&i.registerPurchasedUpdated(t.updateButtonPurchased))})});define("oneStore.pdpContentSkuVariation",["jquery","oneStore.unhide","oneStore.pdpSkuState","oneStore.pdpHeaderLoc"],function(n,t,i,r){var u=function(i){n(".cli_skuMediaBrowser").each(function(r,u){var f=n(u),e=f.data("sku-id");t.softToggle(f,e!==i.skuId)})},f=function(i){var u=n(".cli_promiseDate");if(u.length){var o=r.getLoc(),e=u.find(".cli_promiseRelease"),s=u.find(".cli_promiseReleaseDate"),f=u.find(".cli_promiseMessage");i.inStock&&i.deliveryDate?(i.isPreorder?(s.html(i.deliveryDate),f.html(o.promisedatepreorder),t.softUnhide(e)):(t.softHide(e),f.html(o.promisedate.replace("{0}",i.deliveryDate))),t.softUnhide(f)):(t.softHide(e),t.softHide(f))}},e=function(n){if(!n)return!1;var t=(n.productType||"").toUpperCase();return t==="DEVICE"||t==="SOFTWARE"},o=function(r){var o,s,h;r&&((o=i.getCurrentProduct(),o.isOwned)||(n(".price-info").html(r.skuPrice),n(".cli_badge").html(r.skuBadge),s=o.hasEaAccess||!1,h=!s||!r.isInEaVault,t.toggle(n(".price-info div.ea-vault-message"),h),n(".cli_short-description").text(r.skuDescription),e(r)&&n("#page-title").text(r.skuTitle),u(r),f(r)))};return{updateContent:o}});require(["jquery","oneStore.pdpContentSkuVariation","oneStore.pdpSkuState"],function(n,t,i){n(function(){i.hasSku()&&(i.registerSkuUpdated(t.updateContent),t.updateContent(i.getCurrentActiveSku()))})});define("oneStore.pdpUrlSkuVariation",["window"],function(n){var t=function(n,t,i){var r=n.toLowerCase().indexOf(t.toLowerCase())+t.length;return n.substring(0,r)+"/"+i},i=function(i){if(n.history&&n.history.replaceState&&i&&i.productId&&i.skuId){var r=t(n.location.pathname,i.productId,i.skuId),u=r+n.location.search;n.history.replaceState(null,null,u)}};return{updatePageUrlBySku:i}});require(["jquery","oneStore.pdpUrlSkuVariation","oneStore.pdpSkuState"],function(n,t,i){n(function(){i.hasMultipleSkus()&&(i.registerSkuUpdated(t.updatePageUrlBySku),t.updatePageUrlBySku(i.getCurrentActiveSku()))})});require(["oneStore.pdpSkuState","oneStore.skuSwapper"],function(n,t){var i=function(n){t.skuChanged(n,".cli_bundled-sku",".cli_sku-variation")};n.hasMultipleSkus()&&n.registerSkuUpdated(i);n.hasSku()&&i(n.getCurrentActiveSku())});require(["oneStore.pdpSkuState","oneStore.skuSwapper","jquery"],function(n,t,i){var r=function(n){t.skuChanged(n,".cli_disclaimers",".cli_sku-disclaimers")};i(function(){n.hasMultipleSkus()&&n.registerSkuUpdated(r);n.hasSku()&&r(n.getCurrentActiveSku())})});require(["oneStore.pdpSkuState","oneStore.skuSwapper","jquery"],function(n,t,i){var r=function(n){t.skuChanged(n,".cli_specifications",".cli_sku-variation")};i(function(){n.hasMultipleSkus()&&n.registerSkuUpdated(r);n.hasSku()&&r(n.getCurrentActiveSku())})});define("oneStore.inventory",["deferred","service","vortexEvents"],function(n,t,i){var r=function(n){var t={event:"InventoryApiCallResponseError",uri:document.location.href,details:n};i.sendError(t,!1)},u=function(n,t){function r(t){return n[t]?Object.keys(n[t]).filter(function(i){return n[t][i]}).map(function(i){return{name:i,data:n[t][i]}}):null}var i,u,f;return n?(i=null,t?i=r("futureLots"):(u=r("availableLots"),f=r("futureLots"),(u||f)&&(i=(u||[]).concat(f||[]))),i):null},f=function(i,f){var e=n(),o;return!f||!f.availabilityUrl||!i||!i.length?e.reject().promise():(o={operationName:"QueryInventory",serviceName:"Inventory",contentType:"application/json",url:f.availabilityUrl,data:JSON.stringify(i)},t.post(o).then(function(n){i.map(function(t){var i=(n.availabilities||[]).filter(function(n){return n.distributorSkuId===t.distributorSkuId}),r,f;i.length&&(r=i[0],f=u(r,t.preorder),t.inventory=f)});e.resolve(i)},function(n,t,u){return n.status===404?e.resolve(i):(r(t+", "+u),e.reject())}),e.promise())};return{queryInventory:f}});define("oneStore.pdpSkuSelector",["jquery","oneStore.pdpSkuState","mwfWrapper"],function(n,t,i){var r=".cli_sku-select-button",s=".cli_skuDropdownSelector",e=".cli_skuMenuItems",o=".cli_skuMenuItem",u="aria-checked",f="aria-selected",h=function(t){n(e).find(o+"["+t+'="true"]').attr(u,!0).attr(f,!0);n(e).find(o+"["+t+'!="true"]').attr(u,!1).attr(f,!1)},c=function(){n(r).each(function(i,u){var f=n(u);f.click(function(){f.hasClass("active")||(n(r).removeClass("active"),n(r).attr("aria-pressed","false"),f.addClass("active"),f.attr("aria-pressed","true"),t.skuUpdated())})})},l=function(){var e=n(s).get(0),o={onSelectionChanged:function(n){var i=n.hasOwnProperty("id")?f:u;h(i);t.skuUpdated()}},r=null;i.mwf?(r=new i.mwf.SelectMenu(e),r.subscribe(o)):require.specified("selectMenu")&&require(["selectMenu"],function(n){r=new n.SelectMenu(e);r.subscribe(o)})},a=function(){t.isDropdownStyle()?l():c()};return{setup:a}});require(["oneStore.pdpSkuSelector","oneStore.pdpSkuState","jquery"],function(n,t,i){i(function(){t.hasMultipleSkus()&&n.setup()})});define("oneStore.livePerson",function(){function n(n,t,i){i.section&&n("page","Section",i.section);i.category&&n("page","category",i.category);n("page","TestOrder","false");n("session","SOPage","&ln="+i.locality);n("session","language",i.locality);n("page","unit",i.unit);t.defaultInvite="chat-store-"+i.unit+"-"+i.locality}return{enable:n}});var varSegmentation=0,varClickTracking=1,varCustomerTracking=0,varAutoFirePV=1,varDisableServerFPC=1,Route="UniStore",Ctrl="AppStore";define("wedcs",["window","document"],function(n,t){var i=t.referrer,r=function(){typeof n.MscomCustomEvent!="undefined"&&n.MscomCustomEvent.apply(this,arguments)},u=function(){var t=n.location.pathname+(n.location.hash&&n.location.hash.replace("#","").replace("?",""));n.varSinglePageAppPathName=t},f=function(t){i=t;typeof n.MscomSetReferrer!="undefined"&&n.wcs&&(n.MscomSetReferrer=function(){n.wcs["wcs.r"]=i})};return{CustomEvent:r,Tags:{EventCategory:"wcs.cot",ContentName:"wcs.cn",ContentId:"wcs.cid",TargetUri:"wcs.ct",AreaName:"ms.pgarea",Title:"ms.title",ComponentGroup:"ms.cmpgrp",ComponentName:"ms.cmpnm",OrderRevenue:"ms.order_revenue",Currency:"ms.currency",OrderId:"ms.order_id",SkuNumber:"ms.ms_sales_part_number",OrderQuantity:"ms.ms_sales_part_quantity",Language:"ms.lang",Market:"ms.loc",SiteName:"ms.sitename",PageType:"ms.pagetype",PageName:"ms.pagename",PageTitle:"wcs.t",UriStem:"wcs.rsus",Ctrl:"wcs.ctrl",Route:"wcs.route",ProductType:"ms.prod_type",ProductCategory:"ms.prod_cat",ProductSubCategory:"ms.prod_sbcat",ProductPrimaryCategory:"ms.prod_prcat",ProductId:"ms.prod_id",ProductName:"ms.prod",PiType:"ms.pitype",PiMethod:"ms.pimethod",TokenValue:"ms.tokenvalue",TokenType:"ms.tokentype",Referrer:"wcs.r"},EventCategory:{PageView:"0",LinkClick:"1",ImageClick:"2",AreaClick:"3",ButtonClick:"4"},InteractionType:{OnPageNav:"14"},SetUriStemForSinglePageApp:u,OverrideReferrerUri:f}});define("oneStore.ageGate",["jquery","cookie","oneStore.storeShell"],function(n,t,i){var r=n.Deferred(),u=!1,f="maturityRatingAge",e=7;return{setAge:function(n){t.setCookie(f,n);r.resolve({age:n,ageProvided:!0});u=!0},getAgeAsync:function(){if(!u){u=!0;var o=0,s;i.isUserSignedIn()?n.when(i.userInfoLoaded).then(function(n){s=n.hasOwnProperty("maturityRatingAge")&&n.maturityRatingAge!==-1;s?o=n.maturityRatingAge:(o=t.getCookie(f),s=typeof o=="string");r.resolve({age:o|0,ageProvided:s})},function(){r.resolve({age:e,ageProvided:!1})}):(o=t.getCookie(f),s=typeof o=="string",r.resolve({age:o|0,ageProvided:s}))}return r.promise()}}});define("onestore.ageGate.calculator",[],function(){return{ageFromDate:function(n,t){var i=t.getYear()-n.getYear()-1;return t.getMonth()>n.getMonth()?i++:t.getMonth()===n.getMonth()&&t.getDate()>=n.getDate()&&i++,i<=0?0:i}}});define("oneStore.ageGate.prompt",["jquery","onestore.ageGate.calculator","oneStore.ageGate.OneUI3.Dropdowns"],function(n,t,i){var r=7;return{queryAgeAsync:function(u){var f=n.Deferred();return u.find(".cli_age_gate_prompt button.cli_submit").click(function(){var n=u.find('[data-item-template="date-picker"]').data("value")||i.getBirthday()||new Date,e=t.ageFromDate(n,new Date)||r;f.resolve(e)}),f.promise()}}});define("oneStore.ageGate.UI",["jquery","oneStore.ageGate","oneStore.ageGate.prompt","oneStore.unhide"],function(n,t,i,r){function o(){n(".full_page_age_gating").removeClass("full_page_age_gating")}function s(){n(function(){n(".cli_content_with_age_gate").each(function(t,i){e(n(i))})})}function u(n,t){r.hide(n.find(".cli_age_gate"));r.unhide(n.find(t));n.find(t).css("visibility","inherit")}function f(n,t){r.unhide(".cli_full_page_age_gate");r.hide(n.find(".cli_age_gate .cli_screen"));r.unhide(n.find(t))}function e(r){function h(n,t){!!t&&s<=n?(o(),u(r,".cli_age_gate_content")):f(r,".cli_age_gate_blocked")}var s=0,e=r.find(".cli_minimal_age");if(e.length<1&&(e=n("#minimal_age_for_content_rating")),e.length>0&&(s=n(e).data("minimal-age")|0),s<1){u(r,".cli_age_gate_content");return}t.getAgeAsync().then(function(u){if(u.ageProvided&&u.age&&u.age>-1)h(u.age,u.ageProvided);else{var e=r.find(".cli_age_gate").data("dob-missing-behavior")==="Prompt";e?(f(r,".cli_age_gate_prompt"),i.queryAgeAsync(r).then(function(n){t.setAge(n);h(n,!0)},function(){h(0,!1)})):n(".cli_content_with_age_gate").each(function(t,i){n(i).hide()})}})}return{setup:s,startLoad:e}});define("oneStore.ageGate.OneUI3.Dropdowns",["jquery","mwfWrapper"],function(n,t){function i(t){var i,r;return t?(i=n(t).find('.c-menu-item a[aria-checked="true"]'),i.length||(i=n(t).find('.c-menu-item a[aria-selected="true"]')),r=i.parent().data("key"),parseInt(r)):0}function e(n,t,e,o,s){n.create([{component:t,selector:e,callback:function(n){n&&n.length&&n[0].subscribe({onSelectionChanged:function(){r=i("#ageGateDay")}})}},{component:t,selector:o,callback:function(n){n&&n.length&&n[0].subscribe({onSelectionChanged:function(){u=i("#ageGateMonth")}})}},{component:t,selector:s,callback:function(n){n&&n.length&&n[0].subscribe({onSelectionChanged:function(){f=i("#ageGateYear")}})}}])}function o(){var i="#ageGateMonth",r="#ageGateDay",u="#ageGateYear";t.mwf?n(function(){e(t.mwf.ComponentFactory,t.mwf.SelectMenu,r,i,u)}):require(["componentFactory","selectMenu"],function(n,t){e(n.ComponentFactory,t.SelectMenu,r,i,u)})}function s(){return new Date(f,u,r)}var r=1,u=0,f=(new Date).getFullYear();return{setup:o,getBirthday:s}});require(["oneStore.ageGate.UI","oneStore.ageGate.OneUI3.Dropdowns"],function(n,t){t.setup();n.setup()});define("oneStore.screenshots.dropdown",["jquery","mwfWrapper"],function(n,t){function u(t){if(!t)return 0;var i=n(t).find('.c-menu-item a[aria-checked="true"]');return i.parent().data("key")}function r(n,t){var r=new n.SelectMenu(t);r.subscribe({onSelectionChanged:function(){i&&i(u("#screenshotsModuleDropdown"))}})}function f(){var i=n("#screenshotsModuleDropdown").get(0);i&&(t.mwf?n(function(){r(t.mwf,i)}):require(["selectMenu"],function(n){r(n,i)}))}function e(n){i=n}var i;return{setup:f,registerOnChange:e}});define("oneStore.screenshots.gallery",["jquery","oneStore.screenshots.dropdown","oneStore.unhide"],function(n,t,i){function r(t){if(t){i.hide(n(".cli_screenshot_gallery"));var r=n(".cli_gallery_jsons").find(".cli_gallery_json[data-key='"+t+"']").data("slides-json");n("#mediaGalleryOverlay").data("slides-json",r);i.unhide(n(".cli_screenshot_gallery[data-key='"+t+"']"))}}function u(){t.setup();t.registerOnChange(r)}return{setup:u}});require(["oneStore.screenshots.gallery"],function(n){n.setup()});define("oneStore.footerLinks",["jquery"],function(n){function f(){var n=u.find("span:visible").attr("class");return n!=="desktop"}function e(){n(".footer-links .list-of-links h3").each(function(){var u=n(this),e=u.find(".icon");n(this).click(function(n){var o=e.hasClass(t);n.preventDefault();f()&&(u.parent().find("ul").slideToggle("fast"),u.toggleClass(r),o?e.addClass(i).removeClass(t):e.addClass(t).removeClass(i))})})}var r="active",t="icon-chevron-up",i="icon-chevron-down",u=n(".viewport-detector");return{init:e}});define("oneStore.reviewValidate",["jquery","oneStore.reviews","oneStore.unhide","jqueryValidate"],function(n,t,i){var f=n(".store-context-create-review").length===0,u=function(){n("#rating-modal-headline, #rating-modal-text, #rating-value, #platform-value").valid()},r=function(n){return n.ratingValueElement.val()>0?n.element.val()===""?n.compareToElement.val()!=="":!0:!1},e=function(){function o(t,i){var u,r;i.preventDefault();u=t.data("display-caption")||t.text();n("#"+t.data("query-key")).text(u);r=t.closest(".c-select-menu");r.find(".cli_caption").attr("aria-expanded","false");r.find("ul").attr("aria-hidden","true");r.find("a").removeAttr("aria-checked");t.attr("aria-checked","true")}var e=n("#rating-value");n(".submit-review").validate({rules:{"rating-modal-text":{required:{depends:function(t){return r({element:n(t),compareToElement:n("#rating-modal-headline"),ratingValueElement:e})},maxlength:1e3}},"rating-modal-headline":{required:{depends:function(t){return r({element:n(t),compareToElement:n("#rating-modal-text"),ratingValueElement:e})},maxlength:55}},"rating-value":{required:!0,min:1},"platform-value":{required:!0}},onfocusout:function(){u()},onclick:function(){u()},errorClass:"has-error",errorPlacement:function(t,i){var r=n(i).siblings(".cli_label:first");r.text(r.data("errorText")).addClass("text-danger")},messages:{"rating-modal-headline":n("#rating-modal-headline").data("errorText"),"rating-modal-text":n("#rating-modal-text").data("errorText"),"rating-value":n("#rating-value").data("errorText"),"platform-value":n("#platform-value").data("errorText")},highlight:function(t){var i=n(t).data("label");i?n(i).addClass("text-danger"):n(t).closest(".cli_label").addClass("text-danger");n(".cli_reviewModalSubmit").addClass("btn-danger")},unhighlight:function(t){var i=n(t).siblings(".cli_label:first");i.text(i.data("defaultText")).removeClass("text-danger");n(t.form).find(".has-error").length>0?n(".cli_reviewModalSubmit").addClass("btn-danger"):n(".cli_reviewModalSubmit").removeClass("btn-danger")},ignore:':hidden:not("*")',submitHandler:function(r,u){u.preventDefault();n(".cli_reviewModalSubmit").removeClass("btn-primary btn-danger").text(n(".cli_reviewModalSubmit").data("submittingText"));n("#rating-modal").addClass("modal-has-progress");t.submitReviewAsync().then(function(){if(n(".srv_writeReviewButton").hide(),i.unhide(".srv_userReviewSection"),n(".cli_reviewModalSubmit").addClass("btn-primary").text(n(".cli_reviewModalSubmit").data("defaultText")),f){n("#rating-modal").trigger("review.modal.submit");n("#rating-modal").removeClass("modal-has-progress").modal("hide");var r=n(".win-rating-stars-input").data("star-rating-value")||0;r&&n(".srv_userReviewSection .rating-stars-value").css("width",20*r+"%")}else t.storeReview(),n("#rating-modal .cli_close").trigger("click")},function(){n("#rating-modal").removeClass("modal-has-progress");n(".cli_reviewModalSubmit").addClass("btn-danger").text(n(".cli_reviewModalSubmit").data("defaultText")).shake(4,10,500)})},invalidHandler:function(){n(".cli_reviewModalSubmit").addClass("btn-danger").shake(4,10,500)}});n(".win-rating-btn").on("mouseenter",function(){n(this).prevAll(".win-rating-btn").addClass("active");n(this).addClass("active");n(this).nextAll(".win-rating-btn").removeClass("active")});n(".win-rating-stars-input").on("mouseleave",function(){var t,i;n(this).find(".win-rating-btn").removeClass("active");t=n(this).data("star-rating-value");t&&(i=n(this).find(".win-rating-btn")[parseInt(t,10)-1],n(i).prevAll(".win-rating-btn").addClass("active"),n(i).addClass("active"))});n(".win-rating-btn").on("click",function(){n(this).parents(".win-rating-stars-input").data("starRatingValue",n(this).val());n("#rating-value").val(n(this).val()).valid();n(this).prevAll(".win-rating-btn").addClass("active");n(this).addClass("active");n("#rating-value").trigger("change")});n(".cli_starRating").click(function(t){o(n(this),t);var i=n("#rating-value");i.attr("value",n(this).data("query-value"));i.trigger("change")});n(".cli_platform").click(function(t){o(n(this),t);var i=n("#platform-value");i.attr("value",n(this).data("query-value"));i.trigger("change")});n("#rating-modal .cli_close").click(function(){t.restoreReview();n("#rating-value").trigger("change");n("#platform-value").trigger("change")});n.fn.shake=function(t,i,r){return this.each(function(){n(this).css("position","relative");for(var u=1;u<=t;u++)n(this).animate({left:i*-1},r/t/4).animate({left:i},r/t/2).animate({left:0},r/t/4)}),this}};return{initialize:e,validateReviewRules:r}});require.config({paths:{jqueryValidate:"//assets.onestore.ms/cdnfiles/external/ajax/jquery.validate/1.13.1/jquery.validate.min"}});define("oneStore.reviews",["jquery","knockout","oneStoreAjax","clickstreamTracker","oneStore.uriBuilder","oneStore.storeShell","oneStore.showMore","oneStore.authUi","mwfWrapper"],function(n,t,i,r,u,f,e,o,s){function ht(n){return n.replace(/[0-9]/g,function(n){return rt[parseInt(n)]})}function kt(n){for(var t=0;t<=9;t++)n=n.replace(rt[t],t);return n}function dt(n,t,r){var u=n+"&reviewId="+t,f;return u+="&isHelpfulVote="+r,f={operationName:"SetHelpfulnessVote",serviceName:"RatingsReviews",url:u,contentType:"application/json",sendAntiForgeryToken:!0},i.post(f)}function gt(n,t,r){var f=u.addOrUpdateQueryParameter(n,"reviewid",t),e;return f=u.addOrUpdateQueryParameter(f,"concerncategory",r),e={operationName:"ReportReview",serviceName:"RatingsReviews",url:f,contentType:"application/json"},i.post(e)}function nt(t,i,r,u){if(r&&u){var f=function(t){return n(t.closest(i.voteClassSelector))},e=function(t){return n(t.closest(i.reviewClassSelector))},o=function(n){var u=function(n){var t=f(n).find(".helpfullness-count");return parseInt(kt(t.text()))},o=function(n,t){var i=f(n).find(".helpfullness-count");i.text(""+ht(t.toString()))},t=e(n).find(i.voteClassSelector+".active"),r;t.length>0&&(r=u(t),o(t,r-1),t.removeClass("active"));r=u(n);o(n,r+1);f(n).addClass("active")};t.find(i.voteClassSelector).each(function(){var t=n(this),i=e(t).data("review-id"),r=f(t).data("vote-text");t.click(function(){var t=n(this);if(f(t).hasClass("active"))return!1;dt(ft,i,r).then(function(){a?o(t):(t.prop("disabled",!0),t.closest(".review").find(".reviewFeedbackStatus").html(n(".srv_reviewFeedbackSuccess").html()))},function(){a||t.closest(".review").find(".reviewFeedbackStatus").html(n(".srv_reviewFeedbackFailure").html())})})})}}function tt(t,i,r){if(r){var u=function(t){return n(t.closest(i.reviewClassSelector))};t.find(".cli_reportReview").each(function(){var t=n(this),i=u(t).data("review-id");t.click(function(r){var u=t.data("query-value");r.preventDefault();gt(et,i,u).then(function(){var i;a?(i=t.closest(".dropdown"),t.closest(".review").find(".icon-flag").toggleClass("icon-flag icon-completed")):(t.closest(".review").find(".reviewFeedbackStatus").html(n(".srv_reviewFeedbackSuccess").html()),i=t.closest(".c-select-menu"),n(this).attr("aria-checked","true"),i.find("a").attr("aria-expanded","false"),i.find("ul").attr("aria-hidden","true"));i.prop("disabled",!0);i.children().prop("disabled",!0);i.css("pointer-events","none")},function(){a||t.closest(".review").find(".reviewFeedbackStatus").html(n(".srv_reviewFeedbackFailure").html())})})})}}function ni(n){n&&n.rating&&(h.rating().averageRatingPercentage(n.rating.averageRatingPercentage),h.rating().averageRating(n.rating.averageRating),h.rating().isProvided(n.rating.isProvided),h.rating().totalRatingsCountText(n.rating.totalRatingsCountText));h.Rating=n.Rating||{};h.locale(n.locale);h.reviewText(n.reviewText||"");h.title(n.title||"");h.deviceTypeId(n.deviceTypeId);h.productId(n.productId);h.reviewId(n.reviewId||"");h.submittedDateTimeFormatted(n.submittedDateTimeFormatted||"");h.isPublished(n.isPublished||!1);n.devResponseIsPresent&&(h.devUserName(n.devUserName||""),h.devReviewText(n.devReviewText||""),h.devSubmittedTime(n.devSubmittedTime||""),h.devResponseIsPresent(n.devResponseIsPresent||!1),h.devResponseId(n.devResponseId||""),h.responseHeader(n.responseHeader||""))}function ti(){var n={currentOperationName:"SubmitReview",operationName:"SubmitReview",serviceName:"RatingsReviews",url:c.submitReviewEndPoint,contentType:"application/json",sendAntiForgeryToken:!0,data:JSON.stringify({Rating:h.rating().averageRating(),Locale:h.locale(),ReviewText:h.reviewText(),Title:h.title(),DeviceTypeId:h.deviceTypeId(),ProductId:h.productId()})};return i.post(n)}function ii(){return ti()}function ct(n,t){lt(n,l>0);lt(t,l+v<b)}function lt(n,t){t?(n.prop("disabled",!1),n.removeClass("disabled"),n.attr("href","#reviewsPagingSection"),a||n.show()):(n.prop("disabled",!0),n.addClass("disabled"),n.removeAttr("href"),a||n.hide())}function ri(){var t=st;p.items().length>0&&(t=ot,t=t.replace("{startingIndex}",l+1),t=t.replace("{endingIndex}",l+p.items().length),t=t.replace("{totalCount}",b.toLocaleString()),t=ht(t));n(".itemRangeDescription").text(t)}function ui(){p.items().length>0?(c.reviewsPanelFooter.show(),c.noReviews.hide()):(c.reviewsPanelFooter.hide(),c.noReviews.show())}function fi(t,i){return n(i).offset().top-n(t).offset().top}function at(){n(".review:visible").sort(fi).slice(0,2).find(".dropdown").toggleClass("dropdown dropup")}function vt(){if(n(window).width()<=320){var t=n(".review:visible").find(".panel-footer");t.each(function(t,i){var r=n(i).find(".dropdown-menu");r.addClass("small")})}}function ut(t,u,f,s){var h=t+"&skipItems="+u,c;h+="&pageSize="+f;c={currentOperationName:"GetMoreReviews",operationName:"Reviews",serviceName:"RatingsReviews",url:h,contentType:"application/json"};i.get(c).then(function(t){t&&t.Items&&(p.items.removeAll(),n.each(t.Items,function(n,t){t.index=n+1;p.items.push(t)}),b=t.TotalCount,s.serverReviewsDiv.remove(),s.clientReviewsDiv.show(),a||(bt(".cli_content_toggle",!0),wt(".cli_menu_reportReview")),ct(s.pagePreviousLink,s.pageNextLink),ri(),nt(s.clientReviewsDiv,s,w,k),tt(s.clientReviewsDiv,s,d),ui(),a&&(e.initialize({allowMultiple:!1,showMoreElements:n(".cli_bindReviews .showmore")}),at(),vt()),o.updateUiAuthState(),typeof r.capturePartialView!="undefined"&&r.capturePartialView("Reviews"))})}function yt(t){var r,i;a?(r=n(".win-rating-stars-input .win-rating-btn")[t-1],n(r).prevAll(".win-rating-btn").addClass("active"),n(r).addClass("active")):(i=n(".srv_userReviewSection .cli_ratingStar")[t-1],n(i).prevAll(".cli_ratingStar").removeClass("f-none").addClass("f-full"),n(i).removeClass("f-none").addClass("f-full"),n(i).nextAll(".cli_ratingStar").removeClass("f-full").addClass("f-none"))}function ei(t){var r={currentOperationName:"GetUserReview",operationName:"UserProductReview",serviceName:"RatingsReviews",url:t,contentType:"application/json",captureAntiForgeryToken:!0};i.get(r).then(function(t){if(t&&t.Items&&t.Items.length>0){var r=t.Items[0],i=r.DeveloperResponse;ni({locale:c.locale,productId:c.productId,rating:{averageRating:r.Rating.AverageRating,averageRatingPercentage:r.Rating.AverageRatingPercentage,isProvided:r.Rating.IsProvided,totalReviewsCountText:r.Rating.TotalRatingsCountText},Rating:r.Rating,title:r.Title,deviceTypeId:r.DeviceTypeId,deviceTypeLocalized:r.DeviceType,isPublished:r.IsPublished,reviewText:r.ReviewText,submittedDateTimeFormatted:r.SubmittedDateTimeFormatted,reviewId:r.ReviewId,devUserName:i&&i.UserName?i.UserName:"",devReviewText:i&&i.ReviewText?i.ReviewText:"",devSubmittedTime:i&&i.SubmittedDateTimeFormatted?i.SubmittedDateTimeFormatted:"",devResponseIsPresent:i&&i.UserId&&i.UserId!==0||!1,devResponseId:i&&i.ReviewId?i.ReviewId:0,responseHeader:i&&i.Title?i.Title:""});n("#rating-value").val(h.rating().averageRating());yt(h.rating().averageRating())}g.resolve(h)},function(){g.reject(h)})}function oi(t){n.when(f.userInfoLoaded).then(function(i){var r=i.firstName,u=n("#rating-modal-username"),e=u.data("textFormat")||"";u.data("userName",i.firstName).text(e.replace("{0}",r));h.userName(r);w&&i.idp===f.idpType.Msa&&t.getUserReviewAjaxUrl&&ei(t.getUserReviewAjaxUrl)})}function si(n){n&&(h.rating=t.observable({averageRatingPercentage:t.observable(n.rating.averageRatingPercentage),averageRating:t.observable(n.rating.averageRating),isProvided:t.observable(n.rating.isProvided),totalRatingsCountText:t.observable(n.rating.totalRatingsCountText)}),h.Rating=n.Rating||{});h.locale=t.observable(n.locale);h.reviewText=t.observable(n.reviewText||"");h.title=t.observable(n.title||"");h.deviceTypeId=t.observable(n.deviceTypeId||"");h.productId=t.observable(n.productId);h.reviewId=t.observable(n.reviewId||0);h.submittedDateTimeFormatted=t.observable(n.submittedDateTimeFormatted||"");h.isPublished=t.observable(n.isPublished||!1);h.devUserName=t.observable(n.devUserName||"");h.devReviewText=t.observable(n.devReviewText||"");h.devSubmittedTime=t.observable(n.devSubmittedTime||"");h.devResponseIsPresent=t.observable(n.devResponseIsPresent||!1);h.devResponseId=t.observable(n.devResponseId||0);h.responseHeader=t.observable(n.responseHeader||"")}function pt(){h.rating().averageRating(h.originalRating);h.rating().averageRatingPercentage(h.originalRatingPercentage);h.reviewText(h.originalReviewText);h.title(h.originalTitle);h.deviceTypeId(h.originalDeviceTypeId)}function it(){h.originalRating=h.rating().averageRating();h.originalRatingPercentage=h.rating().averageRatingPercentage();h.originalReviewText=h.reviewText();h.originalTitle=h.title();h.originalDeviceTypeId=h.deviceTypeId()}function hi(i){c=i;var s=c.clientReviewsDiv,o=c.serverReviewsDiv,g=c.reviewsPagingSection,r=c.reviewHeader,f=c.pageNextLink,e=c.pagePreviousLink,ht=c.filterLinks;if(si({locale:c.locale,productId:c.productId,rating:{averageRatingPercentage:0,averageRating:0,isProvided:!1,totalRatingsCountText:""},title:"",reviewText:"",deviceTypeId:c.defaultPlatform||"",submittedDateTimeFormatted:n("#cli_dateSubmitted").data("defaultText")}),n(".cli_bindUserReview").each(function(){t.applyBindings(h,this)}),oi(c),n("#rating-value").change(function(){var t=n(this).val();h.rating().averageRating(t);yt(t)}),n("#platform-value").change(function(){var t=n(this).val();h.deviceTypeId(t)}),s.length!==0&&g.length!==0)if(v=parseInt(r.data("page-size")),b=parseInt(r.data("max-items")),y=r.data("service-getmorereviews-url"),ot=r.data("item-range-description-format"),st=r.data("item-range-description-no-reviews"),rt=r.data("nativedigits").split(","),k=r.data("is-submithelpfulnessvote-enabled")==="True",ft=r.data("service-submithelpfulnessvote-url"),et=r.data("service-reportreview-url"),d=r.data("is-reportreview-enabled")==="True",n(".cli_bindReviews").each(function(){t.applyBindings(p,this)}),ct(e,f),nt(n(".srv_criticalReviews"),c,w,k),tt(n(".srv_criticalReviews"),c,d),nt(o,c,w,k),tt(o,c,d),f.click(function(){return f.prop("disabled")||(l=l+v,ut(y,l,v,c),n("#reviewsPagingSection")[0].scrollIntoView()),!1}),e.click(function(){return e.prop("disabled")||(l=l>=v?l-v:0,ut(y,l,v,c),n("#reviewsPagingSection")[0].scrollIntoView()),!1}),ht.click(function(){l=0;var t=n(this),i=t.data("display-caption")||t.text();n("#"+t.data("query-key")+" .cli_caption").text(i);y=u.addOrUpdateQueryParameter(y,t.data("query-key"),t.data("query-value"));ut(y,l,v,c)}),n(".srv_histogramItem").click(function(t){l=0;var i=n(this),r=i.data("query-value");n(".cli_menu_starfilter").find("a[data-query-value="+r+"]")[0].click();t.preventDefault()}),at(),vt(),a){n("#rating-modal").on("review.modal.submit",it);n("#rating-modal").on("show.bs.modal",it);n("#rating-modal").on("hide.bs.modal",pt)}else n(".srv_writeReviewButton, .srv_updateReviewButton").click(function(){it();h.rating().averageRating()>0&&n("#rating-modal .cli_starRating").eq(h.rating().averageRating()-1).trigger("click");h.deviceTypeId()&&n("#rating-modal .cli_platform[data-query-value='"+h.deviceTypeId()+"']").trigger("click")})}function wt(t){s.mwf?n(t).each(function(n,t){new s.mwf.SelectMenu(t)}):require(["selectMenu"],function(i){n(t).each(function(n,t){new i.SelectMenu(t)})})}function bt(t,i){s.mwf?i===!0&&n(t).each(function(n,t){new s.mwf.ContentToggle(t)}):require(["contentToggle"],function(i){n(t).each(function(n,t){new i.ContentToggle(t)})})}var l=0,v=0,b=0,y="",ft="",et="",ot="",st="",rt=[],k=!1,d=!1,a=n(".m-ratings-and-reviews").length===0,p={items:t.observableArray([])},h={},c,w,g;return h.userName=t.observable(""),w=f.isUserSignedIn(),g=n.Deferred(),{initialize:hi,createMwfSelectMenu:wt,createMwfContentToggle:bt,prepHelpfulnessVotes:nt,prepReportReview:tt,submitReviewAsync:ii,userReviewLoaded:g.promise(),storeReview:it,restoreReview:pt}});require(["jquery","oneStore.reviews","oneStore.reviewValidate","oneStore.unhide"],function(n,t,i,r){function o(){r.unhide(".srv_userReviewSection");n(".srv_writeReviewButton").hide()}function u(){r.hide(".srv_userReviewSection");n(".srv_writeReviewButton").show()}var f=function(){t.initialize({reviewsPagingSection:n("#reviewsPagingSection"),reviewHeader:n("#reviewHeader"),clientReviewsDiv:n(".cli_reviews"),serverReviewsDiv:n(".srv_reviews"),pageNextLink:n("#reviewsPageNext"),pagePreviousLink:n("#reviewsPagePrevious"),filterLinks:n(".panel-heading .cli_header-menu .dropdown-menu a"),voteClassSelector:".vote a",reviewClassSelector:".review",getUserReviewAjaxUrl:n(".srv_userReviewSection").data("service-getuserreview-url"),locale:n("#ratings-reviews").data("locale"),submitReviewEndPoint:n("#ratings-reviews").data("submit-review-ajax-url"),defaultPlatform:null,productId:n("#ratings-reviews").data("productId"),reviewsPanelFooter:n("#reviewPanelFooter"),noReviews:n("#noReviewsForFilter")})},e=function(){var i=document.querySelector('meta[name="is-onerf"]'),r=i&&i.getAttribute("content")==="true";r||t.createMwfSelectMenu(".cli_menu_reportReview, .cli_menu_orderby, .cli_menu_starfilter, .cli_menu_deviceTypeFilter, .cli_menu_displayMode, .cli_menu_starRating, .cli_menu_platform");t.initialize({reviewsPagingSection:n("#reviewsPagingSection"),reviewHeader:n("#reviewHeader"),clientReviewsDiv:n(".cli_reviews"),serverReviewsDiv:n(".srv_reviews"),pageNextLink:n(".reviewsPageNext"),pagePreviousLink:n(".reviewsPagePrevious"),filterLinks:n(".cli_orderby, .cli_starfilter, .cli_deviceTypeFilter, .cli_displayMode"),voteClassSelector:".vote",reviewClassSelector:".review",getUserReviewAjaxUrl:n(".srv_userReviewSection").data("service-getuserreview-url"),locale:n("#ratings-reviews").data("locale"),submitReviewEndPoint:n("#ratings-reviews").data("submit-review-ajax-url"),defaultPlatform:n("#ratings-reviews").data("default-platform"),productId:n("#ratings-reviews").data("productId"),reviewsPanelFooter:n("#reviewPanelFooter"),noReviews:n("#noReviewsForFilter")})};n(function(){n(".srv_ratings_reviews").length>0&&(n(".m-ratings-and-reviews").length>0?e():f(),n.when(t.userReviewLoaded).then(function(n){n.reviewId()?o():u()},function(){u()}),i.initialize())})});define("oneStore.reportAnAppValidate",["jquery","oneStore.reportAnApp","oneStore.unhide","jqueryValidate"],function(n,t,i){function e(t){n("#reportanapp-actual-reason").val(t.data("key"));r()}var f=n(".store-mwf-reportanapp-modal").length===0,r=function(){n("#reportanapp-actual-reason, #reportanapp-modal-text").valid()},u=function(n){return n.compareToElement.val().trim()===""?!0:!1},o=function(){var o=n("#reportanapp-actual-reason"),s=n("#reportanapp-modal-text"),e=n("#reportanapp-need-reason"),h=n("#reportanapp-reason");n(".submit-report").validate({rules:{"reportanapp-modal-text":{required:{depends:function(t){return u({element:n(t),compareToElement:s})},maxlength:500}},"reportanapp-actual-reason":{required:{depends:function(t){return u({element:n(t),compareToElement:o})}}}},onfocusout:function(){r()},onclick:function(){r()},errorClass:"has-error",errorPlacement:function(t,i){var r=n(i).siblings(".cli_label:first"),u=r.data("errorText");u&&r.text(u).addClass("text-danger")},highlight:function(t){var i=n(t).data("label");i?n(i).addClass("text-danger"):n(t).closest(".cli_label").addClass("text-danger");o.val()===""&&e.text(e.data("errorText"));n("reportanapp-modal-submit").addClass("btn-danger")},unhighlight:function(t){var i=n(t).siblings(".cli_label:first");i.text(i.data("defaultText")).removeClass("text-danger");o.val()===""?e.text(e.data("errorText")):e.text(e.data("defaultText"));n(t.form).find(".has-error").length>0?n("#reportanapp-modal-submit").addClass("btn-danger"):n("#reportanapp-modal-submit").removeClass("btn-danger")},ignore:':hidden:not("#reportanapp-actual-reason")',submitHandler:function(r,u){u.preventDefault();n("#reportanapp-modal-submit").removeClass("btn-primary btn-danger").text(n("#reportanapp-modal-submit").data("submittingText"));n("#reportanapp-modal").addClass("modal-has-progress");t.submitReport(h.data("report-caption"),s.val());n("#reportanapp-modal-submit").addClass("btn-primary").text(n("#reportanapp-modal-submit").data("defaultText"));i.unhide(".srv_reportAnAppThanks");n("#reportanapp-modal-text-counter").text("0/1000");s.val("");o.val("");f?(n("#reportAnApp").data("key",""),n("#reportanapp-reason").text(n("#reportanapp-reason").data("defaultText")),n("#reportAnApp .dropdown-menu .active").removeClass("active"),n("#reportanapp-modal").removeClass("modal-has-progress").modal("hide")):n("#reportanapp-modal .cli_close").trigger("click")},invalidHandler:function(){n("#reportanapp-modal-submit").addClass("btn-danger").shake(4,10,500)}});n(".cli_reportanapp-reason").click(function(t){var r,u;t.preventDefault();var i=n(this),e=i.data("display-caption")||i.text(),f=n("#"+i.data("query-key"));f.text(e);f.attr("data-report-caption",i.data("report-caption"));i.attr("aria-checked","true");i.attr("aria-checked","true");r=i.closest(".c-select-menu");r.find("a").attr("aria-expanded","false");r.find("ul").attr("aria-hidden","true");u=n("#reportanapp-actual-reason");u.attr("value",n(this).data("query-value"));u.trigger("change")});n.fn.shake=function(t,i,r){return this.each(function(){n(this).css("position","relative");for(var u=1;u<=t;u++)n(this).animate({left:i*-1},r/t/4).animate({left:i},r/t/2).animate({left:0},r/t/4)}),this}};return{initialize:o,reValidate:r,syncDropdownFormElement:e,validateReportAnAppRules:u}});define("oneStore.dropdown",["jquery"],function(n){function i(i,r){for(var f,e,o=n(i).find("[data-option-value]"),u=0;u<o.length;u++)if(f=o.eq(u),e=f.data("option-value"),e===r)return t(i,f),e;return null}var t=function(n,t){var i=n.find(".win-btn-text"),r=n.find("li"),u=t.parent();i.text(t.text());r.removeClass("active");u.addClass("active")};return{select:t,updateIfMatches:i}});define("oneStore.appendBiStrings",["jquery","oneStore.uriBuilder","jsll"],function(n,t,i){function r(n,i,r,u){n.attr(i)&&n.attr(i,t.addOrUpdateQueryParameter(n.attr(i),r,encodeURIComponent(u)))}function u(t,u){var f,e,o;t&&typeof t=="string"&&(t=n(t));r(t,u,"referrer","unistoreweb");f=i.ids.getImpressionGuid();f&&r(t,u,"webig",f);e=i.ids.getVisitorId();e&&r(t,u,"muid",e);o=i.ids.getSessionId();o&&r(t,u,"websession",o)}return{appendBiIdentifiers:u}});define("oneStore.rumPerfReporting",[],function(){function i(i){n=t[i]}function r(){var i=-1,r,t,u;if(n&&window.performance&&window.performance.getEntriesByName)for(r=0;r<n.length;r++)if(t=window.performance.getEntriesByName(n[r]),t&&t.length>0)u=t[t.length-1].startTime,u>i&&(i=u);else{i=-1;break}return i}var t={PDP:["Product-Image-Loaded","Buy-Button-Ready"]},n=null;return{initialize:i,getTimeToAboveFold:r}});require(["jquery"],function(n){function t(){window.performance&&window.performance.mark&&window.performance.mark("Product-Image-Loaded")}n(function(){var i=n(".media-browser .media-img img");if(i.length>0)if(i[0].naturalWidth)t();else i.on("load",t)})});define("oneStore.unhideauthorized",["jquery","oneStore.storeShell","oneStore.unhide"],function(n,t,i){function r(r){var u=t.isUserSignedIn();r.each(function(){u||!n(this).data("authuseronly")?i.unhide(n(this)):i.hide(n(this))})}return{start:r}});require(["oneStore.unhideauthorized"],function(n){n.start($(".cli_authuser"))});define("oneStore.modalDialog",["jquery","mwfWrapper"],function(n,t){var r=".cli_continue",f=".cli_cancel",u=".cli_close",i="click.dialog",e=function(e){var o=n("#"+e),s=n.Deferred(),c,h,l;return o.length===0?s.resolve().promise():(o.find(r).length>0?(c=o.find(r),h=o.find(f),c.unbind(i).bind(i,function(){h.trigger("click",{skipReject:!0});s.resolve()}),h.unbind(i).bind(i,function(n,t){t&&t.skipReject||s.reject()})):o.find(u).length>0&&(l=o.find(u),l.unbind(i).bind(i,s.resolve)),t.mwfReady("Dialog",function(){n('button[data-js-dialog-show="'+e+'"]').trigger("click")}),s.promise())};return{open:e}});define("oneStore.pdpVideo",["jquery"],function(n){var t=".pdp-video-player-container",i=function(i){var r=n(t),u='<video controls autoplay class="pdp-video"<source src='+i+' type="video/mp4"><\/video>';r.html(u)},r=function(){var i=n(t);i.prepend('<div class="c-progress f-indeterminate-local f-progress-large videoPlayerLoadingAnimation"><span/><span/><span/><span/><span/><\/div>')},u=function(){var i=n(t);i.html("")},f=function(t){if(t){n.magnificPopup.instance.close=function(){u();n.magnificPopup.proto.close.call(this)};n.magnificPopup.instance.open({items:{src:"#pdpVideoPlayerOverlay"},type:"inline",modal:!1,showCloseBtn:!1,closeBtnInside:!1,closeOnBgClick:!0,alignTop:!1});i(t);var f=setTimeout(r,500);n("video.pdp-video").on("loadeddata",function(){clearTimeout(f);n("div.videoPlayerLoadingAnimation").remove()})}};return{play:f}});require(["oneStore.pdpVideo","jquery"],function(n,t){t(".pdpVideo").on("click","ul>li a.pdpVideoAction",function(){n.play(t(this).data("video-url"))})});define("oneStore.xtoken",["jquery","window","deferred","service","cookie","oneStore.uriBuilder","oneStore.locale"],function(n,t,i,r,u,f,e){function s(){var i=n("button[data-ask-prod-msa=true]").length>0;return i?t.prompt("Please provide RPS ticke from https://unistore-int.www.microsoft.com/store/apps:"):null}function h(){var n=i(),h=u.getCookie("Xtk"),t;return h&&h.length>0?n.resolve():(t=o.replace("{0}",e.getCurrentLocale()),r.get({noCacheBusting:!0,url:t}).then(n.resolve,function(i){var u=s(),e;u?r.get({noCacheBusting:!0,url:f.addOrUpdateQueryParameter(t,"rpsticket",encodeURIComponent(u))}).then(n.resolve,function(t){var i=t&&t.responseJSON&&t.responseJSON.Reason;n.reject(i)}):(e=i&&i.responseJSON&&i.responseJSON.Reason,n.reject(e))})),n.promise()}var o="/{0}/store/api/xboxlivewebapi/token";return{prepareTokenAsync:h}});define("oneStore.purchaseFlow.blendPurchase",["oneStore.blendPurchase","jquery","oneStore.userAuth","oneStore.pdpSkuState"],function(n,t,i,r){var u=function(u,f){var e=t.Deferred(),o=function(t){n.open(u,t).then(function(n){var t=n.data&&n.data.lineItems&&n.data.lineItems.length?{skuId:n.data.lineItems[0].skuId,availabilityId:n.data.lineItems[0].availabilityId}:{};r.updateProductPurchased(t);window.shell_Tracking&&window.shell_Tracking._recordXboxDigitalPurchase(n.data);e.resolve(n)},function(n){e.reject(n)})};return i.getUserTicket(f.askProdMsa).then(function(n){o(n)},function(){o("")}),e.promise()};return{launch:u}});define("oneStore.purchaseFlow.cart",[],function(){var n=function(n){var i=n.culture,r=n.productId,u=n.skuId,f=n.availabilityId,e=n.upsellChannelId,t="/"+i.toLowerCase()+"/store/buy?pid="+r+"&sid="+u+"&aid="+f+"&cid="+e;n.aveVerified&&(t=t+"&ave=1");window.location.href=t};return{launch:n}});define("oneStore.purchaseFlow.xboxAccountWarningPurchase",["oneStore.purchaseFlow.blendPurchase","oneStore.xtoken","oneStore.modalDialog"],function(n,t,i){var r=function(t,r){n.launch(t,r).then(function(){r.canPushToInstall?i.open("web-blend-push-to-install"):i.open("web-blend-purchase-congrats")})},u=function(n,u){u.worksOnlyOnXbox?t.prepareTokenAsync().then(function(){r(n,u)},function(t){t&&t.toLowerCase()==="xboxuseraccountcreationrequired"?i.open("xbox-live-account-warning").then(function(){r(n,u)}):r(n,u)}):r(n,u)};return{launch:u}});define("oneStore.purchaseFlow.xboxAccountRequiredPurchase",["oneStore.purchaseFlow.blendPurchase","oneStore.xtoken","oneStore.modalDialog"],function(n,t,i){var r=function(t,r){n.launch(t,r).fail(function(n){n&&n.data&&n.data.errorCode&&n.data.errorCode.toLowerCase()==="pur-xboxsubscriptionsservicenotfound"&&i.open("xbox-live-account-required")}).done(function(){r.canPushToInstall?i.open("web-blend-push-to-install"):i.open("web-blend-purchase-congrats").done(function(){window.location.reload(!0)})})},u=function(n,u){t.prepareTokenAsync().then(function(){r(n,u)},function(t){t&&t.toLowerCase()==="xboxuseraccountcreationrequired"?i.open("xbox-live-account-required"):r(n,u)})};return{launch:u}});define("oneStore.pdpBuyButtonAction",["jquery","oneStore.storeShell","oneStore.pdpSkuState","oneStore.pdpBuyButtonSkuVariation","oneStore.purchaseFlow.blendPurchase","oneStore.purchaseFlow.cart","oneStore.purchaseFlow.xboxAccountWarningPurchase","oneStore.purchaseFlow.xboxAccountRequiredPurchase","oneStore.userAuth","oneStore.userAgent"],function(n,t,i,r,u,f,e,o,s,h){var c=function(n,t){try{sessionStorage.setItem(n,t)}catch(i){}},v=function(){var t=n("#meControl").data("signinsettings"),i=t&&t.rpData&&t.rpData.msaInfo&&t.rpData.msaInfo.signInUrl;return i||"/store/signin"},p=function(){var n=v();return n.replace(/wp=MBI_SSL/gi,"wp=SA_20MIN").replace(/SignIn/gi,"HbiSaSignIn")},l=function(){var u;if(i.unregisterEntitlementProcessComplete(l),u=n('[data-button-type="buy-button"]').filter(function(){try{return sessionStorage.getItem(n(this))==="resume-purchase"}catch(t){return!1}}).first(),u.length>0){if(!t.isUserSignedIn()){c(u,null);return}var e=function(){c(u,null);u.trigger("click")},o=function(){var n=i.getCurrentProduct();n&&n.remediationRequired&&n.remediationConfirmed&&(r.unregisterOfferUpdated(o),e())},f=i.getCurrentProduct();f.isOwned?c(u,null):f&&f.remediationRequired&&!f.remediationConfirmed?r.registerOfferUpdated(o):e()}},y=function(n,t){c(n,"resume-purchase");window.location.href=t;c(n,"resume-purchase")},w=function(n){y(n,v())},a=function(n){y(n,p())},b=function(t){var i=n(".srv_itemDetails").data("target-threshold");window.oneStoreRedirect&&window.oneStoreUserAgent&&window.oneStoreRedirect(window.oneStoreUserAgent(),document).autoRedirectToNativeStorePdp("cli_redirectFrame",{threshold:i},t.productId,!0,"",!0,!0)},k=function(){n('[data-button-type="buy-button"]').click(function(){var i=n(this),l=i.data("action-url"),k=i.data("use-action-url"),d=i.data("use-cart")||!1,v=i.data("free")||!1,g=i.data("native-store"),nt=i.data("upsell-lightbox"),r={culture:i.data("culture"),market:i.data("market"),environment:i.data("environment"),productId:i.data("product-id")||"",skuId:i.data("sku-id")||"",availabilityId:i.data("availability-id")||"",upsellChannelId:i.data("upsellchannel-id")||"",aveVerified:i.data("ave-verified")||!1},y={requireXboxAccount:i.data("require-xbox-account")||!1,worksOnXbox:i.data("works-on-xbox")||!1,worksOnlyOnXbox:i.data("works-only-on-xbox")||!1,canPushToInstall:i.data("push-to-install")||!1,askProdMsa:i.data("ask-prod-msa")||!1},p=function(n){n.requireXboxAccount?o.launch(r,n):n.worksOnXbox?e.launch(r,n):u.launch(r,n)},tt=function(){var n=document.getElementById("browserUpgradeNotificationDialog");return n?(require(["dialog","componentFactory"],function(t,i){i.ComponentFactory&&i.ComponentFactory.create&&i.ComponentFactory.create([{component:t.Dialog,elements:[n],callback:function(n){if(n&&n.length){var t=n[0];t.show()}}}])}),!0):!1},c;g?b(r):l&&k?window.open(l,"_blank"):nt?n('button[data-js-dialog-show="upsell-lightbox"]').trigger("click"):d?(c=!0,h.isIeVersionOrLower(9)&&(c=!tt()),c&&f.launch(r)):t.isUserSignedIn()?v?p(y):s.isAuthorizedForHbiSa().then(function(n){n?p(y):a(i)},function(){a(i)}):v?w(i):a(i)});var r=i.isEntitlementProcessComplete();r?l():i.registerEntitlementProcessComplete(l)};return{init:k}});require(["oneStore.pdpBuyButtonAction","jquery"],function(n,t){t(function(){t(".cli_webblend, .cli_blend").length>0&&n.init()})});define("oneStore.pdpLightboxButtonAction",["jquery"],function(n){var t=function(){n(".cli_lightboxcancel").click(function(){n(".cli_pdp-buy-button").data("upsell-lightbox",!1);n(".cli_pdp-buy-button").trigger("click")})};return{init:t}});require(["oneStore.pdpLightboxButtonAction","jquery"],function(n,t){t(function(){n.init()})});define("onestore.twitchVideo",["jquery","service"],function(n,t){function o(r){var o=n.map(r.Items||[],function(n){return n.Id}).join(","),u=n.Deferred(),s={noCacheBusting:!0,accept:f,url:i+o,additionalHeaders:{"Client-ID":e}};return t.get(s).then(function(n){if(n){var t=h(n,r.Items);u.resolve(t)}},u.reject),u.promise()}function s(n,t){for(var i=0;i<t.length;i++)if(n===t[i].Id)return t[i];return null}function h(n,t){for(var o={Items:[]},i=0;i<((n||"").streams||[]).length;i++){var f=n.streams[i],h=((f.preview||"").template||"").replace("{width}",r).replace("{height}",u).replace("http://","https://"),c=((f.channel||"").url||"").replace("http://","https://"),e=s(f.channel.name,t)||{},l=e.GamerTag||"",a=e.ProfileUrl||"",v=e.Viewers||"";o.Items[i]={imageLink:h,twitchLink:c,altText:f.channel.status,biId:f.channel.name,biSlotId:i,gamertag:l,profileLink:a,viewers:v}}return o}var i="https://api.twitch.tv/kraken/streams?channel=",r=358,u=199,f="application/vnd.twitchtv.v3+json",e="3wxl6x5uycshkfpevtyiddhvdn0rz8f";return{transform:o}});define("oneStore.xboxchannel",["jquery","oneStore.storeShell","oneStore.hybridchannel","oneStore.ageGate","oneStore.xtoken"],function(n,t,i,r,u){function f(t){var i=n(t).data("age-gated-behavior");i&&i.toLowerCase()!=="visible"&&n(t).remove()}function e(t,i,r){var u=0,e=n("#minimal_age_for_content_rating");e.length>0&&(u=n(e).data("minimal-age")|0);u>0&&n(t).each(function(){(!r||!!r&&i<u)&&f(n(this))})}function o(){if(t.isUserSignedIn()){var o=n(".cli_xboxChannel");o.length>0&&r.getAgeAsync().then(function(t){t.ageProvided&&t.age&&t.age>-1?e(o,t.age,t.ageProvided):o.each(function(){f(n(this))});var r=n(".cli_xboxChannel");r.length>0&&u.prepareTokenAsync().done(function(){r.each(function(){var t=n(this).data("transform-module"),r=n(this),u=r.attr("id");t&&require.specified(t)?require([t],function(n){i.startLoad(u,r,n.transform)}):i.startLoad(u,r)})})})}}return{setup:o}});require(["oneStore.xboxchannel"],function(n){$(function(){n.setup()})})