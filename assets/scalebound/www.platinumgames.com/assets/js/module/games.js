/*!
 *
 * games.js
 *
 */
function onYouTubeIframeAPIReady(){App.gameHeaderSlider.setVideo()}var App=App||{};!function(){var e=function(){var e,i,n,a,t,r,o,s=function(){e=$(window),o=!1,i=$(".js-game-slider"),n=i.find(".item"),a=i.find(".video-container");var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r),i.length&&(u(),i.imagesLoaded(function(){i.addClass("show")}),i.addClass("show"))},l=function(){if(a.length){var n=a.data("videoid");if(r=new YT.Player("js-video-player",{width:"1100",height:"570",videoId:n,playerVars:{autoplay:1,autohide:1,controls:0,showinfo:0,rel:0,loop:1,wmode:"transparent"},events:{onReady:d,onStateChange:c}})){t=i.find(".video"),p();var o=_.throttle(p,100);e.on("resize",o)}}},d=function(e){o=!0},c=function(e){if(!cssua.ua.mobile){var i=e.data;i==YT.PlayerState.PLAYING?r.mute():i==YT.PlayerState.ENDED&&r.playVideo()}},u=function(){i.hasClass("slick-initialized")||(i.slick({infinite:!0,autoplay:!1,autoplaySpeed:5e3,speed:500,easing:"swing",slidesToScroll:1,adaptiveHeight:!0,touchThreshold:6,fade:!0,dots:!0,arrows:!1}),i.on("beforeChange",function(e,i,n,a){f(a)}))},f=function(e){r&&o!==!1&&(cssua.ua.mobile||(n.eq(e).find(".video-container").length?r.playVideo():r.pauseVideo()))},p=function(){var e=i.width(),n=Math.floor(e/16*9);t.css("height",n)};return{initialize:s,setVideo:l}}();App.gameHeaderSlider=e,App.gameHeaderSlider.initialize();var i=function(){var e,i,n=function(){e=$(window),i=$(".js-game-gallery"),i.length&&a()},a=function(){var e=i.find(".image").length,n="30px",a=!0;6>e&&(n="0px",a=!1),i.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".js-game-gallery-nav"}),$(".js-game-gallery-nav").slick({slidesToShow:5,slidesToScroll:1,easing:"swing",asNavFor:".js-game-gallery",dots:!1,centerMode:a,focusOnSelect:!0,centerPadding:n,responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:a,slidesToShow:5,centerPadding:"0"}}]})};return{initialize:n}}();App.gamesAboutSlider=i,App.gamesAboutSlider.initialize();var n=function(){var e,i,n=function(){e=$(window),i=$(".js-game-point-gallery"),i.length&&a()},a=function(){i.slick({infinite:!1,autoplay:!1,speed:500,easing:"swing",slidesToScroll:1,adaptiveHeight:!0,touchThreshold:6,fade:!1,dots:!1,arrows:!0,prevArrow:'<div class="prev">Prev</div>',nextArrow:'<div class="next">Next</div>'})};return{initialize:n}}();App.gamesPointSlider=n,App.gamesPointSlider.initialize();var a=function(){var e,i,n,a=function(){if(e=$(window),i=$(".js-games-fixed-navi"),i.length){var n=_.throttle(t,120);e.on("scroll.page-scroll",n),t()}},t=function(){n=e.scrollTop(),n>300?i.addClass("onscreen"):i.removeClass("onscreen")};return{initialize:a}}();App.gamesNav=a,App.gamesNav.initialize();var t=function(){var e,i,n,a,t=function(){e=$(".page-games-single"),i=$(".js-games-tab-menu"),n=i.find("a"),a=e.find(".game-tab-content"),i.length&&(r(),o())},r=function(){n.on("click",function(e){var i=/#/g,a=$(this).attr("href");if(i.test(a)){e.preventDefault();var t=$(this);if(t.hasClass("current"))return;var r=t.attr("href").replace(/#/,"");n.removeClass("current"),t.addClass("current"),s(r)}})},o=function(){var e=location.hash;e.replace(/#/,"");e.length&&$(e).length&&n.each(function(){var i=$(this);i.attr("href")===e&&i.trigger("click")})},s=function(e){a.removeClass("current"),a.filter("#"+e).addClass("current"),pageScroll(e)};return{initialize:t}}();App.gamesTabContent=t,App.gamesTabContent.initialize();var r=function(){var e,i,n,a,t=function(){e=$(".game-point-contents"),i=$(".js-game-point-tab-menu"),n=i.find("a"),a=e.find(".game-point-tab-content"),i.length&&r()},r=function(){n.on("click",function(e){e.preventDefault();var i=$(this);if(!i.hasClass("current")){var a=i.attr("href").replace(/#/,"");n.removeClass("current"),i.addClass("current"),o(a)}})},o=function(e){a.removeClass("current"),a.filter("#"+e).addClass("current")};return{initialize:t}}();App.gamePointTabContent=r,App.gamePointTabContent.initialize()}();