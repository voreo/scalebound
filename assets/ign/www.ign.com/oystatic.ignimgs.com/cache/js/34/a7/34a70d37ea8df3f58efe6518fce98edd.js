/* 17:52:57 05/01/2017 [http://oystatic.ignimgs.com/src/core/js/widgets/video/embed/modules/player-js-adapter.js, http://oystatic.ignimgs.com/src/core/js/widgets/video/embed/bcc_ign_player-0.1.0.js, http://oystatic.ignimgs.com/src/core/js/external/embed-tweet.js, http://oystatic.ignimgs.com/src/ignmedia/js/watchread/content.js, http://oystatic.ignimgs.com/src/core/js/widgets/global/page/globalheader/global-header.js, http://oystatic.ignimgs.com/src/core/js/widgets/global/page/globalheader/content_layout.js, http://oystatic.ignimgs.com/src/core/js/widgets/global/page/socialshare.js, http://oystatic.ignimgs.com/src/core/js/widgets/global/page/localeselector.js, http://oystatic.ignimgs.com/src/core/js/widgets/global/page/spine/vertical.js, http://oystatic.ignimgs.com/src/core/js/widgets/../../../core/js/external/jquery/plugins/jquery.mousewheel.min.js, http://oystatic.ignimgs.com/src/core/js/widgets/ign/modules/recirc.js, http://oystatic.ignimgs.com/src/core/js/widgets/global/page/objectcard.js, http://oystatic.ignimgs.com/src/core/js/widgets/global/page/ignrecommends/article-page.js, http://oystatic.ignimgs.com/src/core/js/widgets/global/livefyre/comment.js, http://oystatic.ignimgs.com/src/core/js/widgets/global/page/optimizely.js, http://oystatic.ignimgs.com/src/core/js/widgets/../lib/util.js]*/
window.IGN=window.IGN||{};window.IGN.VideoPlayer=window.IGN.VideoPlayer||{};window.IGN.VideoPlayer.Plugins=window.IGN.VideoPlayer.Plugins||{};
IGN.VideoPlayer.Plugins.PlayerJSAdapter=function(f,d){if(d){var a=new d.Receiver,e=function(){var b=this,c=function(b,c){return function(){a.emit(b,c)}};d.assert(b,"playerjs.VideoJSReceiver requires a player object");b.on("pause",c("pause"));b.on("play",c("play"));b.on("ended",c("ended"));b.on("error",c("error"));b.on("timeupdate",c("timeupdate",{seconds:b.currentTime(),duration:b.duration()}));a.on("play",b.play.bind(b));a.on("pause",b.pause.bind(b));a.on("setCurrentTime",b.currentTime.bind(b));
a.on("getPaused",function(a){a(b.paused())});a.on("getCurrentTime",function(a){a(b.currentTime())});a.on("getDuration",function(a){a(b.duration())});a.on("getVolume",function(a){a(100*b.volume())});a.on("setVolume",function(a){b.volume(a/100)});a.on("mute",function(){b.volume(0)});a.on("unmute",function(){b.volume(1)});a.on("getMuted",function(a){a(0===b.volume())});a.on("getLoop",function(a){a(b.loop())});a.on("setLoop",b.loop.bind(b))};return{init:function(b){try{b.plugin("PlayerJSAdapter",e),a.ready()}catch(c){}}}}}(IGN.jQuery||
window.jQuery,window.playerjs);
(function(f){window.createIGNPlayer=function(q,r){var s=Date.now(),a=videojs(q);a.init_time=s;a.bcc({modules:{Storage:{},MediaControls:{autostart:r},EndSlate:{},AgeGate:{},SocialOverlay:{},ProgressMonitor:{},IGNAnalytics:{},GoogleAnalytics:{universal:!1},PlayerJSAdapter:{}}});if("undefined"!==typeof a.tech_&&"undefined"!==typeof a.tech_.hls)a.hls=a.tech_.hls;var b=a.bcc;if(a.hls)a.hls.videoId=q,a.hls.selectPlaylist=function(){var a=videojs(this.videoId),i,d=this.playlists.master.playlists.slice(),
j=d.length,e,g,o=0;i=b.getVideo();var m=i.autoplay&&i.muted;for(d.sort(videojs.Hls.comparePlaylistBandwidth);j--;)e=d[j],e.attributes.RESOLUTION||d.splice(j,1);for(j=d.length;j--;)e=d[j],e.attributes&&e.attributes.BANDWIDTH&&(i=1.1*e.attributes.BANDWIDTH,i<a.hls.bandwidth&&!g&&(g=e,o=j));a=m||!g?d[0]:g;if(d=b.find("#rendition-panel"))o=f(d).find("[data-id='"+o+"']"),o.length&&(f(d).find(".rendition").removeClass("selected"),o.parent().addClass("selected"));return a};a.ign={ads:{baseTag:"http://pubads.g.doubleclick.net/gampad/ads?env=vp&gdfp_req=1&impl=s&output=xml_vast2&unviewed_position_start=1&sz=640x360&url=[referrer_url]&correlator=[timestamp]&vpos=preroll&cmsid=973&vad_type=linear&ciu_szs=300x250,6x6",
prevCuePointTime:0,INSERT_CUE:"insertcue",CANCEL_CUE:"cancelcue",midrollsActive:!1,userPlayingAtSeconds:0,adStartAtSeconds:0,mobileMidrollCueTimer:null,midrollPodDuration:0,midrollStartTime:null,initialEmptyMediaSegmentsCountInNativeHLSPlayers:6,apiCuePointUnused:!1,checkedCueIndex:[],isPolling:!1,textTrackIndex:0,cuesApiEndPoint:null,debug:!1,isMobile:{Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},
any:function(){return this.Android()||this.iOS()||this.Windows()}},browser:{Safari:function(){return navigator.userAgent.match(/Safari/i)},Chrome:function(){return navigator.userAgent.match(/Chrome/i)},Version:function(){return null!==(matches=/Version\/([0-9])/i.exec(navigator.userAgent))?matches[1]:null}},getMidrollMasterAdTag:function(c,b){if(!("undefined"===typeof c||"undefined"===typeof b)){var d="stream_type%3D"+c+"%26pod_duration%3D"+b;"undefined"!==typeof _zd_il&&1===_zd_il&&(d+="%26sp.block%3Dil");
var j=this.baseTag;this.addAdTagParams("iu","/5691/IGN_Live");this.addAdTagParams("vid",f(f(a.el())).parent().data("video-id")?f(f(a.el())).parent().data("video-id"):"");this.addAdTagParams("min_ad_duration","5000");this.addAdTagParams("max_ad_duration","300000");this.addAdTagParams("cust_params",d);d=this.baseTag;this.baseTag=j;return d}},addAdTagParams:function(a,b){this.baseTag+="&"+a+"="+b},pollForCues:function(){a.ign.ads.isPolling=!0;var c=a.textTracks(),b,d,f,e;for(e=0;e<c.length;e++)if(b=
c[e],d=b.cues,f=d.length,"undefined"===typeof a.ign.ads.checkedCueIndex[e]&&(a.ign.ads.checkedCueIndex[e]=-1),f>a.ign.ads.checkedCueIndex[e]+1){for(var g=a.ign.ads.checkedCueIndex[e]+1;g<f;g++)if(a.ign.ads.log("checking track "+e+" at cue index "+g),-1<d[g].text.indexOf(a.ign.ads.INSERT_CUE)){a.ign.ads.log("hls plugin set cue start time at "+d[g].startTime+" and was adjusted to "+(a.currentTime()+28));d[g].startTime=a.currentTime()+28;a.ign.ads.checkedCueIndex[e]=g;a.ign.ads.isPolling=!1;setTimeout(a.ign.ads.validateAndPlayMidroll,
28E3,b,d[g]);return}a.ign.ads.checkedCueIndex[e]=f-1}a.ign.ads.log("Setting timeout to check cues in 500ms");setTimeout(a.ign.ads.pollForCues,500)},validateAndPlayMidroll:function(c,b){var d=null;if("undefined"===typeof b&&"undefined"!==typeof c.activeCues&&c.activeCues.length||"object"===typeof b)if(d="object"===typeof b?b:c.activeCues[0],_.each(c.activeCues,function(c,d){a.ign.ads.log("Active cue "+d+": "+c)}),d&&d.text){var f=d.text,e=Math.floor(a.currentTime()),g=Math.floor(d.startTime);-1!==
escape(f).indexOf("%00")&&(f=f.slice(0,-1));cueData=f.split("|");a.ign.ads.log("Player current time = "+e);a.ign.ads.log("Text = "+d.text+" Start Time = "+g+" End Time = "+Math.floor(d.endTime)+" Previous cuepoint time = "+a.ign.ads.prevCuePointTime);if(cueData.length)cueData[0]===a.ign.ads.INSERT_CUE?g>=e-1&&g<=e+1&&a.ign.ads.prevCuePointTime!==g?(a.ign.ads.log("Received a Active UNUSED cuepoint to start midrolls. Requesting Ad Pod to fill : "+cueData[1]+" seconds"),a.ign.ads.prevCuePointTime=g,
a.ign.ads.midrollPodDuration=1E3*parseInt(cueData[1],10),d=a.ign.ads.getMidrollMasterAdTag("live",a.ign.ads.midrollPodDuration/1E3),a.ign.ads.log("Invoking Master Midroll AdTag for pod_duration = "+a.ign.ads.midrollPodDuration),a.ign.ads.log("Master Video AdTag = "+d),a.ign.ads.midrollsActive=!0,"undefined"!==typeof a.ima3.adrequest?a.ima3.adrequest(d):a.ign.ads.log("'adrequest' function not defined under ima object")):(e!==g?a.ign.ads.log("Received a Cuepoint to start midrolls for a pod_duration = "+
cueData[1]+", But player currentime ("+e+") has passed beyond the cue start"):a.ign.ads.log("Received a Cuepoint to start midrolls for a pod_duration = "+cueData[1]+", which is already USED by the player"),a.ign.ads.log("Resuming cues polling from validation error"),!a.ign.ads.isPolling&&a.ign.ads.pollForCues()):cueData[0]===a.ign.ads.CANCEL_CUE?a.ign.ads.log("Received a Cuepoint to cancel the midroll pod that is currently running (if any)"):a.ign.ads.log("Received Cuepoint with an unidentified cuetype = "+
f)}},resolveUrl:function(a,b){var d=document.querySelector("base"),f=document.querySelector("head"),e=document.createElement("a"),g=d,o;d?o=d.href:g=f.appendChild(document.createElement("base"));g.href=a;e.href=b;e=e.href;d?d.href=o:f.removeChild(g);return e},updateMaster:function(a,b){var d=!1,f=videojs.util.mergeOptions(a,{}),e,g;for(e=a.playlists.length;e--;)if(g=f.playlists[e],g.uri===b.uri&&(!g.segments||!b.segments||!(g.segments.length===b.segments.length&&g.mediaSequence===b.mediaSequence)))f.playlists[e]=
videojs.util.mergeOptions(g,b),f.playlists[b.uri]=f.playlists[e],d=!0;return d?f:null},midrollsInit:function(){navigator.userAgent.toLowerCase();if(a.hls)a.ign.ads.log("Midrolls Handling : HLS plug-in ID3 tags"),a.ign.ads.handleHLSPluginID3Tags();else if(a.ign.ads.isMobile.iOS()&&8<=a.ign.ads.browser.Version())a.ign.ads.log("Midrolls Handling : iOS Safari/Chrome 8.0+ ID3 tags -> Text tracks"),a.on("loadeddata",function(){a.textTracks().addEventListener("addtrack",function(c){a.ign.ads.handleNativeTextTracks(c)})});
else if(a.ign.ads.browser.Safari()&&!a.ign.ads.browser.Chrome()&&8<=a.ign.ads.browser.Version()){a.ign.ads.log("Midrolls Handling : OSX Safari 8.0+ ID3 tags -> Text tracks");var c=a.el().querySelector("video");c&&c.textTracks&&c.textTracks.addEventListener("addtrack",function(c){a.ign.ads.handleNativeTextTracks(c)})}else a.ign.ads.log("Midrolls Handling : IGN API Polling"),a.ign.ads.handleAPICues()},handleHLSPluginID3Tags:function(){a.on("loadeddata",function(){a.ign.ads.log('! registered "loadeddata" event');
0<a.textTracks().length?(a.ign.ads.log("Commencing to poll for cues because textracks() has length"),!a.ign.ads.isPolling&&a.ign.ads.pollForCues()):a.textTracks().addEventListener("addtrack",function(){a.ign.ads.log("Starting to poll for cues because a textrack was added");!a.ign.ads.isPolling&&a.ign.ads.pollForCues()})})},handleNativeTextTracks:function(){a.ign.ads.log("ADDTRACK event received : handleSafariTextTracks");var c=event.track;if("metadata"!==!c.kind){if("disabled"===c.mode)c.mode="hidden";
c.addEventListener("cuechange",function(){if(c.activeCues.length){var b=c.activeCues[0],d=b.value.data;a.ign.ads.log("iOS/OSX Safari ID3 tag received : "+d);-1!==escape(d).indexOf("%00")&&(d=d.slice(0,-1));cueData=d.split("|");if(cueData.length)cueData[0]===a.ign.ads.INSERT_CUE?(a.ign.ads.log("Native ID3 set cue start time at "+b.startTime),a.ign.ads.midrollPodDuration=1E3*parseInt(cueData[1],10),a.ign.ads.log("Received a Active cuepoint to start midrolls. Requesting Ad Pod to fill : "+a.ign.ads.midrollPodDuration+
" seconds"),b=a.ign.ads.getMidrollMasterAdTag("live",a.ign.ads.midrollPodDuration/1E3),a.ign.ads.log("Invoking Master Midroll AdTag "+b+" for pod_duration = "+a.ign.ads.midrollPodDuration),a.ign.ads.midrollsActive=!0,a.ima3.adrequest(b)):cueData[0]===a.ign.ads.CANCEL_CUE?a.ign.ads.log("Received a Cuepoint to cancel the midroll pod that is currently running (if any)"):a.ign.ads.log("Received Cuepoint with an unidentified cuetype = "+d)}})}},handleAPICues:function(){a.ign.ads.cuesApiEndPoint="http://apis.ign.com/video/v3/videos/"+
a.bcc.getVideo().id+"/cuepoints?format=js";var c=a.bcc.getVideo().m3uUrl;f.ajax({url:c,success:function(c){var d,b={};d=new videojs.m3u8.Parser;d.push(c);d.end();b.state="HAVE_MASTER";d.manifest.uri=a.bcc.getVideo().m3uUrl;if(d.manifest.playlists){b.master=d.manifest;for(c=b.master.playlists.length;c--;)b.master.playlists[b.master.playlists[c].uri]=b.master.playlists[c];a.ign.ads.parsePlaylist(d,b)}},error:function(c){a.ign.ads.log("Master Manifest parse error : "+c.message)}})},parsePlaylist:function(c,
b){if("undefined"!==typeof c&&c){var d=a.ign.ads.resolveUrl(c.manifest.uri,c.manifest.playlists[0].uri);f.ajax({url:d,success:function(d){b.state="HAVE_METADATA";playlistParser=new videojs.m3u8.Parser;playlistParser.push(d);playlistParser.end();playlistParser.manifest.uri=c.manifest.playlists[0].uri;d=playlistParser.manifest.mediaSequence-1+a.ign.ads.initialEmptyMediaSegmentsCountInNativeHLSPlayers;a.ign.ads.userPlayingAtSeconds=d*playlistParser.manifest.segments[0].duration;a.ign.ads.log("Player Streaming at : "+
a.ign.ads.convertSecondsToTimeFormat(a.ign.ads.userPlayingAtSeconds)+". Media sequence : "+d);a.ign.ads.validateApiCueAndPlay();a.ign.ads.log(c.manifest);var d=a.ign.ads.updateMaster(b.master,playlistParser.manifest),e=1E3*(playlistParser.manifest.targetDuration||10);d?(b.master=d,media=b.master.playlists[playlistParser.manifest.uri]):(a.ign.ads.log("Playlist is unchanged since the last reload. "),e/=2);a.ign.ads.pollCuePointAPI();window.setTimeout(function(){a.ign.ads.handleAPICues()},e)},error:function(c){a.ign.ads.log("Media Playlist parse error : "+
c.message);window.setTimeout(function(){a.ign.ads.handleAPICues()},1E4)}})}},validateApiCueAndPlay:function(){if(a.ign.ads.apiCuePointUnused&&a.ign.ads.userPlayingAtSeconds>a.ign.ads.adStartAtSeconds){a.ign.ads.apiCuePointUnused=!1;a.ign.ads.log("User at "+a.ign.ads.convertSecondsToTimeFormat(a.ign.ads.userPlayingAtSeconds)+" just passed the cuepoint at "+a.ign.ads.convertSecondsToTimeFormat(a.ign.ads.adStartAtSeconds)+". Its midroll time!");var c=a.ign.ads.getMidrollMasterAdTag("live",a.ign.ads.midrollPodDuration/
1E3);a.ign.ads.log("Invoking Master Midroll AdTag for pod_duration = "+a.ign.ads.midrollPodDuration);a.ign.ads.log("Master video AdTag = "+c);a.ign.ads.midrollsActive=!0;a.ima3.adrequest(c);a.ign.ads.log("Ad request placed : "+c)}},pollCuePointAPI:function(){f.ajax({url:a.ign.ads.cuesApiEndPoint,type:"GET",dataType:"jsonp",jsonpCallback:"what",success:function(c){for(var b=c.cues?c.cues:[],d=0;d<b.length;d++){if(a.ign.ads.prevCuePointTime===b[d].ingestDate)return;if(0!==a.ign.ads.prevCuePointTime){var f=
a.ign.ads.convertISOToDateObject(b[d].ingestDate),e=a.ign.ads.convertISOToDateObject(a.ign.ads.prevCuePointTime);if(parseInt(f.totalTimeInSeconds)<=parseInt(e.totalTimeInSeconds)){a.ign.ads.log("Cuepoint is older than previous cue. Stop parsing cues.");return}}a.ign.ads.prevCuePointTime=b[d].ingestDate;adStartAtSeconds=b[d].seconds;adStartAtSeconds+=4;adStartAtSeconds>a.ign.ads.adStartAtSeconds&&adStartAtSeconds>a.ign.ads.userPlayingAtSeconds?(a.ign.ads.jumpToLive(),f=adStartAtSeconds-a.ign.ads.userPlayingAtSeconds,
2>=f%10&&(adStartAtSeconds-=10,a.ign.ads.log("Shift Cuepoint to previous segment as start time is just "+f%10+" seconds away from segment start")),a.ign.ads.log("Found new VALID Cuepoint at : "+a.ign.ads.convertSecondsToTimeFormat(adStartAtSeconds)+" in API response. Setting up midrolltimer"),a.ign.ads.adStartAtSeconds=adStartAtSeconds,a.ign.ads.midrollPodDuration=1E3*b[d].podDuration,a.ign.ads.apiCuePointUnused=!0):a.ign.ads.log("Found INVALID cue point. Ad start at : "+a.ign.ads.convertSecondsToTimeFormat(adStartAtSeconds))}a.ign.ads.log(c);
a.ign.ads.log("Latest Ad Cuepoint at : "+a.ign.ads.convertSecondsToTimeFormat(a.ign.ads.adStartAtSeconds)+" Pod Duration : "+a.ign.ads.midrollPodDuration)},error:function(c){a.ign.ads.log("Cue point API polling error : "+c.message)}})},convertSecondsToTimeFormat:function(a){var b=Math.floor(a/60),a=Math.floor(a%60),d=Math.floor(b/60),b=Math.floor(b%60);0!==d&&(d=(10>d?"0"+d:d)+":");return d+(10>b?"0"+b:b)+":"+(10>a?"0"+a:a)},convertISOToDateObject:function(a){var b={},d=a.split("T"),a=d[0].split("-"),
d=d[1].split("+")[0].split(":");b.year=a[0];b.month=a[1];b.day=a[2];b.hours=d[0];b.minutes=d[1];b.seconds=d[2];b.totalTimeInSeconds=3600*b.hours+60*b.minutes+b.seconds;return b},postMidrollContentResumedListener:function(){var c=(new Date).getTime();if(a.currentTime()>a.ign.ads.midrollSeekComplete&&(a.ign.ads.log("midrollSeekCompleteTime : "+c),a.ign.ads.log("Triggering : MIDROLL_CONTENT_RESUME GA event"),a.off("timeupdate",a.ign.ads.postMidrollContentResumedListener),a.bcc.trigger(a.bcc.events.MIDROLL_CONTENT_RESUME,
c-a.ign.ads.midrollSeekStartTime),a.ign.ads.log("Content started after Midroll in : "+(c-a.ign.ads.midrollSeekStartTime)+" milliseconds"),a.hls)){a.ign.ads.log("Resuming cues polling from postMidrollContentResumedListener");var c=a.textTracks(),b,d;for(d=0;d<c.length;d++)b=c[d],b=b.cues.length,a.ign.ads.checkedCueIndex[d]=b-1;!a.ign.ads.isPolling&&a.ign.ads.pollForCues()}},postMidrollSeekCompleteListener:function(){a.off("seeked",a.ign.ads.postMidrollSeekCompleteListener);a.ign.ads.midrollSeekComplete=
a.currentTime();a.ign.ads.log("Seek Complete : Waiting for timeupdate event to confirm content started");a.on("timeupdate",a.ign.ads.postMidrollContentResumedListener)},jumpToLive:function(){if("undefined"!==typeof a.hls&&a.hls.playlists.media().endList)a.ign.ads.log("EndList found : Not a live stream");else{var c=a.seekable();a.ign.ads.log("Seekable time range start: "+c.start(0));a.ign.ads.log("Seekable time range end: "+c.end(0));c=c.end(0);a.ign.ads.log("Seek time: "+c);a.currentTime(c)}},scrubByAdPodDuration:function(){var c=
a.ign.ads.midrollPodDuration/1E3;if("undefined"!==typeof a.hls&&a.hls.playlists.media().endList)a.ign.ads.log("EndList found : Not a live stream");else{var b=a.seekable();a.ign.ads.log("Player current time : "+a.currentTime());a.ign.ads.log("Seekable time range start: "+b.start(0));a.ign.ads.log("Seekable time range end: "+b.end(0));var b=b.end(0),d=b-a.currentTime();d>c&&(b-=d-c,a.ign.ads.log("Available Content To Scrub ("+d+")is more than ad pod duration ("+c+"). One of the following : Ad pod is small and less than normal scrub range / User stream is lagging / he had paused the livestream. New seekTime = "+
b));a.ign.ads.log("scrubByAdPodDuration: Seek time: "+b);a.currentTime(b);a.ign.ads.midrollSeekStartTime=(new Date).getTime();a.ign.ads.log("midrollSeekStartTime : "+a.ign.ads.midrollSeekStartTime);a.on("seeked",a.ign.ads.postMidrollSeekCompleteListener)}},onMidrollStart:function(){if(1===a.bcc.getVideo().live&&a.ign.ads.midrollsActive&&(a.ign.ads.log("Triggering : MIDROLL_POD_START GA event"),a.bcc.trigger(a.bcc.events.MIDROLL_POD_START,a.ign.ads.midrollPodDuration),a.ign.ads.log("Midroll start : Player current time = "+
a.ign.ads.convertSecondsToTimeFormat(a.currentTime())),a.ign.ads.midrollStartTime=a.currentTime(),a.hls)){var c=(a.hls.playlists.media().mediaSequence-1)*a.hls.playlists.media().segments[0].duration;a.ign.ads.log("ID3 Ad Cue Point in Stream was at : "+a.ign.ads.convertSecondsToTimeFormat(c))}},onMidrollComplete:function(){a.ign.ads.midrollsActive&&1===a.bcc.getVideo().live?(a.ign.ads.midrollsActive=!1,a.ign.ads.log("Triggering : MIDROLL_POD_COMPLETE GA event"),a.bcc.trigger(a.bcc.events.MIDROLL_POD_COMPLETE,
a.ign.ads.midrollPodDuration),a.ign.ads.isMobile.any()?(a.ign.ads.log("Mobile browser. So no scrubbing is performed to jump to live!"),a.ign.ads.midrollSeekStartTime=(new Date).getTime(),a.ign.ads.log("midrollSeekStartTime : "+a.ign.ads.midrollSeekStartTime),a.on("seeked",a.ign.ads.postMidrollSeekCompleteListener)):(a.ign.ads.log("Ad complete : Scrub by ad pod duration in Live content. Current time being updated FROM "+a.currentTime()),a.ign.ads.scrubByAdPodDuration(),a.ign.ads.log("Ad complete : Scrub by ad pod duration in Live Content. Current time updated TO "+
a.currentTime()))):(a.ign.ads.log("Ad complete : Non-Midroll Video Ad"),a.bcc.video.autoplay&&a.bcc.video.muted&&a.bcc.trigger(a.bcc.events.MILESTONE,0))},log:function(c){console&&console.log&&a.ign.ads.debug&&("string"!==typeof c?console.log("Midrolls Obj : ",c):console.log("Midrolls Log : "+c))}}};if(1===a.bcc.getVideo().live)a.ign.ads.debug=0<=(top===self?location.href:document.referrer).search("debugmidrolls=true")?!0:!1,"undefined"!==typeof a.bcc.video.adTag&&a.bcc.video.adTag&&"us"===a.bcc.video.geo?
(a.ign.ads.log("Normal US user : Midrolls are initialized"),a.ign.ads.midrollsInit()):a.ign.ads.log("Prime user / User with geo '"+a.bcc.video.geo+"' : Midrolls are NOT initialized");return a.bcc};(function(q,r,s){s.plugin("bcc",function(a){var b=this,c=f(b.el()),i=c.parent(),d=function(){var e={},j={VIDEO_CHANGE:"VIDEO_CHANGE",INITIAL_PLAY_REQUEST:"INITIAL_PLAY_REQUEST"},m=function(a){var c,b,d,e=arguments.length;for(b=1;b<e;b++)for(d in c=arguments[b],c)c.hasOwnProperty(d)&&(a[d]=c[d]);return a},
U=function(a){var c,a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");c=RegExp("[\\?&]"+a+"=([^&#]*)");a=c.exec(location.search);return null==a?"":decodeURIComponent(a[1].replace(/\+/g," "))},h=function(){d.settings.debug&&console&&"function"===typeof console.log&&("function"===typeof console.log.apply?console.log.apply(console,arguments):console.log(arguments))},n={Android:function(){return navigator.userAgent.match(/Android/i)},iPhone:function(){return navigator.userAgent.match(/iPhone|iPod/i)},iPad:function(){return navigator.userAgent.match(/iPad/i)},
any:function(){return n.Android()||n.iPhone()||n.iPad()}},u=function(a,c){var b,d,e=c.length,l=[],h=f("body"),p=a.attr("class");for(b=0;b<e;b++)d=a.clone(),d.removeClass(p),l.push(d),d.addClass(c[b]),h.append(d),d.hide();setTimeout(function(){for(b=0;b<e;b++)l[b].remove()},3E3)},l=function(a){var c="video/mp4";-1<a.src.indexOf("m3u8")&&(c="application/x-mpegURL");h(a);b.pause();d.video=a;b.src({src:a.src,type:c});b.poster(a.poster);d.trigger(j.VIDEO_CHANGE)},p=a.debug=a.debug||"true"===U("debug");
return{events:j,debug:p,log:h,extend:m,getQueryArg:U,settings:m({},a),bind:function(a,c,b){e[a]||(e[a]=[]);e[a].push({handler:c,priority:b||0});e[a].sort(function(a,c){return a.priority>c.priority?-1:1})},unbind:function(a,c){var b,d=e[a];if(null!=d)for(b=d.length-1;-1<b;b--)d[b].handler==c&&d.splice(b,1)},trigger:function(a,b){var d,f,l,p=e[a],n={type:a,data:b};if(i.data("isIframe")&&"false"!==i.data("isIframe")){d=i.data("targetOrigin").length?i.data("targetOrigin"):q.location!=q.parent.location?
r.referrer:r.location;try{parent.postMessage({method:a,data:b},d)}catch(j){h(j)}}c.trigger({type:a,details:b});h("Event: "+a,b);if(null!=p){f=p.length;for(d=0;d<f&&!(l=p[d].handler,!1===l.apply(l,[n]));d++);}},isMobile:n,find:function(a){return b.el().querySelector(a)},loadVideo:function(a){l(a);b.play()},cueVideo:l,getVideo:function(){return d.video},formatTime:function(a){var c,b;c=function(a){return 10<=a?a:"0"+a};b=c(Math.floor(a/60));a=c(Math.floor(a%60));return b+":"+a},preloadStates:u,preloadButtonStates:function(a,
c){var b,d,e=["on","down"];if(c){d=c.length;for(b=0;b<d;b++)e.push(c[b]),e.push(c[b]+" on"),e.push(c[b]+" down")}u(a,e)},updateLayout:function(){d.MediaControls.updateLayout()},videoPlayer:b}}();if(d.debug){if(!q.bcc)q.bcc=[];d.id=q.bcc.length;q.bcc.push(d)}var j=d.settings.modules||{};this.bcc=d;for(var e in j)d[e]=this[e](j[e])})})(window,document,videojs);(function(f,r,s){s.plugin("Storage",function(){var a=this.bcc.log;return{getLocalStorage:function(b){var c=null;a("retrieving from local storage: "+
b);try{c=localStorage.getItem(b)}catch(f){a("   localStorage not available.")}a("   "+b+": "+c);return c},setLocalStorage:function(b,c){a("setting in local storage: "+b+" / "+c);try{localStorage.setItem(b,c)}catch(f){a("   localStorage not available.")}},removeLocalStorage:function(b){a("removing from local storage: "+b);try{localStorage.removeItem(b)}catch(c){a("   localStorage not available.")}},getSessionStorage:function(b){a("retrieving from session storage: "+b);var c=null;try{c=sessionStorage.getItem(b)}catch(f){a("   sessionStorage not available.")}a("   "+
b+": "+c);return c},setSessionStorage:function(b,c){a("setting in session storage: "+b+" / "+c);try{sessionStorage.setItem(b,c)}catch(f){a("   sessionStorage not available.")}}}})})(window,document,videojs);(function(q,r,s){s.plugin("MediaControls",function(a){var b=this,c=b.bcc,i=f(f(b.el())),d=i.parent(),j,e=c.videoPlayer,g,o,m,U,h,n,u,l,p,M=c.formatTime,v=c.log,N=c.Storage.getLocalStorage("resolution"),k,s,Y,S,G,F,V=c.isMobile.Android(),E=c.isMobile.any(),T=c.isMobile.iPad(),ka=c.isMobile.iPhone(),
ea,Qa,fa=0,la=!1,oa=!1,A=!1,pa=!1,w=!1,H=!1,qa=!1,ra=!1,sa=!1,ba=!1,za=!1,Aa=!0,ta=0,ma=0,y=Math.round(e.duration()),B=y,W=0,x=0,Ba=0,I=f(c.find(".vjs-control-bar")),O,P,Ra=0,Ca=0,Sa=0,Da=!0,Z=f('<div id="player-chrome" />'),C=f('<div id="play-button" />'),J=f('<div id="video-title" />'),D=f('<div id="timecode" />'),K=f('<div id="rendition-selector" />'),z=f('<ul id="rendition-panel" class="ign-fade" />'),t=f('<div id="volume-control" class="volume-100" />'),Q=f('<div id="playhead-holder" />'),ca=
f('<div id="playhead-filled-track" />'),Ea=f('<div id="playhead-buffer-track" />'),ha=f('<div id="playhead-track" />'),ia=f('<div id="playhead-knob" />'),$=f('<div id="full-screen" />'),Ta=f('<div class="title-column" />'),Ua=f('<div class="play-column" />'),ua=f('<div class="settings-column" />'),L=f('<span class="tooltip ign-fade" />'),va=f('<div class="tooltip-hover-area" />'),X=f('<div class="video-share-button" />'),Va=f('<canvas id="bcc-error-screen" class="error-screen-container"></canvas>'),
wa,Fa=!1,Ga=function(){if(!Fa)b.cleanUpViewTimeTracker&&b.cleanUpViewTimeTracker(),b.cleanUpViewTimeTracker=ub(),Fa=!0,b.one("ended",function(){Fa=!1})},ub=function(){var a,b;function d(){e.off("play",d);e.on("pause",f);e.off("adend",d);e.on("adstart",f);h=new Date}function f(){e.off("pause",f);e.on("play",d);e.off("adstart",f);e.on("adend",d);p+=new Date-h;h=null}function l(){clearInterval(g);e.off("play",d);e.off("pause",f);e.off("adstart",f);e.off("adend",d)}var h=null,p=0;b=c.events.VIDEO_PLAY_10S;
a=c.events.VIDEO_PLAY_3S;var g=setInterval(function(){if(null!==h){var d=p+(new Date-h);3E3<d&&a&&(c.trigger(a),a=null);1E4<d&&b&&(c.trigger(b),b=null,l())}},200);d();return l},Wa=function(){F?(A?g.play():b.play(),R()):c.trigger(c.events.INITIAL_PLAY_REQUEST)},Xa=function(){if(b[b.adPlugin]&&(k.adTag=d.attr("data-ad-tag"),!("undefined"!==typeof ChessKit&&ChessKit.data&&ChessKit.data.adsDisabled&&"true"===ChessKit.data.adsDisabled||""===k.adTag))){if("undefined"!==typeof _zd_il&&1===_zd_il)k.adTag=
k.adTag.replace(/&cust_params(\=[^&]*)?(?=&|$)?(&|$)/i,"&cust_params$1%26sp.block%3Dil$2");var a={pluginName:"SMPlugin",serverUrl:k.adTag,prerollTimeout:b.smOptions.prerollTimeout,debug:c.debug,appKey:b.smOptions.appKey,clientId:b.smOptions.clientId};navigator.userAgent.toLowerCase();var e=ChessKit.util.checkForFlash(),f=ChessKit.util.getAblResult(),e=e.enabled&&!e.blocked;if(!0!==f||e){a.adTechOrder=["html5","flash"];d.siblings(".click-tracker").length?(v("Registering click-tracker element"),a.clickTrackingElement=
b.clickTracker=d.siblings(".click-tracker")[0]):v("NOT Registering click-tracker element");if(b.ima3&&(c.isMobile.Android()||!1===f))b.adPlugin="ima3";b[b.adPlugin](a)}}},Ya=function(){for(var a=j,c=a.createImageData(a.canvas.width,a.canvas.height),b=new Uint32Array(c.data.buffer),d=b.length,e=0;e<d;)b[e++]=(255*Math.random()|0)<<24;a.putImageData(c,0,0);pa&&requestAnimationFrame(Ya)},Za=function(a,c){var b,e,l,h="height",g=a.assets,k=g.length,i=N,c="undefined"!==typeof c?c:!1;v(g);null==i?(h="bitrate",
i=d.data("bitrate"),void 0==i?v("choosing lowest encoding"):v("desired encoding: "+i)):v("desired resolution: "+i);g.sort(function(a,c){return a.bitrate>c.bitrate?1:-1});if("In Feed Video"===d.data("playerContext")&&-1<d.data("playback-mode").indexOf("muted")&&!E)p=f.extend({},g[0]);else{l=f.extend({},g[0]);if(void 0!=i){i=parseInt(i,10);for(b=0;b<k;b++)if(e=g[b],e[h]<=i)l=f.extend({},e);else break}p=l}b="undefined"!==typeof p.url&&0>p.url.indexOf("assets5.ign.com")&&0>p.url.indexOf("assets6.ign.com")&&
0>p.url.indexOf("assets7.ign.com")?!1:!0;1!=fa&&a.m3uUrl&&(!c||b)?p.url=a.m3uUrl+"?b=400-&__b__="+parseInt(f.trim(p.bitrate))/1E3:fa=1;v(p);return p},db=function(){I.empty();I.removeClass("vjs-control-bar").addClass("ign-control-bar");I.wrap('<div class="ign-controls-overlay"><div class="ign-control-bar-container" /></div>');O=f(c.find(".ign-controls-overlay"));P=f(c.find(".ign-control-bar-container"));I.append(Q,Z);O.bind("click",Ha);P.bind("click",function(a){a.stopImmediatePropagation()});T&&(ua.addClass("ipad"),
Z.addClass("ipad"));E&&(Z.css("margin-top","12px"),I.height("59px"),P.height("59px"));Z.append(Ta,Ua,ua);C.append('<div class="play-button-icon" />');Ua.append(C);c.preloadButtonStates(C,["pause-button","replay"]);C.bind("click",Ha);Ta.append(J,D);da();k.live&&!w?ja():D.bind("click",Ia);K.append('<div class="rendition-selector-icon" />');$.append('<div class="fullscreen-icon" />');T?ua.append(K,$,z):(t.append('<div class="volume-control-icon" />'),ua.append(K,t,$,z));$a();c.preloadButtonStates(K);
c.preloadButtonStates($,["minimize"]);K.addClass("ad");T?($.bind("click",vb),f(c.find("video")).bind("webkitendfullscreen",wb)):($.bind("click",xb),yb());zb();O.append(X);X.append('<span class="icon icon-sharrow"></span>');X.bind("click",Ab);X.bind("mouseover",ab);X.bind("mouseout",bb);Ja();b.on("mouseout",cb)},zb=function(){Q.append(ha,Ea,ca,L,ia);i.append(va);Q.bind("mouseenter",Bb);Q.bind("mouseleave",Cb);ia.bind("mousedown touchstart",Db);h=ia.width();n=ha.width()-h;ca.width(0);Ea.width(0);L.html("00:00");
va.hover(function(){eb()});I.hover(function(){eb()})},eb=function(){L.toggleClass("tooltip-transition");L.toggleClass("ign-fade");setTimeout(function(){L.toggleClass("tooltip-transition")},200)},$a=function(){var a,c,b,d,e=k.assets;a=e.length;e.sort(function(a,b){return a.bitrate>b.bitrate?1:-1});z.empty();for(a-=1;-1<a;a--)b=e[a],d=b.height,b.label=2160!==d?d:"4K/UHD",c="",720<=d&&2160>d?(b.label+="p",c="<span class='hd-icon'>HD</span>"):b.label+=" ",60===Math.round(b.frameRate)&&(b.label+="60"),
z.append("<li class='rendition'><a href='#' data-id='"+a+"'>"+b.label+c+"</a></li>"),p.bitrate==b.bitrate&&z.children().last().addClass("selected");z.children("li").bind("click touchstart",Eb)},yb=function(){var a,b;c.preloadButtonStates(t,"volume-0,volume-25,volume-50,volume-75,volume-100,mute,mute-25,mute-50,mute-75,mute-100".split(","));t.hover(function(){f(this).addClass("on")},function(){e.muted()?(f(this).removeClass(b),f(this).addClass("mute")):(a=100*e.volume(),f(this).removeClass("on"),f(this).removeClass(b),
f(this).addClass("volume-"+a))});t.mouseenter(function(){Sa=t[0].getBoundingClientRect().left});t.mousemove(function(a){b=t.attr("class");f(this).offset();W=a.pageX-Sa;t.removeClass(b);25<W&&30>=W?e.muted()?t.addClass("mute-25 on"):t.addClass("volume-25 on"):30<W&&35>=W?e.muted()?t.addClass("mute-50 on"):t.addClass("volume-50 on"):35<W&&40>=W?e.muted()?t.addClass("mute-75 on"):t.addClass("volume-75 on"):40<W?e.muted()?t.addClass("mute-100 on"):t.addClass("volume-100 on"):e.muted()?t.addClass("mute on"):
t.addClass("volume-0 on")});t.bind("click",Fb)},Ja=function(){var a=d.width(),b=d.attr("class"),c=e.isFullscreen();d.removeClass(b);d.addClass("video-widget-container");960<=a||c?d.addClass("size-960"):640<=a&&960>a?d.addClass("size-640"):500<=a&&640>a?d.addClass("size-500"):400<a&&500>a?d.addClass("size-400"):400>a&&!c&&d.addClass("size-mini")},fb=function(a){a=Math.max(0,Math.min(n,a));ca.width(a+h/2);ia.css("left",a)},Gb=function(){if(e.hls)if(0!==e.duration())e.play();else e.one("loadedmetadata",
function(){e.play()});else e.play()},Ha=function(){w&&g?(A?g.pause():g.play(),A=!A,R()):G?H?e.pause():e.play():c.trigger(c.events.INITIAL_PLAY_REQUEST)},R=function(){w&&g?g.paused()?C.removeClass("pause-button"):C.addClass("pause-button"):H?C.addClass("pause-button"):C.removeClass("pause-button")},La=function(a,b){!w&&!pa&&(b||!z.hasClass("ign-fade")?(z.unbind("mouseover",xa),z.unbind("mouseout",Ka),clearTimeout(l),z.addClass("ign-fade"),setTimeout(function(){z.hide()},500)):(z.removeClass("ign-fade"),
setTimeout(function(){z.show()},500),z.bind("mouseover",xa)))},gb=function(a,b){var c=Math.ceil(L.width()/2),d=Math.round(n-c);isNaN(a)?L.html(M(0)):L.html(M(a));b<c?L.css("left",0):b+c-h>d?L.css({left:"",right:0}):L.css("left",b-c)},da=function(){if(w)J.html("Advertisement, please wait");else{k=c.getVideo();var a=d.data("videoSeries"),b=d.data("titleWithoutSeries"),e=d.data("brandedPlaylistSlug"),f=d.data("canonical");J.html("undefined"!==typeof b&&b.length?b:k.title);J.unbind("click");k.url&&(J.wrapInner('<a href="../../../../../../oystatic.ignimgs.com/cache/js/34/a7/'+
k.url+'" target="_blank"></a>'),J.bind("click",function(){c.trigger(c.events.TITLE_LINK_CLICK)}));"undefined"!==typeof e&&e.length&&J.prepend('<a class="branded-series-title hover-card-pvp" href="/watch/'+e+'" data-hover-card-canonical="'+f+'" target="_blank">'+a+"</a><span> - </span>");k.live?I.addClass("live"):I.removeClass("live")}},ja=function(a){k.live&&!w?D.html("LIVE"):D.html(a)},Hb=function(){e.isFullscreen()?($.addClass("minimize"),V&&D.addClass("android-fs"),S=!1):($.removeClass("minimize"),
V&&D.removeClass("android-fs"));e.isFullscreen()?i.addClass("fullscreen"):i.removeClass("fullscreen");n=ha.width()-h;na();Ja()},xb=function(){w&&g?g.isFullscreen()?g.exitFullscreen():g.requestFullscreen():e.isFullscreen()?e.exitFullscreen():e.requestFullscreen()},vb=function(){F&&(e.off("play",Ma),e.off("pause",Na),oa=H||A?!0:!1,c.find("video").webkitEnterFullscreen(),e.on("play",hb),e.on("pause",ib))},wb=function(){oa?setTimeout(function(){e.play()},500):C.removeClass("pause-button");f(c.find("video")).attr("controls",
"true");f(c.find("video")).removeAttr("controls");e.off("play",hb);e.off("pause",ib);e.on("play",Ma);e.on("pause",Na)},hb=function(){c.find("video").webkitDisplayingFullscreen&&(oa=!0,w&&(A=!0),H=!0)},ib=function(){c.find("video").webkitDisplayingFullscreen&&(oa=!1,w&&(A=!1),H=!1)},Fb=function(){var a=e.volume(),b,c;25>W?e.muted()?(b=100*u,t.toggleClass("mute"),t.toggleClass("volume-"+b),e.muted(!1),w&&g&&(g.muted(!1),g.volume(u)),e.volume(u)):(u=a,e.muted(!0),w&&g&&g.muted(!0),t.addClass("mute")):
(a=t.attr("class"),b=a.indexOf("-"),b=a.substring(b+1),t.toggleClass("volume-"+b),c=b.indexOf(" on"),b=b.substring(0,c),b/=100,e.muted(!1),w&&g&&(g.muted(!1),g.volume(b)),e.volume(b),t.toggleClass(a))},Ib=function(a){ba&&a.stopImmediatePropagation()},Eb=function(a){a.preventDefault();var b=f(this).children("a"),a=k.assets[b.data("id")],l;l="";var h=0,g=0,i=d.data("video").m3uUrl.split(","),b=parseInt(b.data("id"),10),b=isNaN(b)?0:b;do-1==i[h].indexOf("416/")?l+=i[h]+",":g+=1,h++;while(h<=b+1+g);h=
i[i.length-1];-1<h.indexOf("?")&&(h=h.substring(0,h.indexOf("?")));l+=h;v("rendition URL:",l);f(this).siblings().removeClass("selected");f(this).addClass("selected");if(!(N==a.height&&0>e.src().indexOf("m3u8")))return v("----\> new rendition: "+l),N=a.height,c.Storage.setLocalStorage("resolution",N),p=a,Ba=x,ba=!0,qa=H,e.one("loadedmetadata",jb),e.src({src:"",type:"video/mp4"}),Oa({id:k.id,title:k.title,poster:"",src:0==fa&&k.m3uUrl?l:a.url,assets:k.assets,url:k.url,m3uUrl:l,videoSeries:k.videoSeries,
live:k.live},!0),e.posterImage.hide(),La(null,!0),c.trigger(c.events.RENDITION_CHANGE,a.label),!1},xa=function(){clearTimeout(l);z.unbind("mouseover",xa);z.bind("mouseout",Ka)},Ka=function(){l=setTimeout(function(){La(null,!0)},1E3);z.unbind("mouseout",Ka);z.bind("mouseover",xa)},Bb=function(){Ra=Q[0].getBoundingClientRect().left;Q.bind("mousemove",kb)},kb=function(a){Da&&(Da=!1,setTimeout(function(){Da=!0},25),a=Math.min(n,Math.max(0,a.clientX-Ra)),F&&(za=!0,ia.css("left",a-h/2),gb(a/n*y,a-h/2)))},
lb=function(){ka||(n=ha.width()-h,na(),Q.unbind("mousemove",kb));Ja()},Cb=function(){x=Math.round(e.currentTime());isNaN(x)&&(x=0);B=y-B;za=!1;na()},Ia=function(){x=isNaN(x)?0:x;B=isNaN(B)?y:B;(Aa=!Aa)?D.html(M(B)):D.html(M(x))},Ma=function(){G?(H=!0,R()):(cb(),Pa());w?A=!0:w&&!A&&mb();k.live&&!w&&(ca.width(n- -2),Math.round(b.currentTime()))},Jb=function(){var a=this.error();1>a.code?v("Custom error from player handled silently."):(v("Video error has occurred. Error Code : "+a.code),pa=!0,D.hide(),
K.hide(),t.hide(),Q.addClass("bc-hide-element"),X.hide(),J.html("An error has occurred. Code : "+a.code+' <a href="http://www.ign.com/support/contact" target="_blank">Send Feedback?</a>'),i.append(Va),j=r.getElementById("bcc-error-screen").getContext("2d"),Ya(),nb())},Kb=function(){ra=!0;J.html("Catching Up...")},Lb=function(){ra=!1;da();x=Math.round(e.currentTime());B=y-x;ob()},Mb=function(){!ra&&H&&!w&&(sa=!0,J.html("Buffering stream..."))},Na=function(){H=!1;w&&(A=!1);R()},Nb=function(){ca.css("width",
"inherit");w||(T&&c.find("video").webkitDisplayingFullscreen&&c.find("video").webkitExitFullscreen(),d.data("recirc")&&(D.hide(),K.hide(),t.hide(),J.html("Choose Next Video")),nb())},Ob=function(){if(la)ma=Math.round(b.currentTime()),B=Math.max(0,Math.round(y-ma)),ja(M(B));else if(!o){if(w||!k.live)x=Math.round(b.currentTime()),isNaN(x)&&(x=0),na();sa&&(sa=!1,da())}},Pb=function(){var a=c.getVideo();y=Math.round(e.duration());y==Number.POSITIVE_INFINITY&&(y=0);B=y;n=ha.width()-h;!(k&&k.id==a.id)&&
!ba&&(k=a,$a(),da(),ja(M(y)))},jb=function(){var a;ba&&(a=function(){qa&&e.play();e.currentTime(Ba);ba=qa=!1},0!=fa?a():setTimeout(a,500))},Qb=function(){da()},Rb=function(){if(isNaN(y)||0==y)y=Math.round(e.duration()),B=y-e.currentTime()},Sb=function(){X.hide()},Tb=function(){X.show()},Pa=function(a){F||K.bind("click",La);f(".timer-autoplay a, .autoplay-switch a").each(function(){f(this).data("ison")&&f(this).click()});pa=!1;G=F=!0;L.show();C.unbind("click");C.bind("click",Ha);C.removeClass("replay");
da();Va.remove();D.show();K.show();K.removeClass("ad");t.show();Q.removeClass("bc-hide-element");X.show();H=!0;e.play();R();a&&c.trigger(c.events.REPLAY_CLICK)},Ab=function(a){c.trigger("BCC.VIDEO_SHARE_CLICK");a.stopImmediatePropagation()},Ub=function(){if(!T)g=b.ima3.adPlayer;var a=navigator.userAgent.toLowerCase();top!==self&&-1<a.indexOf("safari")&&0>a.indexOf("chrome")&&i.addClass("embed-safari-ad").find("div.vjs-ima3-ad-container div").addClass("embed-safari-ad").find("iframe").addClass("embed-safari-ad")},
Vb=function(){pb();qb();c.trigger("AD_START");b.ign.ads.onMidrollStart()},Wb=function(){mb();c.trigger("AD_END");q.hlaPlayer=b;b.ign.ads.onMidrollComplete()},Xb=function(){pb();if(b.ima3&&b.ima3.adsManager&&b.ima3.adsManager.isCustomClickTrackingUsed()){v("Ad Start : Click tracker used by DFP, displaying");try{b.clickTracker.className="click-tracker active"}catch(a){}}else v("Ad Start : Click tracker NOT used by DFP");b.ign.ads.onMidrollStart()},Yb=function(){if(b.ima3&&b.ima3.adsManager&&b.ima3.adsManager.isCustomClickTrackingUsed()){v("Ad Complete : Click tracker used by DFP, hiding");
try{b.clickTracker.className="click-tracker"}catch(a){}}else v("Ad Complete : Click tracker NOT used by DFP");b.ign.ads.onMidrollComplete()},nb=function(){x=0;B=y;G=!1;ya();H=!1;R();C.addClass("replay");C.unbind("click");C.bind("click",Pa)},qb=function(){A=w=!0;la=!1;if(g){ma=g.currentTime();ta=g.duration();if(!ta){Qa=setTimeout(qb,250);return}clearInterval(ea);ea=setInterval(Zb,1E3)}else la=!0;va.hide();Q.hide();D.addClass("ad");D.unbind("click",Ia);E?(I.height("39px"),P.height("39px"),Z.css("margin-top",
"0px")):(P.css("height","46px"),Z.css({"margin-top":"8px",height:"38px"}));J.html("Advertisement, please wait");f(c.find(".ad-label")).remove();i.append('<div class="ad-label">Advertisement</div>');O.parent().append(P);O.hide();K.addClass("ad");e.muted()&&(g.muted(!0),t.addClass("mute"));if("undefined"!==typeof g&&"function"===typeof g.paused&&g.paused())var a=setInterval(function(){g.paused()||(R(),clearInterval(a))},200);R()},mb=function(){A=w=!1;va.show();Q.show();!k.live&&!w&&D.bind("click",Ia);
D.removeClass("ad");clearTimeout(Qa);clearInterval(ea);la=!1;E?(I.height("59px"),P.height("59px"),Z.css("margin-top","12px")):(P.css("height","50px"),Z.css({"margin-top":"4px",height:"38px"}));da();f(c.find(".ad-label")).remove();O.append(P);O.show();K.removeClass("ad");n=ha.width()-h;na();R()},pb=function(){try{if(!b.ign.ads.adResponseTime){b.ign.ads.adResponseTime=(new Date).getTime();var a=b.ign.ads.adResponseTime-b.ign.ads.adRequestTime;c.trigger("BCC.PREROLL_LOADED",a);v("Preroll load time : "+
a)}}catch(d){v("Preroll load time was not tracked. Error : "+d.message)}},ob=function(){w||(Aa&&!isNaN(B)?ja(M(Math.max(0,B))):isNaN(x)||ja(M(x)))},Zb=function(){var a;g&&!la&&(ma=Math.round(g.currentTime()),ta=g.duration(),a=ta-ma,isNaN(a)||ja(M(a)))},Db=function(a){if(!V&&!o&&F)o=!0,m=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.clientX,Ca=ca[0].getBoundingClientRect().left,m-=Ca,fb(m),U=m,r.body.focus(),r.onselectstart=function(){return!1},f(r).bind("mousemove touchmove",
rb),f(r).bind("mouseup touchend",sb)},rb=function(a){U=Math.max(0,Math.min(n,(a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.clientX)-Ca));fb(U)},sb=function(){o=!1;f(r).unbind("mousemove touchmove",rb);f(r).unbind("mouseup touchend",sb);r.onselectstart=function(){return!0};e.currentTime(U/n*y);F&&!G&&(Pa(),e.play())},na=function(){var a=x/y*n,b=e.bufferedPercent();if(!ba&&!w){B=Math.round(y-x);Ea.width(b*n- -2);if(!o&&!za||E)ia.css("left",a),ca.width(a),gb(x,a);ob()}},Oa=
function(a,b){c.cueVideo(a,b)},$b=function(){clearTimeout(Y);clearInterval(s);s=setInterval(function(){tb()},2500)},ya=function(){$b();i.unbind("mousemove touchstart",ya);P.removeClass("ign-fade");O.removeClass("ign-fade")},tb=function(){S||!G||sa||ra||E&&w||(clearTimeout(Y),clearInterval(s),O.addClass("ign-fade"),P.addClass("ign-fade"),i.bind("mousemove touchstart",ya))},cb=function(){clearTimeout(Y);c.find(".ign-controls-overlay:hover")||(Y=setTimeout(tb,300))},ab=function(){S=!0},bb=function(){S=
!1};return function(){var l=d.data("playback-mode"),h=d.data("video");!0==d.data("use-mp4")?(fa=1,v("Playback mode: MP4")):!0==d.data("mp4-fallback")?(fa=2,v("Playback mode: HLS with MP4 fallback")):v("Playback mode: Default HLS");i.width();i.addClass("ign-skin");i.children("div:not(.vjs-control-bar,.vjs-poster,.vjs-big-play-button)").each(function(){f(this).remove()});b.smOptions={appKey:"eyJwdWJsaXNoZXJJZCI6Ijg3IiwiZG9tYWluU2V0IjoiYmxvY2tpbmcifQ==",prerollTimeout:15E3,clientId:"4.0"};var n=d.attr("data-geo");
if(n&&"au"==n)b.smOptions.appKey="eyJwdWJsaXNoZXJJZCI6IjEwMiIsImRvbWFpblNldCI6ImJsb2NraW5nIn0=";else if(n&&"gb"==n)b.smOptions.appKey="eyJwdWJsaXNoZXJJZCI6IjEwMyIsImRvbWFpblNldCI6ImJsb2NraW5nIn0=";b.inFeedAPI={isAdPlaying:function(){return A},pause:function(){A?g.pause():b.pause();R()},play:function(){G||c.trigger("MUTED_CONTENT_START");e.play()}};b.adPlugin="undefined"!==typeof q.SMSdk&&"undefined"!==typeof d.attr("data-ad-tag")&&""!==d.attr("data-ad-tag")?"SMPlugin":"ima3";try{b.mux&&b.mux({data:{property_key:"IGN",
page_type:top!==self?"iframe":"mediavideoplayer"===IGN.pagetype?"watchpage":"",video_id:d.data("video-id"),video_title:d.data("video-title"),video_series:d.data("video-series"),video_is_live:d.data("video-live"),video_stream_type:d.data("video-live")?"live":"on-demand",video_is_autoplay:-1<l.indexOf("autoplay")&&!E,player_name:"IGN Player",player_version:d.data("version"),player_init_time:b.init_time}})}catch(j){}Oa({id:d.data("video-id"),title:d.data("video-title"),poster:d.data("poster"),geo:d.data("geo"),
src:Za(h.assets?h:{assets:h}).url,assets:h.assets?h.assets:h,m3uUrl:h.m3uUrl,objectIds:d.data("objectIds"),url:d.data("video-url"),videoSeries:d.data("video-series"),live:d.data("video-live"),autoplay:-1<l.indexOf("autoplay")&&!E,userInitiated:d.data("user-initiated"),muted:-1<l.indexOf("muted")&&!E,adTag:"undefined"!==typeof ZiffIntl&&ZiffIntl.getVideoAdManager?ZiffIntl.getVideoAdManager(d.data("ad-tag")):d.data("ad-tag")},!1);k=c.getVideo();ka?(f(c.find(".vjs-big-play-button")).show(),f(c.find(".vjs-big-play-button")).addClass("ign-big-play-button"),
f(c.find(".vjs-poster")).show(),e.on("adstart",Xb),e.on("adend",Yb)):(db(),i.bind("mousemove touchstart",ya),I.bind("mouseover",ab),I.bind("mouseout",bb),e.on("play",Ma),e.on("pause",Na),e.on("ended",Nb),e.on("timeupdate",Ob),e.on("loadeddata",Pb),e.on("durationchange",Rb),e.on("fullscreenchange",Hb),e.on("adstart",Vb),e.on("adend",Wb),e.on("adsready",Ub),e.on("error",Jb),e.on("seeking",Kb),e.on("seeked",Lb),e.on("waiting",Mb),e.on("contentupdate",Ib),c.bind(c.events.VIDEO_CHANGE,Qb));q.addEventListener("resize",
lb);c.bind(c.events.INITIAL_PLAY_REQUEST,Gb);c.events.REPLAY_CLICK="BCC.REPLAY_CLICK";c.events.TITLE_LINK_CLICK="BCC.TITLE_LINK_CLICK";c.events.RENDITION_CHANGE="BCC.RENDITION_CHANGE";c.events.RECIRC_OPEN="BCC.RECIRC_OPEN";c.events.RECIRC_CLOSE="BCC.RECIRC_CLOSE";c.events.PREROLL_LOADED="BCC.PREROLL_LOADED";c.events.VIDEO_PLAY_3S="BCC.VIDEO_PLAY_3S";c.events.VIDEO_PLAY_10S="BCC.VIDEO_PLAY_10S";c.events.MIDROLL_POD_START="BCC.MIDROLL_POD_START";c.events.MIDROLL_POD_COMPLETE="BCC.MIDROLL_POD_COMPLETE";
c.events.MIDROLL_CONTENT_RESUME="BCC.MIDROLL_CONTENT_RESUME";c.bind(c.events.RECIRC_OPEN,Sb);c.bind(c.events.RECIRC_CLOSE,Tb);c.bind(c.events.VIDEO_CHANGE,Ga);c.bind(c.events.INITIAL_PLAY_REQUEST,Ga);c.bind("MUTED_CONTENT_START",Ga);c.isAutoplayMuted=!1;(!k.muted||E)&&ChessKit.util.waitForAbl(Xa);E?a.autostart&&Wa():setTimeout(function(){wa=b.inFeedAPI.inFeedPlayer;k.muted&&(e.muted(!0),t.addClass("mute"));if(k.autoplay||a.autostart)if(k.muted){c.isAutoplayMuted=!0;O.hide();if(!wa||!b.inFeedAPI.waitForPlay&&
!IGN.Widgets.InFeedVideo.stitialShowing())c.trigger("MUTED_CONTENT_START"),e.play();i.append(wa?'<div class="muted-autoplay in-feed"><div class="throbber"><span class="pulsar first"> </span><span class="pulsar second"> </span><span class="pulsar third"> </span></div></div>':'<div class="muted-autoplay live" />');f(c.find(".muted-autoplay")).click(function(){c.isAutoplayMuted=!1;e.pause();e.muted(!1);IGN.Widgets&&IGN.Widgets.InFeedVideo&&IGN.Widgets.InFeedVideo.pauseOtherVideoOnPlay(this.parentNode);
k.muted=!1;t.removeClass("mute");O.show();if(wa){if(db(),N){var a,b,d=parseInt(N,10),l=k.assets;for(a=0;a<l.length;a++)b=l[a],b.height<=d&&(p=f.extend({},b));Ba=x;ba=!0;qa=H;e.one("loadedmetadata",jb);e.src({src:"",type:"video/mp4"});Oa({id:k.id,title:k.title,poster:"",src:p.url,assets:k.assets,url:k.url,videoSeries:k.videoSeries,live:k.live},!0);c.trigger(c.events.RENDITION_CHANGE,b.label)}}else Xa();c.trigger(c.events.INITIAL_PLAY_REQUEST);f(this).remove()})}else c.trigger(c.events.INITIAL_PLAY_REQUEST)},
500);return{updateLayout:lb,getVideoRendition:Za,play:Wa,pause:function(){A?g.pause():b.pause();R()}}}(a)})})(window,document,videojs);(function(q,r,s){s.plugin("EndSlate",function(){var a=this,b=a.bcc,c=f(f(a.el())),i=c.parent(),d,j=!1,e=!1,g=f('<div class="end-slate-container" />'),o=f('<div class="end-slate" />'),m,U=function(a){f.ajax({url:a,dataType:"jsonp",success:function(a){if(a&&null==a.error){d=a.response;for(a=0;a<d.length;a++)d[a].adTag=i.data("ad-tag").replace(/(vid=.+?&)|(vid=.+?$)/i,
"vid="+d[a].metadata.videoId+"&");b.log(d);h()}}})},h=function(){var a,e,h,g,n="",k=b.formatTime,j=Math.min(12,d.length);c.width();c.height();for(a=0;a<j;a++)e=d[a],h=e.poster.url.replace("{size}","compact"),g=e.metadata.title,n+="<div class='related-item' data-id='"+a+"'><img src='../../../../../../oystatic.ignimgs.com/cache/js/34/a7/"+h+"' alt='"+g+"' /><div class='related-item-overlay'><div /><p class='related-title'>"+g+"</p><p class='related-duration'>"+k(e.metadata.duration)+"</p></div></div>";o.html(n);i.data("recircVideoChosen",!1);o.children().each(function(){f(this).bind("click",
u)});b.trigger(b.events.VIDEO_RECIRC_START)},n=function(c){var d=c.metadata;d.m3uUrl=c.m3uUrl;o.empty();d.src=b.MediaControls.getVideoRendition(d,!0).url;d.poster=c.poster.url.replace("{size}","grande");d.id=d.videoId;d.adTag="undefined"!==typeof ZiffIntl&&ZiffIntl.getVideoAdManager?ZiffIntl.getVideoAdManager(c.adTag,!0):c.adTag;if(c.adTag&&a[a.adPlugin])if(a[a.adPlugin].settings)a[a.adPlugin].settings.serverUrl=c.adTag,a[a.adPlugin].settings.prerollTimeout=a.smOptions.prerollTimeout,a[a.adPlugin].settings.debug=
b.debug,a[a.adPlugin].settings.appKey=a.smOptions.appKey,a[a.adPlugin].settings.clientId=a.smOptions.clientId;else a[a.adPlugin]({serverUrl:c.adTag,debug:b.debug,prerollTimeout:a.smOptions.prerollTimeout,appKey:a.smOptions.appKey,clientId:a.smOptions.clientId});j=a.ign.ads.adRequestTime=a.ign.ads.adResponseTime=!1;b.cueVideo(d)},u=function(c){a.ign.ads.adRequestTime=a.ign.ads.adResponseTime=!1;if("timer-text"!==c.target.className)if(b.trigger(b.events.VIDEO_RECIRC_CLICK),c=d[f(c.currentTarget).data("id")],
"_self"==c.target){var e=c.metadata.assets[0].bitrate,h;for(h in c.metadata.assets)if(360==h.height){e=h.bitrate;break}c.metadata.playerTrigger="Recirc Click";i.data("bitrate",e).data("recircVideoChosen",!0);n(c)}else q.location=c.target};c.append(g);g.append(o);a.on("play",function(){b.trigger(b.events.RECIRC_CLOSE);e=a.ads&&"ad-playback"==a.ads.state?!1:!0;j=!1;m||(m=!0,o.empty())});a.on("ended",function(){if(!j){var c=i.data("recirc"),d=a.bcc.getVideo().id;0<c.length&&-1==c.indexOf(d)&&(c="http://www.ign.com/apiproxy/videos/"+
d+"/related",i.data("recirc",c));j=!0;m=!1;c&&e&&(b.trigger(b.events.RECIRC_OPEN),U(c));""===c&&b.trigger(b.events.VIDEO_RECIRC_START);a.cleanUpViewTimeTracker&&a.cleanUpViewTimeTracker()}});b.events.VIDEO_RECIRC_START="BCC.VIDEO_RECIRC_START";b.events.VIDEO_RECIRC_CLICK="BCC.VIDEO_RECIRC_CLICK";return{playFirstVideo:function(){a.ign.ads.adRequestTime=a.ign.ads.adResponseTime=!1;if(d&&!i.data("recircVideoChosen"))d[0].metadata.autoplay=!0,d[0].metadata.userInitiated=!1,d[0].metadata.playerTrigger=
"Auto Advance",n(d[0])}}})})(window,document,videojs);(function(q,r,s){s.plugin("AgeGate",function(){var a=this,b=a.bcc,c=b.log,i=f(f(a.el())),d=i.parent(),j=f(b.find(".vjs-poster")),e=f("<div class='age-gate'><div class='age-gate-content vertically'><div class='age-gate-border age-gate-bottom-border'/></div></div>"),g=f("<div class='age-gate-title-bar'><div class='age-gate-title'/><div class='age-gate-border age-gate-title-border'/></div>"),o=f("<div class='age-gate-prompt age-gate-message' />"),
m=f("<div class='age-gate-prompt age-gate-error' />"),q=f("<input class='age-gate-input' placeholder='0' maxlength='2' title=''/>"),h=f("<div class='age-gate-return-message' />"),n,u,l=b.getVideo(),p,r=d.data("agegate"),v=b.isMobile.iPhone(),s=function(){var a=JSON.parse(b.Storage.getLocalStorage("userAge"));a?a.date&&157248E5>Date.now()-a.date?p=parseInt(a.age,10):(c("Age found in localStorage has expired."),G()):(a=b.Storage.getSessionStorage("userAge"))&&(p=parseInt(a,10));c("Age found in storage: "+
p)},k=function(){v||(a.pause(),f(b.find(".ign-controls-overlay")).hide(),setTimeout(function(){a.pause()},100));j.addClass("age-gate-blur");n.html("CONTENT WARNING");m.hide();o.show();e.show();i.css({left:0});q.focus()},aa=function(){e.hide();j.removeClass("age-gate-blur");v?(f(b.find(".iphone-cover")).remove(),f(b.find("video")).height("100%")):f(b.find(".ign-controls-overlay")).show();a.ign.ads.adRequestTime=(new Date).getTime();a.ign.ads.adResponseTime=!1;b.MediaControls.play()},Y=function(){e.is(":visible")||
(k(),setTimeout(function(){a.pause();a.posterImage.show()},100));m.show();o.hide();q.hide();h.hide();u.removeClass("shortened")},S=function(){c("Minimum age for video: "+r);0==r||isNaN(r)?aa():l&&(s(),isNaN(p)?k():F(p));return!1},G=function(){c("Clearing age from localStorage.");b.Storage.removeLocalStorage("userAge")},F=function(a){c("Testing age: "+a);p=parseInt(a,10);isNaN(p)||p<r?(Y(),isNaN(p)||b.Storage.setSessionStorage("userAge",p)):(18<=p&&!b.Storage.getLocalStorage("userAge")&&(c("Storing age in localStorage."),
b.Storage.setLocalStorage("userAge",JSON.stringify({age:p,date:Date.now()}))),aa())},V=function(){b.unbind(b.events.INITIAL_PLAY_REQUEST,V);S();return!1};s();i.append(e);f(b.find(".age-gate-content")).prepend(g,o,m,q,h);o.html("How old are you?");m.html("<strong>Whoops!</strong> Sorry, you may not access this video.");h.html("[PRESS RETURN]");n=f(b.find(".age-gate-title"));u=f(b.find(".age-gate-bottom-border"));q.attr("title","How old are you?");q.bind("keydown",function(a){var b=a.keyCode;-1!==f.inArray(b,
[46,8,9,27,13])||65==b&&!0===a.ctrlKey||35<=b&&39>=b||(a.shiftKey||48>b||57<b)&&(96>b||105<b)&&0!=b&&a.preventDefault()});q.bind("keyup",function(a){var b=q.val();b.length&&!isNaN(parseInt(b,10))?(h.show(),u.addClass("shortened"),13==a.keyCode&&F(b)):(h.hide(),u.removeClass("shortened"))});b.bind(b.events.VIDEO_CHANGE,function(){var a=l;l=b.getVideo();if(a.title!=l.title)r=l.ageGate,S()});v?(i.append("<div class='iphone-cover' />"),f(b.find("video")).height(0),f(b.find(".iphone-cover")).click(function(){f(b.find(".vjs-poster")).hide();
S();f(this).remove()})):b.bind(b.events.INITIAL_PLAY_REQUEST,V,999);return{clearAgeInStorage:G}})})(window,document,videojs);(function(q,r,s){s.plugin("SocialOverlay",function(){var a=this,b=f(f(a.el())),c=b.parent(),i=a.bcc,d=f('<div class="close-social"/>'),j=f('<div class="button-close">×</div>'),e=f('<div class="social-container" />'),g=f('<div class="social-body-container" />'),o=f('<div class="social-feedback-container" />'),m=f('<div class="social-button-container" />'),s=f('<div class="social-textfield-container" />'),
h=f('<div class="social-textfield-container" />'),n=f("<div> <div class='social-facebook' /><div class='social-facebook-hover' /> </div>"),u=f("<div> <div class='social-twitter' /><div class='social-twitter-hover' /> </div>"),l=f("<div><div class='social-reddit' /><div class='social-reddit-hover' /></div>"),p=f("<div><div class='social-gplus' /><div class='social-gplus-hover' /></div>"),M=f("<div><div class='social-feedback' /></div>"),v=f("<div class='social-textfield-label social-unselectable'>LINK</div>"),
N=f("<input name='link' type='text' class='social-textfield-url'>"),k=f("<div class='social-textfield-label social-unselectable'>EMBED</div>"),aa=f("<input name='embed' type='text' class='social-textfield-url'>"),Y=f("<div class='player-version'></div>"),S=function(){var a=i.getVideo(),b=encodeURIComponent(a.url),a=encodeURIComponent(a.title),c="http://www.facebook.com/sharer.php?u={URL}&t={TITLE}".replace("{URL}",b).replace("{TITLE}",a),d="https://twitter.com/share?url={URL}&text={TITLE}".replace("{URL}",
b).replace("{TITLE}",a),e="http://www.reddit.com/submit?url={URL}&title={TITLE}".replace("{URL}",b).replace("{TITLE}",a),h="https://plus.google.com/share?url={URL}".replace("{URL}",b);j.click(G);n.click(function(){T(c)});u.click(function(){T(d)});l.click(function(){T(e)});p.click(function(){T(h)});N.focus(function(){setTimeout(function(){N.select()},100)});aa.focus(function(){setTimeout(function(){aa.select()},100)});f(r).keyup(F);f(q).bind("resize",V)},G=function(){ka()},F=function(a){27==a.keyCode&&
ka()},V=function(){E()},E=function(){var b=400>=a.width()?"hidden":"visible";500>=a.width()?g.addClass("social-body-container-responsive"):g.removeClass("social-body-container-responsive");m.css({visibility:b})},T=function(b){a.pause();q.open(b,"_blank")},ka=function(){f(r).unbind("keyup",F);f(q).unbind("resize",V);e.removeClass("feedback").remove()},ea=function(){var c=i.getVideo().url,d='<iframe src="http://widgets.ign.com/video/embed/content.html?url={URL}" width="468" height="263" scrolling="no" frameborder="0" allowfullscreen></iframe>'.replace("{URL}",
c);if(-1!==c.indexOf("pcmag.com"))c=r.referrer;N.attr("value",c);aa.attr("value",d);a.pause();E();S();b.append(e)};i.log("Social module has been initialized.");d.append(j);m.append(n,u,l,p,M);s.append(v,N);h.append(k,aa);g.append(m,s,h);e.append(d,g,o);e.append(Y.html(c.data("version")));i.bind("BCC.VIDEO_SHARE_CLICK",ea);f(".video-overlay-widget .share-button").on("BCC.VIDEO_SHARE_CLICK",ea)})})(window,document,videojs);(function(f,r,s){s.plugin("ProgressMonitor",function(a){var b=this,c=b.bcc,f,
d=a.milestone||25,j={};b.on("play",function(){f||(f=!0,j={})});b.on("ended",function(){f=!1;c.trigger(c.events.MILESTONE,100)});b.on("timeupdate",function(){var a;a=Math.round(b.currentTime());var g=Math.round(b.duration()),g=Math.round(100*(a/g));if(f&&0!=a)for(a=0;100>a;a+=d)g>=a&&!j[a]&&(j[a]=!0,c.trigger(c.events.MILESTONE,a))});c.events.MILESTONE="BCC.MILESTONE";return{}})})(window,document,videojs);(function(q,r,s){s.plugin("IGNAnalytics",function(){var a=this.bcc,b=a.log,c=function(){var a=
function(a,b){return{ID:a,description:b||"None"}};return{AUTOPLAY_LIVE_VIDEO_VIEW:a(50,"Auto-Play Live Video View"),AUTOPLAY_MUTED_LIVE_VIDEO_VIEW:a(51,"Auto-Play (Muted) Live Video View"),LIVE_VIDEO_VIEW:a(52,"Live Video View"),AUTOPLAY_VIDEO_VIEW:a(53,"Auto-Play Video View"),AUTOPLAY_MUTED_VIDEO_VIEW:a(54,"Auto-Play (Muted) Video View"),VIDEO_VIEW:a(55,"Video View"),VIDEO_CONTEXT:a(60,"Video Context: {PAGE_TYPE}"),VIDEO_SERIES:a(76,"Video Series: {SERIES}"),PLAYER_TYPE_AND_VERSION:a(62,"Video Player: HTML IGN Video Player {PLAYER_VERSION}"),
AUTOPLAY_VIDEO_START:a(70,"Auto-Play Video Start"),AUTOPLAY_MUTED_VIDEO_START:a(71,"Auto-Play (Muted) Video Start"),VIDEO_START:a(72,"Video Start"),AUTOPLAY_LIVE_VIDEO_START:a(73,"Auto-Play Live Video Start"),AUTOPLAY_MUTED_LIVE_VIDEO_START:a(74,"Auto-Play (Muted) Live Video Start"),LIVE_VIDEO_START:a(75,"Live Video Start"),QUARTILE_0:a(0),QUARTILE_25:a(1),QUARTILE_50:a(2),QUARTILE_75:a(3),QUARTILE_100:a(4),VIDEO_RESOLUTION_CHANGE:a(80,"Video Quality, Manual Switch {LABEL}"),VIDEO_RECIRC_START:a(90,
"Video Recirculation Start"),VIDEO_RECIRC_CLICK:a(91,"Video Recirculation Click"),VIDEO_RELOAD:a(92,"Video Reload"),VIDEO_TITLE_CLICK:a(93,"Video Title Click")}}(),i=f(f(this.el())).parent(),d=a.getVideo(),j=!1,e=!1,g=a.events,o=function(a,c){var e=new Image,f="http://zdbb.net/n/rcGeUB35EeOBTBIxOxAUTQ?video_id=Video:{VIDEO}&quartile={QUARTILE}&description={DESCRIPTION}".replace(/(.+)(?:{VIDEO})(.+)(?:{QUARTILE})(.+)(?:{DESCRIPTION})/,"$1"+d.id+"$2"+a+"$3"+c);b("track: "+f);e.onerror=e.onload=function(){e=
null};e.src=f},m=function(){var a;a="";if(!j)j=!0,d.autoplay&&!d.userInitiated&&(a+="AUTOPLAY_"),d.muted&&(d.autoplay&&0>a.indexOf("AUTOPLAY")&&(a+="AUTOPLAY_"),a+="MUTED_"),d.live&&(a+="LIVE_"),a=c[a+"VIDEO_VIEW"],o(a.ID,a.description),a=c.VIDEO_CONTEXT,o(a.ID,a.description.replace("{PAGE_TYPE}",i.data("pagetype"))),a=c.PLAYER_TYPE_AND_VERSION,o(a.ID,a.description.replace("{PLAYER_VERSION}",i.data("version"))),a=c.VIDEO_SERIES,o(a.ID,a.description.replace("{SERIES}",d.videoSeries))},q=function(a){return function(){o(a.ID,
a.description)}};a.bind(g.VIDEO_CHANGE,function(){d=a.getVideo();m()});a.bind(g.MILESTONE,function(b){b=c["QUARTILE_"+b.data];if(!a.isAutoplayMuted){if(!e){var f;f="";!e&&!a.isAutoplayMuted&&(e=!0,d.autoplay&&!d.userInitiated&&(f+="AUTOPLAY_"),d.muted&&(d.autoplay&&0>f.indexOf("AUTOPLAY")&&(f+="AUTOPLAY_"),f+="MUTED_"),d.live&&(f+="LIVE_"),f=c[f+"VIDEO_START"],o(f.ID,f.description))}d.live||o(b.ID,b.description)}});a.bind(g.RENDITION_CHANGE,function(a){var b=c.VIDEO_RESOLUTION_CHANGE;o(b.ID,b.description.replace("{LABEL}",
a.data))});a.bind(g.TITLE_LINK_CLICK,q(c.VIDEO_TITLE_CLICK));a.bind(g.REPLAY_CLICK,q(c.VIDEO_RELOAD));a.bind(g.VIDEO_RECIRC_START,q(c.VIDEO_RECIRC_START));a.bind(g.VIDEO_RECIRC_CLICK,q(c.VIDEO_RECIRC_CLICK));a.bind(a.events.INITIAL_PLAY_REQUEST,m,1E3);this.on("ended",function(){j=e=!1});return{}})})(window,document,videojs);(function(q,r,s){s.plugin("GoogleAnalytics",function(a){var b=this,c=b.bcc,i=c.log,d=function(){var a=function(a,b){return{category:a,value:b}};return{AUTOPLAY_LIVE_VIDEO_VIEW:a("Auto-Play Live Video View",
1),AUTOPLAY_MUTED_LIVE_VIDEO_VIEW:a("Auto-Play (Muted) Live Video View",1),AUTOPLAY_MUTED_LIVE_VIDEO:a("Auto-Play (Muted) Live Video",1),LIVE_VIDEO_VIEW:a("Live Video View",0),AUTOPLAY_VIDEO_VIEW:a("Auto-Play Video View",1),AUTOPLAY_MUTED_VIDEO_VIEW:a("Auto-Play (Muted) Video View",1),AUTOPLAY_MUTED_VIDEO:a("Auto-Play (Muted) Video",1),VIDEO_VIEW:a("Video View",1),VIDEO_CONTEXT:a("Video Context:{PAGE_TYPE}",0),VIDEO_SERIES:a("Video Series:{SERIES}",0),PLAYER_TYPE_AND_VERSION:a("Video Player: IGN video player {PLAYER_VERSION}",
0),PREROLL_LOAD_TIME:a("Pre-roll load time",0),AUTOPLAY_VIDEO_START:a("Auto-Play Video Start",1),AUTOPLAY_MUTED_VIDEO_START:a("Auto-Play (Muted) Video Start",1),VIDEO_START:a("Video Start",1),AUTOPLAY_LIVE_VIDEO_START:a("Auto-Play Live Video Start",1),AUTOPLAY_MUTED_LIVE_VIDEO_START:a("Auto-Play (Muted) Live Video Start",1),LIVE_VIDEO_START:a("Live Video Start",1),QUARTILE_0:a("Video Progress",0),QUARTILE_25:a("Video Progress",25),QUARTILE_50:a("Video Progress",50),QUARTILE_75:a("Video Progress",
75),QUARTILE_100:a("Video Progress",100),VIDEO_COMPLETE:a("Video Complete",0),VIDEO_QUALITY:a("Video Quality",0),VIDEO_PLAY_3S:a("Video Play 3s",1),VIDEO_PLAY_10S:a("Video Play 10s",1),VIDEO_RECIRC_START:a("Video Recirculation Start",0),VIDEO_RECIRC_CLICK:a("Video Recirculation Click",0),VIDEO_RELOAD:a("Video Reload",0),VIDEO_TITLE_CLICK:a("Video Title Click",0),MIDROLL_POD_START:a("Midroll Pod Start",0),MIDROLL_POD_COMPLETE:a("Midroll Pod Complete",0),MIDROLL_CONTENT_RESUME:a("Midroll Content Resume",
0)}}(),j=f(f(b.el())).parent(),e=c.getVideo(),g=!1,o=!1,m=c.events,s=!1!=a.universal,h=function(a,b,c,d){var d=(d||"Video:"+e.id).toString(),c=(c||e.title).toString(),f=[a,d,c,b];i("GA track ("+(s?"Universal":"non-Universal")+"): "+f.join(" | "));var g;switch(a){case "Auto-Play Live Video View":case "Auto-Play (Muted) Live Video View":case "Auto-Play (Muted) Live Video":case "Live Video View":case "Auto-Play Video View":case "Auto-Play (Muted) Video View":case "Auto-Play (Muted) Video":case "Video View":g=
"video-videoPlay";break;case "Video Play 3s":g="video-videoPlay3s";break;case "Video Play 10s":g="video-videoPlay10s";break;case "Pre-roll load time":g="performance-preRollLoadTime";break;case "Video Progress":g="video-videoProgress";break;case "Video Complete":g="video-videoComplete";break;case "Midroll Pod Start":g="ads-midrollsStart";break;case "Midroll Pod Complete":g="ads-midrollsComplete";break;case "Midroll Content Resume":g="ads-midrollsContentResume"}if(g)try{var h="User Initiated",m;"string"===
typeof e.playerTrigger?h=e.playerTrigger:"string"===typeof j.data("playerTrigger")&&""!==j.data("playerTrigger")?h=j.data("playerTrigger"):e.autoplay&&e.muted?h="Auto Play Muted":e.autoplay&&!e.userInitiated&&(h="Auto Advance");m=q.IGN_UA.createVideoObject(e.id,"State 1","undefined"!==typeof e.objectIds?e.objectIds:[],j.data("version"),j.data("playerContext"),h,1===e.live,j.data("playlistSlug")?j.data("playlistSlug"):null);q.IGN_UA.trackEventWithValue(g,b,m)}catch(n){i(n)}try{s?(f.unshift("event"),
f.unshift("send"),ga.apply(ga,f)):(f.unshift("_trackEvent"),q._gaq.push(f))}catch(o){i(o)}try{"undefined"!==typeof ZiffIntl&&ZiffIntl.trackEvent&&ZiffIntl.trackEvent("video",[a,d,c,b])}catch(r){i(r)}},n=function(){var a;a="";if(!g)g=!0,e.autoplay&&!e.userInitiated&&(a+="AUTOPLAY_"),e.muted&&(e.autoplay&&0>a.indexOf("AUTOPLAY")&&(a+="AUTOPLAY_"),a+="MUTED_"),e.live&&(a+="LIVE_"),a=d[a+"VIDEO_VIEW"],h(a.category,a.value),a=d.VIDEO_CONTEXT,top!==self&&-1<r.location.href.indexOf("is_ice_unit=1")?h(a.category.replace("{PAGE_TYPE}",
"ICE Unit"),a.value):h(a.category.replace("{PAGE_TYPE}",j.data("pagetype")),a.value),a=d.PLAYER_TYPE_AND_VERSION,h(a.category.replace("{PLAYER_VERSION}",j.attr("data-version")),a.value),a=d.VIDEO_SERIES,h(a.category.replace("{SERIES}",e.videoSeries),a.value)},a=function(){var a=e.live?d.AUTOPLAY_MUTED_LIVE_VIDEO:d.AUTOPLAY_MUTED_VIDEO;h(a.category,a.value)},u=function(a){return function(){h(a.category,a.value)}};c.bind(m.VIDEO_CHANGE,function(){e=c.getVideo();n()});c.bind(m.MILESTONE,function(a){a=
d["QUARTILE_"+a.data];if(!c.isAutoplayMuted){if(!o){var b;b="";!o&&!c.isAutoplayMuted&&(c.trigger("CONTENT_START"),o=!0,e.autoplay&&!e.userInitiated&&(b+="AUTOPLAY_"),e.muted&&(e.autoplay&&0>b.indexOf("AUTOPLAY")&&(b+="AUTOPLAY_"),b+="MUTED_"),e.live&&(b+="LIVE_"),b=d[b+"VIDEO_START"],h(b.category,b.value))}e.live||h(a.category,a.value)}});c.bind(m.RENDITION_CHANGE,function(a){var b=d.VIDEO_QUALITY;h(b.category,b.value,"Manual Switch",a.data)});c.bind(m.PREROLL_LOADED,function(a){h(d.PREROLL_LOAD_TIME.category,
a.data,null,"Video Player: IGN video player "+j.attr("data-version"))});c.bind(m.MIDROLL_POD_START,function(a){var c=d.MIDROLL_POD_START;b.ign.ads.log("Tracking : MIDROLL_POD_START GA event");h(c.category,a.data)});c.bind(m.MIDROLL_POD_COMPLETE,function(a){var c=d.MIDROLL_POD_COMPLETE;b.ign.ads.log("Tracking : MIDROLL_POD_COMPLETE GA event");h(c.category,a.data)});c.bind(m.MIDROLL_CONTENT_RESUME,function(a){var c=d.MIDROLL_CONTENT_RESUME;b.ign.ads.log("Tracking : MIDROLL_CONTENT_RESUME GA event");
h(c.category,a.data)});c.bind(m.TITLE_LINK_CLICK,u(d.VIDEO_TITLE_CLICK));c.bind(m.REPLAY_CLICK,u(d.VIDEO_RELOAD));c.bind(m.VIDEO_RECIRC_START,u(d.VIDEO_RECIRC_START));c.bind(m.VIDEO_RECIRC_CLICK,u(d.VIDEO_RECIRC_CLICK));c.bind(c.events.INITIAL_PLAY_REQUEST,n,1E3);c.bind(m.VIDEO_PLAY_3S,u(d.VIDEO_PLAY_3S));c.bind(m.VIDEO_PLAY_10S,u(d.VIDEO_PLAY_10S));u=j.data("pagetype");"undefined"!==typeof u&&(("mediavideoplayer"===u||"section"===u||"trailer"===u)&&c.bind(m.VIDEO_RECIRC_START,function(){if("function"===
typeof q.onPlayerWorkflowStateChange)q.onPlayerWorkflowStateChange("PlayerState_Recirculation")}),-1!==["article","wiki","unmatched","watch/watch","Playlist Widget"].indexOf(u)&&c.bind(m.VIDEO_RECIRC_START,function(){var a=r.createEvent("Event");a.initEvent("recircState",!0,!0);j[0].dispatchEvent(a)}));b.on("ended",function(){h(d.VIDEO_COMPLETE.category,Math.floor(b.duration()));g=o=!1});e.muted&&e.autoplay&&a();return{}})})(window,document,videojs);IGN.VideoPlayer.Plugins.PlayerJSAdapter.init(videojs)})(jQuery);
window.addEventListener("load",function(){var a,b=document.getElementsByTagName("script")[0],c=/^http:/.test(document.location)?"http":"https";if(!document.getElementById("twitter-wjs"))a=document.createElement("script"),a.id="twitter-wjs",a.src=c+"://platform.twitter.com/widgets.js",b.parentNode.insertBefore(a,b)});
(function(a){a(document).ready(function(){"undefined"!==typeof IGN.GlobalHeader&&"function"===typeof IGN.GlobalHeader.setLogoScrollThreshold&&IGN.GlobalHeader.setLogoScrollThreshold(a(".content div.ign-logo"));a(".ign-content article a[href$=jpg], .ign-content article a[href$=JPG], .ign-content article a[href$=jpeg], .ign-content article a[href$=JPEG], .ign-content article a[href$=png], .ign-content article a[href$=gif], .ign-content article a[href$=bmp]:has(img)").attr("target",function(){return"_blank"});
var b=decodeURI((/abthid=(.+?)(&|$)/.exec(location.search)||[,null])[1]);"undefined"!==typeof b&&"null"!==b&&a.ajax({url:"/apiproxy/private/hone-track-event",data:{abthid:b}});b=a(".article-byline");a("#article-content p").first().prepend(b);var c=a("#article-punctuation"),d=a("#article-content p").last(),e=a(".accentDivider");e.length?e.prevAll("p").eq(1).append(c):d.append(c);c=a("#related-wiki");d=c.height();b=b.height();0===a(".breakdown-box").length&&c.css("margin-top","-"+(d+b)+"px");a("#article-content div.img-div img[data-original], #article-content iframe[data-original]").unveil(200)})}).call(this,
jQuery);
(function(a){function e(a){a.stopPropagation();a.stopImmediatePropagation();a.preventDefault();b.hasClass("col-2")||b.hasClass("col-3")?(c.html("more shows"),c.removeClass("icon-pointy-before icon-back").addClass("icon-pointy"),b.removeClass("col-2 col-3")):(c.html("fewer shows"),c.removeClass("icon-pointy").addClass("icon-pointy-before icon-back"),0<d[2].length?b.addClass("col-3"):b.addClass("col-2"))}function f(b){a.ajax({url:(b?"https://s.ign.com/widgets/":"http://"+GlobalHeaderOptions.renderDomain+
"/")+"social/shared/evousertools.jsonp?enable_ssl="+b+"&globalheader=true&callback=?",dataType:"jsonp",jsonpCallback:"socialSharedGlobalHeaderUsertoolsCallback",cache:!0,success:function(b){$toolsContainer=a("#user-tools-container");$toolsContainer.html(b);b=$toolsContainer.find(".user-tools");b.fadeIn("fast");b.delegate(".authReturnUrl","click",function(){var b=escape(location.href),c=a(this).attr("href");a(this).attr("href",c+"?r="+b)})}})}var b,d,c;a(document).ready(function(){b=a("#ign-shows .ign-shows-list-container");
a("#ign-shows .more-shows");c=a("#ign-shows .more-shows a");d=[a("#ign-shows .show-column-0"),a("#ign-shows .show-column-1"),a("#ign-shows .show-column-2")];d[1].length&&c.click(e);f(GlobalHeaderOptions.enable_ssl);a("#header-container").removeClass("hidden-opacity")})})(jQuery);
var IGN=IGN||{};
IGN.GlobalHeader=function(a){var f,i;function o(){e=a("header#ign-header");d=a("#header-nav");a("#search-input");j=a("#ign-shows");$ignGrid=a("section.ign-grid");g=a("#header-nav .ign-logo");a("#search-container");f=a("#search-input");i=a("#search-button");d.find(".browse").addClass(navigator.userAgent.match(/iPad/i)?"browse-tablet":"browse-desktop");"undefined"!==typeof IGN.pagetype&&"Profile Video Page"===IGN.pagetype&&d.addClass("fixed");e.addClass("sticky");h=window.getComputedStyle(document.querySelector("header#ign-header")).position.match("sticky");h||
(e.removeClass("sticky"),k(),p(function(){IGNScroll.update("globalheaderDownDynamic").update("globalheaderUpDynamic")}),a("body").bind("sidekickStateChange",q),e.hasClass("start-fixed")&&l());r();a(document).trigger("GlobalHeader.init")}function p(a){setTimeout(function(){"undefined"!==typeof a&&a()},8E3)}function k(){a(window).on("IGNScroll.globalheaderDownDynamic",{threshold:m},l);a(window).on("IGNScroll.globalheaderUpDynamic",{threshold:m,reverse:!0},s)}function m(){return $ignGrid.offset().top}
function l(){d.addClass("fixed");a(document).trigger("GlobalHeader.setFixedState");a("#chaos").addClass("chaosfa")}function s(){d.removeClass("fixed");a(document).trigger("GlobalHeader.setStaticState");a("#chaos").removeClass("chaosfa")}function q(c,b){b.action&&"expand"===b.action?(window.scrollTo(0,0),a(window).off("IGNScroll.globalheaderDownDynamic").off("IGNScroll.globalheaderUpDynamic")):b.action&&"collapse"===b.action&&setTimeout(k,2500)}function t(a){13===a.keyCode&&n()}function n(){var a=
f.val();""===a||"Search"===a?alert("Please type in your search query."):document.location="http://www.ign.com/search?q="+encodeURIComponent(a)}function r(){j.on("mouseover",function(){var c,b;a("#ign-shows .ign-show").each(function(){c=a(this).find(".ign-show-image");c.attr("src",c.data("image"));b=a(this).find(".ign-show-branding");b.attr("src",b.data("image"))})})}var e,d,j,g,h;a(document).ready(function(){o();f.keypress(t);i.click(n)});return{hideLogo:function(){g.addClass("hidden-opacity")},showLogo:function(){g.removeClass("hidden-opacity")},
determineLogoVisibility:function(c){a(window).scrollTop()>c?this.showLogo():this.hideLogo()},setLogoScrollThreshold:function(c){var b=this;a(window).scroll(function(){b.determineLogoVisibility(c.offset().top+c.height())})},isSticky:function(){return h}}}(jQuery);
(function(d){var e,b,c,f,g,h,i,j;function o(a){a.preventDefault();a.stopPropagation();var a=d(this).attr("class").split(/\s+/),b;for(b in a){var c=a[b];if("undefined"!==typeof k[c]){window.open(k[c].url+e.url,"share-"+c,k[c].dimensions);break}}}function p(a){a.preventDefault();d("html").addClass("disable-scroll");d(document).keydown(m);b.removeClass("hidden");c="expanded"}function l(a){a.preventDefault();d("html").removeClass("disable-scroll");b.addClass("hidden");c="collapsed"}function m(a){27===
a.keyCode&&"expanded"===c&&(d(document).unbind("keydown",m),l(a))}function n(a){for(var b in a)a[b]="."+a[b];return d(a.join(","))}e=void 0;b=void 0;c=void 0;f=void 0;g=void 0;h=void 0;i=void 0;j=void 0;var k={reddit:{url:"http://www.reddit.com/submit?url=",dimensions:"width=840,height=464"},twitter:{url:"https://twitter.com/share?url=",dimensions:"width=550,height=520"},facebook:{url:"https://www.facebook.com/sharer/sharer.php?u=",dimensions:"width=626,height=436"},"google-plus":{url:"https://plus.google.com/share?url=",
dimensions:"width=840,height=464"}};d(document).ready(function(){b=d(".social-share-container");e=b.data("shares");f=e.shareHooks.split(",");g=e.openModalHooks.split(",");h=d(".social-button");i=b.find(".button-close");n(f);j=n(g);c="collapsed";"true"===e.modalEnabled&&(h.click(o),j.click(p),i.click(l),b.click(l))})})(jQuery);
(function(b){var j,e,h,c,a,i;function k(){b.each(i.primary,function(a,d){var c=b('<a href="http://www.ign.com/?setccpref='+a+'">           <li class="locale-primary">             <span class="locale-code">'+a+'</span>             <span class="locale-region">'+d.label+"</span>           </li>         </a>");e.append(c)});e.append(b('<li class="locale-dropdown-label">International Editions</li>'));b.each(i.secondary,function(a,d){if("undefined"!==typeof d.regions){f&&console.log(d.regions);var c=b('          <li class="locale-secondary">             <span class="locale-code">'+
a+'</span>             <a class="locale-region locale-regions-primary"   href="../../../../../../oystatic.ignimgs.com/cache/js/34/a7/'+d.regions[0].url+'">'+d.regions[0].label+'</a>             <span class="locale-region-divider"> / </span>             <a class="locale-region locale-regions-secondary" href="../../../../../../oystatic.ignimgs.com/cache/js/34/a7/'+d.regions[1].url+'">'+d.regions[1].label+"</a>           </li>")}else c=b('          <a href="http://www.ign.com/?setccpref='+a+'">             <li class="locale-secondary">               <span class="locale-code">'+a+'</span>               <span class="locale-region">'+
d.label+"</span>             </li>           </a>");e.append(c)});e.append(b('<li class="locale-dropdown-label">More coming soon</li>       <li class="locale-world-ign">         <a class="locale-region" href="http://world.ign.com/">world.ign.com</a>         <span class="locale-region">See </span>       </li>'));a.elem.unbind("click",k);j.click(g);a.elem.click(g);g()}function g(){"collapsed"===c?(b("html").addClass("disable-scroll"),e.removeClass("hidden"),h.removeClass("hidden"),b(document).keydown(l),
f&&console.log("expanding locale selector")):(b("html").removeClass("disable-scroll"),e.addClass("hidden"),h.addClass("hidden"),f&&console.log("collapsing locale selector"));c="collapsed"===c?"expanded":"collapsed"}function l(a){27===a.keyCode&&"expanded"===c&&(b(document).unbind("keydown",l),g(),f&&console.log("Collapsed modal with keyCode="+a.keyCode))}var f=!1;b(document).ready(function(){j=b(".locale-selector-container");e=b(".locale-selector-container .locale-dropdown");h=b(".locale-selector-container .locale-dropdown-bg");
c="collapsed";a={elem:b(".locale-shortcode"),hoverText:b(".locale-shortcode").data("hover-text"),initVal:b(".locale-shortcode").text()};i={primary:{US:{label:"United States"},UK:{label:"United Kingdom"},AU:{label:"Australia"}},secondary:{ZA:{label:"Africa"},AD:{regions:[{label:"Adria",url:"http://adria.ign.com/"},{label:"Slovenia",url:"http://adria.ign.com/sl"}]},AU:{label:"Australia"},NL:{label:"Benelux"},BR:{label:"Brazil"},CA:{label:"Canada"},DK:{label:"Denmark"},FI:{label:"Finland"},FR:{label:"France"},
DE:{label:"Germany"},GR:{label:"Greece"},HU:{label:"Hungary"},IN:{label:"India"},IE:{label:"Ireland"},IL:{label:"Israel"},IT:{label:"Italy"},JP:{label:"Japan"},LA:{label:"Latin America"},AR:{regions:[{label:"En",url:"http://me.ign.com/en"},{label:"Middle East",url:"http://me.ign.com/ar"}]},NO:{label:"Norway"},PK:{label:"Pakistan"},PL:{label:"Poland"},PT:{label:"Portugal"},RO:{label:"Romania"},RU:{label:"Russia"},AP:{label:"Southeast Asia"},ES:{label:"Spain"},SE:{label:"Sweden"},TR:{label:"Turkey"},
UK:{label:"United Kingdom"},US:{label:"United States"}}};a.elem.click(k);a.elem.mouseenter(function(){a.elem.text(a.hoverText)}).mouseleave(function(){a.elem.text(a.initVal)})})})(jQuery);
(function(d){var b,f,h,e,i,g,k,a;function t(){IGN.GlobalHeader.hideLogo();b=d("#spine-container.vertical");b.hasClass("vertical");f="static";h=d("#header-nav").height()||0;b.width();e={$window:d(window),stickySupported:window.getComputedStyle(document.querySelector(".queue-container")).position.match("sticky"),windowInnerHeight:window.innerHeight};i={$elem:d(".cover-card")};g={$elem:b.find(".queue-item.navigation"),$upArrow:b.find(".navigation .scroll-arrow-up"),$downArrow:b.find(".navigation .scroll-arrow-down")};
k={$elem:b.find(".current-content"),articleUrl:b.find(".current-content").data().articleUrl};a={$elem:b.find(".queue-container"),$topItemImage:b.find(".queue-container .top-item-image"),scroll:{$elem:b.find(".queue-scroll-container"),oldScrollTop:0,threshold:5,touchStart:{pageY:null},touchMove:{pageY:null}}};e.stickySupported?u():(m("initialize"),d("body").bind("sidekickStateChange",v));w();g.$upArrow.click(function(){n("up")});g.$downArrow.click(function(){n("down")})}function u(){g.$elem.removeClass("collapsed");
a.$elem.height(e.windowInnerHeight-h);e.$window.resize(function(){e.windowInnerHeight=window.innerHeight;a.$elem.height(e.windowInnerHeight-h);a.scroll.$elem.stop().animate({scrollTop:"0px"},100)});setInterval(function(){if(e.windowInnerHeight!==window.innerHeight)e.windowInnerHeight=window.innerHeight,a.$elem.height(e.windowInnerHeight-h),a.scroll.$elem.stop().animate({scrollTop:"0px"},100)},1E3);o(function(){d(window).on("IGNScroll.spineStickyFixedUp",{threshold:j.bind({state:"fixed"}),reverse:!0},
x.bind({reverse:!0}))});a.scroll.$elem.bind("mousewheel",l)}function m(c){d(window).on("IGNScroll.spineTransitionalDown",{threshold:j.bind({state:"transitional"})},p.bind({reverse:!1})).on("IGNScroll.spineTransitionalUp",{threshold:j.bind({state:"transitional"}),reverse:!0},p.bind({reverse:!0})).on("IGNScroll.spineFixedDown",{threshold:j.bind({state:"fixed"})},q.bind({reverse:!1})).on("IGNScroll.spineFixedUp",{threshold:j.bind({state:"fixed"}),reverse:!0},q.bind({reverse:!0}));"initialize"===c&&(a.$elem.removeClass("sticky"),
g.$elem.removeClass("sticky"),o(r),e.$window.resize(r))}function w(){a.scroll.$elem.bind("touchstart",function(c){c.stopPropagation();a.scroll.touchStart.pageY=c.originalEvent.pageY||null;a.scroll.oldScrollTop=a.scroll.$elem.scrollTop()});a.scroll.$elem.bind("touchend",function(c){if(a.scroll.touchStart.pageY&&a.scroll.touchMove.pageY&&Math.abs(a.scroll.touchStart.pageY-a.scroll.touchMove.pageY)>a.scroll.threshold)c.stopPropagation(),c.preventDefault(),a.scroll.touchStart.pageY=a.scroll.touchMove.pageY=
null});a.scroll.$elem.bind("touchmove",function(c){a.scroll.touchMove.pageY=c.originalEvent.pageY||null;Math.abs(a.scroll.touchStart.pageY-a.scroll.touchMove.pageY)>a.scroll.threshold&&(c.stopPropagation(),c.preventDefault(),a.scroll.$elem.scrollTop(a.scroll.oldScrollTop+a.scroll.touchStart.pageY-a.scroll.touchMove.pageY))})}function n(c){var s=a.scroll.$elem.height(),b=a.scroll.$elem.scrollTop();"up"===c?b-=s:"down"===c&&(b+=s);a.scroll.$elem.stop().animate({scrollTop:b},100,function(){a.scroll.oldScrollTop=
b})}function l(c){var b=a.scroll.$elem.scrollTop();a.scroll.$elem.scrollTop(b-c.deltaY*c.deltaFactor);0<b&&b!==a.scroll.oldScrollTop&&c.preventDefault();a.scroll.oldScrollTop=b}function x(){this.reverse&&0!==a.scroll.$elem.scrollTop()&&a.scroll.$elem.stop().animate({scrollTop:"0px"},100)}function r(){IGNScroll.update("spineTransitionalDown").update("spineTransitionalUp").update("spineFixedDown").update("spineFixedUp")}function p(){setTimeout(function(){!this.reverse&&"static"===f?(a.$elem.addClass("fixed"),
f="transitional",IGN.GlobalHeader.showLogo()):this.reverse&&"transitional"===f&&(a.$elem.removeClass("fixed"),a.scroll.$elem.stop().animate({scrollTop:"0px"},100),f="static",IGN.GlobalHeader.hideLogo())}.bind(this),25)}function q(){!this.reverse&&"transitional"===f?(a.scroll.$elem.bind("mousewheel",l),a.$topItemImage.addClass("collapsed"),g.$elem.removeClass("collapsed"),f="fixed",IGN.GlobalHeader.showLogo()):this.reverse&&"fixed"===f&&(a.scroll.$elem.unbind("mousewheel",l),a.$topItemImage.removeClass("collapsed"),
g.$elem.addClass("collapsed"),a.scroll.$elem.stop().animate({scrollTop:"0px"},100),f="transitional",IGN.GlobalHeader.hideLogo())}function j(){switch(this.state){case "transitional":return i.$elem.offset().top+i.$elem.outerHeight()-k.$elem.outerHeight()-h;case "fixed":return i.$elem.offset().top+i.$elem.outerHeight()-h;default:return 0}}function v(a,b){b.action&&"expand"===b.action?(window.scrollTo(0,0),d(window).off("IGNScroll.spineTransitionalDown").off("IGNScroll.spineTransitionalUp").off("IGNScroll.spineFixedDown").off("IGNScroll.spineFixedUp")):
b.action&&"collapse"===b.action&&setTimeout(m,2500)}function o(a){var b=d("#sugarad-728x90")||null;d("#sugarad-728x90").outerHeight();setTimeout(function(){b.outerHeight();"undefined"!==typeof a&&a()},5E3)}b=void 0;f=void 0;h=void 0;e=void 0;i=void 0;g=void 0;k=void 0;a=void 0;d(document).ready(function(){t()})})(jQuery);
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version: 3.1.11
 *
 * Requires: jQuery 1.2.2+
 */
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.11",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b)["offsetParent"in a.fn?"offsetParent":"parent"]();return c.length||(c=a("body")),parseInt(c.css("fontSize"),10)},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});window.addEventListener("load",function(){"function"===typeof $&&"function"===typeof $.fn.unveil&&$(".lazy_load_img").unveil()},!0);
(function(c){function r(){n.each(function(){var b=c(this),e=b.data("legacyId"),a;if(e)b.on("mouseover",function(s){clearTimeout(g);d||(h=!0,i||(a=c("#user-tools-container .user-tools"),a.length&&(i=a.attr("js-data")?JSON.parse(a.attr("js-data")):{})),f=s,c(window).on("mousemove",j),k[e]?o=setTimeout(function(){p(k[e],b)},500):c.ajax({url:"http://"+l+"/global/page/objectcard.jsonp",dataType:"jsonp",data:{legacyid:e},success:function(a){a=JSON.parse(a);k[e]=a;h&&p(a,b)}}))}).on("mouseout",function(){clearTimeout(o);
c(window).off("mousemove",j);h=!1;g=setTimeout(function(){m()},50)})})}function m(){d&&(d.remove(),d=null)}function j(b){f=b}function p(b,e){c(window).off("mousemove",j);m();d=c(q(b));d.on("mouseover",function(){clearTimeout(g)}).on("mouseout",function(){h=!1;g=setTimeout(function(){m()},50)});c("body").append(d);e.offset();f.clientY<c(window).height()-d.height()?d.css({top:f.pageY+10,left:f.pageX-200}).addClass("arrow arrow-up"):d.css({top:f.pageY-310,left:f.pageX-200}).addClass("arrow arrow-down");
(window.ZIFFDAVIS||{cse:{init:function(){}}}).cse.init(window.jQuery);t()}function t(){var b=d.find(".objectcard-object-follow");if(0<b.length)if(i&&""!==i.nickname){var e=b.data("legacyId");c.ajax({url:"/apiproxy/followmedia/gobid."+e,dataType:"json",success:function(a){!a.error&&0<a.count&&a.entry[0].relationship.amIFollowingThis&&b.data("followed",!0).addClass("following").find(".follow-text").text("Following")}});b.click(function(){var a=b.data("followed");c.ajax({url:"/apiproxy/followmedia/gobid."+
e,dataType:"json",type:"POST",data:{method:a?"DELETE":"POST"},success:function(c){"success"===c.entry&&b.toggleClass("following",!a).data("followed",!a).find(".follow-text").text(a?"Follow":"Following")}})})}else b.click(function(){var a=c(document).find(".ignHeader-authentication a"),b=encodeURIComponent(window.location.href),a="http://"+l+"/social/shared/registration/"+a.attr("js-data")+".jsonp?disable_js=false&r="+b;jQuery.ajax({url:a,dataType:"jsonp",success:function(a){jQuery("body").append(a)}})})}
var k={},n,d,h,q,f,g,o,i,l;_.templateSettings.variable="data";c(document).ready(function(){n=c(".autolink, .hover-link, .title-hover-link");l="undefined"!==typeof IGN&&"undefined"!==typeof IGN.getWidgetDomain?IGN.getWidgetDomain():"widgets.ign.com";q=_.template(c("#hover-card-object-template").html());r()})})(jQuery);
var IGN=IGN||{};IGN.Recommends=function(a){return{init:function(){a("#ign-recommends .image").unveil(200)}}}(jQuery);$(document).ready(function(){IGN.Recommends.init()});
var IGN=IGN||{};IGN.Livefyre=IGN.Livefyre||{};
IGN.Livefyre.Comment=function(f,d){var e,l,a,m=!1,n={_settings:{},init:function(){e=d("#livefyre-comment");l=e.find(".fyre-editor");l.find('[role="textbox"]');$panelTrigger=e.find(".notifications-trigger");a=this._settings=e.data("settings");q();Livefyre.require(["fyre.conv#3","auth"],r)}},r=function(b,c){new b({network:a.networkName,strings:{commentCountLabel:"%s ",commentCountLabelPlural:"%s ",listenerCount:"",listenerCountPlural:"",follow:"+ Follow Thread",unfollow:"- Unfollow Thread",postButton:"Post As "+
(a.user.nickname?a.user.nickname:".."),streamSorting:"",timeMinutesAgo:"min",timeMinutesAgoPlural:"mins",topCommentsContentNotFoundMsg:"Nothing's made it to the top.",streamRefreshMsg:"Go see what's new.",shareLabel:"",sharePermalink:"",archiveShowMore:"Show More Comments",showMore:"Show More Comments",showMoreLiveblog:"Show More Comments"}},[{el:"livefyre-comment",siteId:a.site.id,articleId:a.collection.id,collectionMeta:a.collection.metatoken,checksum:a.collection.checksum,initialNumVisible:10,
initialNumVisibleLegacy:5,datetimeFormat:{minutesUntilAbsoluteTime:20,absoluteFormat:"MMM d y ha"},disableThirdPartyAnalytics:!0}],s);IGN.Livefyre.Comment.auth=c.delegate({login:g(a.socialDomain+"/signin?r="+encodeURIComponent(f.location.href)),logout:g(a.socialDomain+"/signout?r="+encodeURIComponent(f.location.href)),editProfile:g(a.socialDomain+"/private/settings"),viewProfile:function(){}});IGN.Livefyre.Comment.logout=c.logout.bind(c);try{0!==a.user.authtoken.length&&a.user.authtoken.trim()&&(c.authenticate({livefyre:a.user.authtoken}),
m=!0)}catch(d){e.addClass("user-logged-out").delegate(".fyre-post-button-new, .fyre-post-button-reply, .fyre-comment-like-btn, .fyre-comment-reply, .fyre-flag-link","click",i(a)).delegate(".fyre-editor","focusin",i(a))}},g=function(b){return function(c){"function"===typeof c&&c(null);f.location.href=b}},i=function(b){return"mobile"===b.layout?function(){f.location.href=b.socialDomain+"/signin?isMobile=true&r="+encodeURIComponent(f.location.href)}:function(){document.querySelector(".ignHeader-authentication .ignHeader-loginLink").click()}},
o=0,j=function(){var b=d(".fyre-comment-article"),c=d("#queen");b.length?(o=0,0===c.length&&b.first().after('<div id="queen" class="chess mob-article"><span class="container-label">advertisement</span></div>'),ChessKit.request.createAndRequestSlot("queen")):5>++o&&setTimeout(j,500)},s=function(b){try{var c=a.collection.id,h=a.collection.title;b.on("commentPosted",k("Community:LiveFyre Comment",c,h,1));b.on("commentLiked",k("Community:LiveFyre Like",c,h,1));b.on("commentShared",k("Community:LiveFyre Share",
c,h,1));b.on("showMore",function(){f.IGN_UA.trackEvent("content-showMoreComments")});b.on("userLoggedIn",function(){"undefined"===typeof a.user.authtoken&&IGN.Livefyre.Comment.logout()})}catch(v){}finally{b.on("commentCountUpdated",t),b.on("initialRenderComplete",function(){$panelTrigger.insertAfter(e.find(".fyre-auth"));u();d(f).trigger("Comment.finishedLoading");ChessKit.request.isMobile&&(j(),d(".fyre-stream-sort-options a").on("click",function(){setTimeout(j,10)}))})}},k=function(b,c,a,d){return function(){igndrones.async.push(function(){igndrones.fireEvent(b,
c,a,d)});f.IGN_UA.trackEvent("community-livefyre"+b.split(" ").pop(),{ga:{event:{collectionId:c,collectionTitle:a}}})}},u=function(){(function(b){var c=new d.Deferred,b=5,a=setInterval(function(){try{0<e.find(".fyre-editor-container iframe").length?(p(e.find(".fyre-editor").first())(),c.resolve(!0),clearTimeout(a)):1>--b&&(c.resolve(!1),clearTimeout(a))}catch(d){c.reject(d),clearTimeout(a)}},200);return c.promise()})().done(function(){d(document).bind("animationstart",function(b){setTimeout(p(d(b.target).parents(".fyre-editor")),
0)})})},p=function(b){return function(){b.attr("data-initialized","true");!1===m?setTimeout(function(){b.find("iframe").remove();b.click(i(n._settings))},0):b.find("iframe").contents().find("head").append("<style>             body {               background: #fff!important;             }             .fyre-editor-field a, .fyre-editor-field a * {               color: #f21818;               text-decoration: underline;               font-style: italic;               font-weight: normal;             }           </style>")}},
t=function(){var b=0,a=setInterval(function(){if(5>=++b)e.find(".fyre-comment-body").not(".collapsed").map(function(b,a){a.internalHeight=d(a).children("div").get().reduce(function(b,a){return b+a.offsetHeight},0);return a}).filter(function(b,a){return a.offsetHeight<a.internalHeight}).addClass("collapsed").one("click",function(){d(this).removeClass("collapsed").addClass("expanded")});else clearInterval(a)},1E3)},q=function(){e.delegate('.fyre-editor [role="textbox"], .fyre-editor .fyre-editor-field-mobile',
"focusin",function(){d(this).parents(".fyre-editor").addClass("focused initialized")}).delegate('.fyre-editor [role="textbox"], .fyre-editor .fyre-editor-field-mobile',"focusout",function(){d(this).parents(".fyre-editor").removeClass("focused")}).delegate(".fyre-comment-author, .fyre-comment-username, .fyre-mention","click",function(b){var a=d(this).attr("href");b.stopImmediatePropagation();b.stopPropagation();b.preventDefault();if("undefined"!==typeof a)f.location=a});d("#user-tools-container").delegate(".logged-in .authReturnUrl",
"click",IGN.Livefyre.Comment.logout)};return n}(window,jQuery);$(document).trigger({type:"LivefyreCommentLoaded"});window.addEventListener("load",IGN.Livefyre.Comment.init.bind(IGN.Livefyre.Comment,igndrones),!1);
var IGN=IGN||{};IGN.External=IGN.External||{};
IGN.External.Optimizely=function(){return{_settings:{},init:function(){var b="",a=document.getElementById("ign-optimizely");"undefined"!==typeof a&&"SCRIPT"!=a.nodeName&&"undefined"!==typeof a.getAttribute("data-project-id")&&(b=a.getAttribute("data-project-id"));if(""!==b){var c="https:"==document.location.protocol?"https://":"http://",a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=c+"cdn.optimizely.com/js/"+b+".js";b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,
b)}}}}();window.addEventListener("load",function(){IGN.External.Optimizely.init()});
(function(e,a,d){var c=e.IGN=e.IGN||{};e._gaq="undefined"===typeof e._gaq?[]:e._gaq;c.jQuery=jQuery;c.jQueryVersions={};e.$j=jQuery;c.registerJQuery=function(b){var f=b.fn.jquery.replace(/\./g,"_");c.jQueryVersions[f]=b};c.registerJQuery(jQuery);c.clampNumber=function(b,f,a){return Math.min(Math.max(f,b),a)};c.truncateNumber=function(b){truncatedNumber="";if(isNaN(b)){if(truncatedNumber=parseInt(b),isNaN(truncatedNumber))throw new TypeError("IGN.truncateNumber expects number, passed <"+typeof b+">"+
b);}else truncatedNumber=b;return truncatedNumber=1E3>truncatedNumber?truncatedNumber.toString():1E6>truncatedNumber?Math.round(truncatedNumber/1E3)+"k":Math.round(truncatedNumber/1E6)+"m"};c.makeSlug=function(b){return b.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")};c.createCookie=function(b,f,g,c){if(g){var d=new Date;d.setTime(d.getTime()+864E5*g);g="; expires="+d.toUTCString()}else g="";a.cookie=b+"="+f+g+";domain="+
("undefined"!==typeof c?c:".ign.com")+";path=/"};c.readCookie=function(b){for(var f=a.cookie.split("; "),g=0;g<f.length;g++)if(f[g].split("=")[0]===b)return f[g];return null};c.readCookieValue=function(b){if(b=this.readCookie(b))return b=b.split("="),b[1]};c.eraseCookie=function(b,f){this.createCookie(b,"",-1,"undefined"!==typeof f?f:".ign.com")};c.getQueryStringParameter=function(b){b=b.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");b=RegExp("[\\?&]"+b+"=([^&#]*)").exec(e.location.search);return null===
b?"":decodeURIComponent(b[1].replace(/\+/g," "))};c.setQueryStringParameter=function(b,f){var a=RegExp(b+"(.+?)(?=&|$)","g"),c=e.location.search;return c=-1!==c.indexOf(b)?c.replace(a,b+"="+f):c+(0<c.length?"&"+b+"="+f:"?"+b+"="+f)};c.stripQueryStringParameters=function(b){return b.split(/[\?\#]/)[0]};c.replaceHistoryState=function(b,f,a){var b="undefined"!==typeof b?b:{},f="undefined"!==typeof f?f:{},a="undefined"!==typeof a?a:"",c="",d;for(d in b)b.hasOwnProperty(d)&&(c=this.setQueryStringParameter(d,
b[d]),e.history.replaceState(f,a,c))};c.clone=function(b){if(null==b||"object"!=typeof b)return b;var a=b.constructor(),c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};c.polarToCartesian=function(b,a,c,d){d=(d-90)*Math.PI/180;return{x:b+c*Math.cos(d),y:a+c*Math.sin(d)}};c.describeArc=function(b,a,c,d,e){var j=this.polarToCartesian(b,a,c,e),b=this.polarToCartesian(b,a,c,d);return["M",j.x,j.y,"A",c,c,0,180>=e-d?"0":"1",0,b.x,b.y].join(" ")};c.isMobilePlatform=function(){var b=navigator.userAgent.match(/(iPod|iPhone|iPad)/);
return null!=navigator.userAgent.toLowerCase().match("android")||null!=b};c.centerElementsWithVariableWidth=function(){d(".util-center").each(function(){d(this).css("position","relative").css("left","50%").css("margin-left","-"+Math.floor(d(this).width()/2)+"px")})};c.getWidgetDomain=function(){return this.widgetDomain?this.widgetDomain:this.widgetDomain=d("body").data("widgetDomain")||"widgets.ign.com"};c.contentUrl=function(b,a,c,d,h){if("undefined"===typeof b||0===b.length)b=e.document.domain;
b="http://"+b;"undefined"!==typeof a&&(b+="/"+a);"undefined"!==typeof d?(a=d.split("T")[0],a.replace("-","/"),b+="/"+a):"undefined"!==typeof h&&(b+="/"+h);"undefined"!==typeof c&&(b+="/"+c);return b};c.replaceURLDomainWithCurrent=function(b){return b.replace(/http.*\.ign\.com/i,c.contentUrl())};c.ajaxLoadVideo=function(b,a,g){if(!("undefined"===typeof b||"undefined"===typeof a)){var i={autoplay:!0,companions:!1,width:"100%",height:"100%"};d.extend(i,b);d.ajax({url:"http://"+c.getWidgetDomain()+"/video/embed/content.jsonp",
data:i,dataType:"jsonp",success:function(b){var c=a.find(".video-js");"undefined"!==typeof e.videojs&&c.length&&c.each(function(){e.videojs(d(this)[0]).dispose()});a.html(b);"function"===typeof g&&g.call()}})}};c.sendAjaxCall=function(b,a,c,e,h){"undefined"===typeof e&&(e=function(b){return b});"undefined"===typeof h&&(h=function(b,a,c){"abort"!==a&&console.error(b,a,c)});return d.ajax({url:b,dataType:c,data:a,success:e,error:h})};c.reloadCommentCounts=function(b,a){a="function"===typeof a?a:function(b){return b};
try{LF.CommentCount({replacer:function(c,d){c.innerHTML=b||"undefined"===typeof b?a(d)+" Comment"+(1===d?"":"s"):a(d)}})}catch(c){}};c.waitForFinalEvent=function(){c.timers=c.timers||{};return function(b,a,d){d||console.error("Missing param uniqueId in IGN.waitForFinalEvent()");c.timers[d]&&clearTimeout(c.timers[d]);c.timers[d]=setTimeout(b,a)}}();c.getOystaticUrl=function(){var b=e.location.protocol,a=e.location.hostname,a=-1!==a.indexOf("local")?"local.dev.oystatic.ignimgs.com":-1!==a.indexOf("stg")?
"o.stg.oystatic.ignimgs.com/"+a.split(".")[0]+"/static":"oystatic.ignimgs.com/src";return b+"//"+a}})(window,document,jQuery);
var IGNScroll=window.IGNScroll||function(){var e=function(a,d,c,b){switch(!0){case "number"===typeof d:this.threshold=d;this.thresholdFn=null;this.dynamic=!1;break;case "function"===typeof d:var e=d();if("number"===typeof e){this.threshold=e;this.thresholdFn=d;this.dynamic=!0;break}default:throw{error:"IGNScroll: Failure to initialize threshold. Threshold parameter must be a number or a function that returns a number.",parameters:arguments};}this.listener=a;this.reverse=!0===c?!0:!1;this.continuous=
!0===b?!0:!1};e.prototype.update=function(){if(this.dynamic)this.threshold=this.thresholdFn()};return{init:function(a){this.$body=a("body");this._map=this._map||{};this._thresholds=this._thresholds||[];this._state={enabled:!0,debug:!1,delayFrame:!1,lastScrollY:0,observedChange:!1,observerInit:!1,scrollY:window.pageYOffset};a.event.special.IGNScroll={add:function(a){"string"===typeof a.namespace&&"object"===typeof a.data&&IGNScroll.add(a.namespace,a.data.threshold,a.data.reverse,a.data.continuous)},
remove:function(a){"string"===typeof a.namespace&&IGNScroll.remove(a.namespace)}};window.addEventListener("scroll",this._onScroll.bind(this),!1);this._onScroll();this._state.debug&&console.log("DEBUG: IGNScroll initialized");return this},_requestAnimationFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){return window.setTimeout(a,1E3/60)}}(),_onScroll:function(){if(this._state.enabled&&
!this._state.delayFrame)this._requestAnimationFrame.call(window,this._handleEvents.bind(this)),this._state.delayFrame=!0},_handleEvents:function(){this._state.scrollY=window.pageYOffset;if(this._state.scrollY!==this._state.lastScrollY||this._state.observedChange){for(var a=this._thresholds.length;0<a--;)if(!this._thresholds[a].reverse&&(this._thresholds[a].continuous||this._state.lastScrollY<=this._thresholds[a].threshold)&&this._state.scrollY>this._thresholds[a].threshold||this._thresholds[a].reverse&&
(this._thresholds[a].continuous||this._state.lastScrollY>=this._thresholds[a].threshold)&&this._state.scrollY<this._thresholds[a].threshold)this._state.debug&&console.log('IGNScroll::_handleEvents> triggering "IGNScroll.'+this._thresholds[a].listener+'" at '+this._state.scrollY),this.$body.trigger("IGNScroll."+this._thresholds[a].listener);this._state.observedChange=!1}this._state.lastScrollY=this._state.scrollY;this._state.delayFrame=!1},_handleThresholdUpdates:function(a){this._state.scrollY=window.pageYOffset;
this._state.observedChange=!0;if("string"===typeof a&&this._map.hasOwnProperty(a)&&this._map[a].dynamic){var d=this._map[a].threshold>this._state.scrollY;this._map[a].update();d!==this._map[a].threshold>this._state.scrollY&&(this._state.debug&&console.log('IGNScroll::_handleThresholdUpdates> triggering "IGNScroll.'+a+'" at '+this._state.scrollY),this.$body.trigger("IGNScroll."+a))}else for(a=this._thresholds.length;0<a--;)this._thresholds[a].dynamic&&this._thresholds[a].update()},add:function(a,d,
c,b){this._state.debug&&console.log("IGNScroll::add>",a);if("string"===typeof a&&!this._map.hasOwnProperty(a))try{this._map[a]=new e(a,d,c,b),this._thresholds.push(this._map[a])}catch(f){return this._state.debug&&console.log(f),!1}return this},update:function(a){this._state.debug&&console.log("IGNScroll::update>","string"===typeof a?a:"ALL");try{this._handleThresholdUpdates(a)}catch(d){return this._state.debug&&console.log(d),!1}return this},remove:function(a){this._state.debug&&console.log("IGNScroll::remove>",
a);if("string"===typeof a&&this._map.hasOwnProperty(a))try{this._thresholds.splice(this._thresholds.indexOf(this._map[a]),1),delete this._map[a]}catch(d){return this._state.debug&&console.log(d),!1}return this}}}(jQuery);(function(e){e(document).ready(function(){"undefined"!=typeof SVGRect&&e("html").addClass("has-svg");IGN.centerElementsWithVariableWidth();IGNScroll.init(e)})})(jQuery);
if("function"!==typeof Array.prototype.flatMap)try{Object.defineProperty(Array.prototype,"flatMap",{value:function(e){return Array.prototype.concat.apply([],this.map(e))}})}catch(e$$9){};
